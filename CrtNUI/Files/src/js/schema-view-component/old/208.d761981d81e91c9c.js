(self.webpackChunkapp_studio_enterprise_schema_view=self.webpackChunkapp_studio_enterprise_schema_view||[]).push([[208],{52243:function(rt){/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */(function(G,m){rt.exports=m(G)})(typeof global<"u"?global:this,function(G){if(G.CSS&&G.CSS.escape)return G.CSS.escape;var m=function(s){if(arguments.length==0)throw new TypeError("`CSS.escape` requires an argument.");for(var E=String(s),g=E.length,_=-1,p,o="",c=E.charCodeAt(0);++_<g;){if(p=E.charCodeAt(_),p==0){o+="\uFFFD";continue}if(p>=1&&p<=31||p==127||_==0&&p>=48&&p<=57||_==1&&p>=48&&p<=57&&c==45){o+="\\"+p.toString(16)+" ";continue}if(_==0&&g==1&&p==45){o+="\\"+E.charAt(_);continue}if(p>=128||p==45||p==95||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122){o+=E.charAt(_);continue}o+="\\"+E.charAt(_)}return o};return G.CSS||(G.CSS={}),G.CSS.escape=m,m})},11524:(rt,G,m)=>{var s;/*! Hammer.JS - v2.0.7 - 2016-04-22
* http://hammerjs.github.io/
*
* Copyright (c) 2016 Jorik Tangelder;
* Licensed under the MIT license */(function(E,g,_,p){"use strict";var o=["","webkit","Moz","MS","ms","o"],c=g.createElement("div"),i="function",v=Math.round,u=Math.abs,r=Date.now;function t(R,b,Z){return setTimeout(O(R,Z),b)}function n(R,b,Z){return Array.isArray(R)?(e(R,Z[b],Z),!0):!1}function e(R,b,Z){var et;if(!!R)if(R.forEach)R.forEach(b,Z);else if(R.length!==p)for(et=0;et<R.length;)b.call(Z,R[et],et,R),et++;else for(et in R)R.hasOwnProperty(et)&&b.call(Z,R[et],et,R)}function a(R,b,Z){var et="DEPRECATED METHOD: "+b+`
`+Z+` AT 
`;return function(){var at=new Error("get-stack-trace"),ct=at&&at.stack?at.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",ht=E.console&&(E.console.warn||E.console.log);return ht&&ht.call(E.console,et,ct),R.apply(this,arguments)}}var f;typeof Object.assign!="function"?f=function(b){if(b===p||b===null)throw new TypeError("Cannot convert undefined or null to object");for(var Z=Object(b),et=1;et<arguments.length;et++){var at=arguments[et];if(at!==p&&at!==null)for(var ct in at)at.hasOwnProperty(ct)&&(Z[ct]=at[ct])}return Z}:f=Object.assign;var T=a(function(b,Z,et){for(var at=Object.keys(Z),ct=0;ct<at.length;)(!et||et&&b[at[ct]]===p)&&(b[at[ct]]=Z[at[ct]]),ct++;return b},"extend","Use `assign`."),C=a(function(b,Z){return T(b,Z,!0)},"merge","Use `assign`.");function y(R,b,Z){var et=b.prototype,at;at=R.prototype=Object.create(et),at.constructor=R,at._super=et,Z&&f(at,Z)}function O(R,b){return function(){return R.apply(b,arguments)}}function A(R,b){return typeof R==i?R.apply(b&&b[0]||p,b):R}function D(R,b){return R===p?b:R}function I(R,b,Z){e(Y(b),function(et){R.addEventListener(et,Z,!1)})}function U(R,b,Z){e(Y(b),function(et){R.removeEventListener(et,Z,!1)})}function L(R,b){for(;R;){if(R==b)return!0;R=R.parentNode}return!1}function N(R,b){return R.indexOf(b)>-1}function Y(R){return R.trim().split(/\s+/g)}function Q(R,b,Z){if(R.indexOf&&!Z)return R.indexOf(b);for(var et=0;et<R.length;){if(Z&&R[et][Z]==b||!Z&&R[et]===b)return et;et++}return-1}function it(R){return Array.prototype.slice.call(R,0)}function tt(R,b,Z){for(var et=[],at=[],ct=0;ct<R.length;){var ht=b?R[ct][b]:R[ct];Q(at,ht)<0&&et.push(R[ct]),at[ct]=ht,ct++}return Z&&(b?et=et.sort(function(yt,mt){return yt[b]>mt[b]}):et=et.sort()),et}function $(R,b){for(var Z,et,at=b[0].toUpperCase()+b.slice(1),ct=0;ct<o.length;){if(Z=o[ct],et=Z?Z+at:b,et in R)return et;ct++}return p}var W=1;function P(){return W++}function l(R){var b=R.ownerDocument||R;return b.defaultView||b.parentWindow||E}var x=/mobile|tablet|ip(ad|hone|od)|android/i,h="ontouchstart"in E,d=$(E,"PointerEvent")!==p,S=h&&x.test(navigator.userAgent),M="touch",j="pen",B="mouse",F="kinect",V=25,X=1,q=2,nt=4,H=8,z=1,K=2,w=4,k=8,J=16,ot=K|w,st=k|J,ut=ot|st,ft=["x","y"],lt=["clientX","clientY"];function vt(R,b){var Z=this;this.manager=R,this.callback=b,this.element=R.element,this.target=R.options.inputTarget,this.domHandler=function(et){A(R.options.enable,[R])&&Z.handler(et)},this.init()}vt.prototype={handler:function(){},init:function(){this.evEl&&I(this.element,this.evEl,this.domHandler),this.evTarget&&I(this.target,this.evTarget,this.domHandler),this.evWin&&I(l(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&U(this.element,this.evEl,this.domHandler),this.evTarget&&U(this.target,this.evTarget,this.domHandler),this.evWin&&U(l(this.element),this.evWin,this.domHandler)}};function dt(R){var b,Z=R.options.inputClass;return Z?b=Z:d?b=Ut:S?b=Jt:h?b=se:b=Rt,new b(R,pt)}function pt(R,b,Z){var et=Z.pointers.length,at=Z.changedPointers.length,ct=b&X&&et-at===0,ht=b&(nt|H)&&et-at===0;Z.isFirst=!!ct,Z.isFinal=!!ht,ct&&(R.session={}),Z.eventType=b,Ct(R,Z),R.emit("hammer.input",Z),R.recognize(Z),R.session.prevInput=Z}function Ct(R,b){var Z=R.session,et=b.pointers,at=et.length;Z.firstInput||(Z.firstInput=Kt(b)),at>1&&!Z.firstMultiple?Z.firstMultiple=Kt(b):at===1&&(Z.firstMultiple=!1);var ct=Z.firstInput,ht=Z.firstMultiple,gt=ht?ht.center:ct.center,yt=b.center=zt(et);b.timeStamp=r(),b.deltaTime=b.timeStamp-ct.timeStamp,b.angle=Lt(gt,yt),b.distance=At(gt,yt),ie(Z,b),b.offsetDirection=Zt(b.deltaX,b.deltaY);var mt=kt(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=mt.x,b.overallVelocityY=mt.y,b.overallVelocity=u(mt.x)>u(mt.y)?mt.x:mt.y,b.scale=ht?Ft(ht.pointers,et):1,b.rotation=ht?Gt(ht.pointers,et):0,b.maxPointers=Z.prevInput?b.pointers.length>Z.prevInput.maxPointers?b.pointers.length:Z.prevInput.maxPointers:b.pointers.length,re(Z,b);var Ot=R.element;L(b.srcEvent.target,Ot)&&(Ot=b.srcEvent.target),b.target=Ot}function ie(R,b){var Z=b.center,et=R.offsetDelta||{},at=R.prevDelta||{},ct=R.prevInput||{};(b.eventType===X||ct.eventType===nt)&&(at=R.prevDelta={x:ct.deltaX||0,y:ct.deltaY||0},et=R.offsetDelta={x:Z.x,y:Z.y}),b.deltaX=at.x+(Z.x-et.x),b.deltaY=at.y+(Z.y-et.y)}function re(R,b){var Z=R.lastInterval||b,et=b.timeStamp-Z.timeStamp,at,ct,ht,gt;if(b.eventType!=H&&(et>V||Z.velocity===p)){var yt=b.deltaX-Z.deltaX,mt=b.deltaY-Z.deltaY,Ot=kt(et,yt,mt);ct=Ot.x,ht=Ot.y,at=u(Ot.x)>u(Ot.y)?Ot.x:Ot.y,gt=Zt(yt,mt),R.lastInterval=b}else at=Z.velocity,ct=Z.velocityX,ht=Z.velocityY,gt=Z.direction;b.velocity=at,b.velocityX=ct,b.velocityY=ht,b.direction=gt}function Kt(R){for(var b=[],Z=0;Z<R.pointers.length;)b[Z]={clientX:v(R.pointers[Z].clientX),clientY:v(R.pointers[Z].clientY)},Z++;return{timeStamp:r(),pointers:b,center:zt(b),deltaX:R.deltaX,deltaY:R.deltaY}}function zt(R){var b=R.length;if(b===1)return{x:v(R[0].clientX),y:v(R[0].clientY)};for(var Z=0,et=0,at=0;at<b;)Z+=R[at].clientX,et+=R[at].clientY,at++;return{x:v(Z/b),y:v(et/b)}}function kt(R,b,Z){return{x:b/R||0,y:Z/R||0}}function Zt(R,b){return R===b?z:u(R)>=u(b)?R<0?K:w:b<0?k:J}function At(R,b,Z){Z||(Z=ft);var et=b[Z[0]]-R[Z[0]],at=b[Z[1]]-R[Z[1]];return Math.sqrt(et*et+at*at)}function Lt(R,b,Z){Z||(Z=ft);var et=b[Z[0]]-R[Z[0]],at=b[Z[1]]-R[Z[1]];return Math.atan2(at,et)*180/Math.PI}function Gt(R,b){return Lt(b[1],b[0],lt)+Lt(R[1],R[0],lt)}function Ft(R,b){return At(b[0],b[1],lt)/At(R[0],R[1],lt)}var Vt={mousedown:X,mousemove:q,mouseup:nt},Mt="mousedown",Yt="mousemove mouseup";function Rt(){this.evEl=Mt,this.evWin=Yt,this.pressed=!1,vt.apply(this,arguments)}y(Rt,vt,{handler:function(b){var Z=Vt[b.type];Z&X&&b.button===0&&(this.pressed=!0),Z&q&&b.which!==1&&(Z=nt),this.pressed&&(Z&nt&&(this.pressed=!1),this.callback(this.manager,Z,{pointers:[b],changedPointers:[b],pointerType:B,srcEvent:b}))}});var $t={pointerdown:X,pointermove:q,pointerup:nt,pointercancel:H,pointerout:H},xt={2:M,3:j,4:B,5:F},Xt="pointerdown",jt="pointermove pointerup pointercancel";E.MSPointerEvent&&!E.PointerEvent&&(Xt="MSPointerDown",jt="MSPointerMove MSPointerUp MSPointerCancel");function Ut(){this.evEl=Xt,this.evWin=jt,vt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}y(Ut,vt,{handler:function(b){var Z=this.store,et=!1,at=b.type.toLowerCase().replace("ms",""),ct=$t[at],ht=xt[b.pointerType]||b.pointerType,gt=ht==M,yt=Q(Z,b.pointerId,"pointerId");ct&X&&(b.button===0||gt)?yt<0&&(Z.push(b),yt=Z.length-1):ct&(nt|H)&&(et=!0),!(yt<0)&&(Z[yt]=b,this.callback(this.manager,ct,{pointers:Z,changedPointers:[b],pointerType:ht,srcEvent:b}),et&&Z.splice(yt,1))}});var Bt={touchstart:X,touchmove:q,touchend:nt,touchcancel:H},oe="touchstart",ae="touchstart touchmove touchend touchcancel";function ve(){this.evTarget=oe,this.evWin=ae,this.started=!1,vt.apply(this,arguments)}y(ve,vt,{handler:function(b){var Z=Bt[b.type];if(Z===X&&(this.started=!0),!!this.started){var et=Pe.call(this,b,Z);Z&(nt|H)&&et[0].length-et[1].length===0&&(this.started=!1),this.callback(this.manager,Z,{pointers:et[0],changedPointers:et[1],pointerType:M,srcEvent:b})}}});function Pe(R,b){var Z=it(R.touches),et=it(R.changedTouches);return b&(nt|H)&&(Z=tt(Z.concat(et),"identifier",!0)),[Z,et]}var Me={touchstart:X,touchmove:q,touchend:nt,touchcancel:H},we="touchstart touchmove touchend touchcancel";function Jt(){this.evTarget=we,this.targetIds={},vt.apply(this,arguments)}y(Jt,vt,{handler:function(b){var Z=Me[b.type],et=Re.call(this,b,Z);!et||this.callback(this.manager,Z,{pointers:et[0],changedPointers:et[1],pointerType:M,srcEvent:b})}});function Re(R,b){var Z=it(R.touches),et=this.targetIds;if(b&(X|q)&&Z.length===1)return et[Z[0].identifier]=!0,[Z,Z];var at,ct,ht=it(R.changedTouches),gt=[],yt=this.target;if(ct=Z.filter(function(mt){return L(mt.target,yt)}),b===X)for(at=0;at<ct.length;)et[ct[at].identifier]=!0,at++;for(at=0;at<ht.length;)et[ht[at].identifier]&&gt.push(ht[at]),b&(nt|H)&&delete et[ht[at].identifier],at++;if(!!gt.length)return[tt(ct.concat(gt),"identifier",!0),gt]}var Ie=2500,ge=25;function se(){vt.apply(this,arguments);var R=O(this.handler,this);this.touch=new Jt(this.manager,R),this.mouse=new Rt(this.manager,R),this.primaryTouch=null,this.lastTouches=[]}y(se,vt,{handler:function(b,Z,et){var at=et.pointerType==M,ct=et.pointerType==B;if(!(ct&&et.sourceCapabilities&&et.sourceCapabilities.firesTouchEvents)){if(at)De.call(this,Z,et);else if(ct&&Ae.call(this,et))return;this.callback(b,Z,et)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function De(R,b){R&X?(this.primaryTouch=b.changedPointers[0].identifier,ye.call(this,b)):R&(nt|H)&&ye.call(this,b)}function ye(R){var b=R.changedPointers[0];if(b.identifier===this.primaryTouch){var Z={x:b.clientX,y:b.clientY};this.lastTouches.push(Z);var et=this.lastTouches,at=function(){var ct=et.indexOf(Z);ct>-1&&et.splice(ct,1)};setTimeout(at,Ie)}}function Ae(R){for(var b=R.srcEvent.clientX,Z=R.srcEvent.clientY,et=0;et<this.lastTouches.length;et++){var at=this.lastTouches[et],ct=Math.abs(b-at.x),ht=Math.abs(Z-at.y);if(ct<=ge&&ht<=ge)return!0}return!1}var me=$(c.style,"touchAction"),_e=me!==p,Ee="compute",xe="auto",ce="manipulation",It="none",Nt="pan-x",Ht="pan-y",Qt=Ue();function ue(R,b){this.manager=R,this.set(b)}ue.prototype={set:function(R){R==Ee&&(R=this.compute()),_e&&this.manager.element.style&&Qt[R]&&(this.manager.element.style[me]=R),this.actions=R.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var R=[];return e(this.manager.recognizers,function(b){A(b.options.enable,[b])&&(R=R.concat(b.getTouchAction()))}),Le(R.join(" "))},preventDefaults:function(R){var b=R.srcEvent,Z=R.offsetDirection;if(this.manager.session.prevented){b.preventDefault();return}var et=this.actions,at=N(et,It)&&!Qt[It],ct=N(et,Ht)&&!Qt[Ht],ht=N(et,Nt)&&!Qt[Nt];if(at){var gt=R.pointers.length===1,yt=R.distance<2,mt=R.deltaTime<250;if(gt&&yt&&mt)return}if(!(ht&&ct)&&(at||ct&&Z&ot||ht&&Z&st))return this.preventSrc(b)},preventSrc:function(R){this.manager.session.prevented=!0,R.preventDefault()}};function Le(R){if(N(R,It))return It;var b=N(R,Nt),Z=N(R,Ht);return b&&Z?It:b||Z?b?Nt:Ht:N(R,ce)?ce:xe}function Ue(){if(!_e)return!1;var R={},b=E.CSS&&E.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(Z){R[Z]=b?E.CSS.supports("touch-action",Z):!0}),R}var qt=1,_t=2,bt=4,wt=8,St=wt,Wt=16,Tt=32;function Pt(R){this.options=f({},this.defaults,R||{}),this.id=P(),this.manager=null,this.options.enable=D(this.options.enable,!0),this.state=qt,this.simultaneous={},this.requireFail=[]}Pt.prototype={defaults:{},set:function(R){return f(this.options,R),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(R){if(n(R,"recognizeWith",this))return this;var b=this.simultaneous;return R=te(R,this),b[R.id]||(b[R.id]=R,R.recognizeWith(this)),this},dropRecognizeWith:function(R){return n(R,"dropRecognizeWith",this)?this:(R=te(R,this),delete this.simultaneous[R.id],this)},requireFailure:function(R){if(n(R,"requireFailure",this))return this;var b=this.requireFail;return R=te(R,this),Q(b,R)===-1&&(b.push(R),R.requireFailure(this)),this},dropRequireFailure:function(R){if(n(R,"dropRequireFailure",this))return this;R=te(R,this);var b=Q(this.requireFail,R);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(R){return!!this.simultaneous[R.id]},emit:function(R){var b=this,Z=this.state;function et(at){b.manager.emit(at,R)}Z<wt&&et(b.options.event+Te(Z)),et(b.options.event),R.additionalEvent&&et(R.additionalEvent),Z>=wt&&et(b.options.event+Te(Z))},tryEmit:function(R){if(this.canEmit())return this.emit(R);this.state=Tt},canEmit:function(){for(var R=0;R<this.requireFail.length;){if(!(this.requireFail[R].state&(Tt|qt)))return!1;R++}return!0},recognize:function(R){var b=f({},R);if(!A(this.options.enable,[this,b])){this.reset(),this.state=Tt;return}this.state&(St|Wt|Tt)&&(this.state=qt),this.state=this.process(b),this.state&(_t|bt|wt|Wt)&&this.tryEmit(b)},process:function(R){},getTouchAction:function(){},reset:function(){}};function Te(R){return R&Wt?"cancel":R&wt?"end":R&bt?"move":R&_t?"start":""}function Oe(R){return R==J?"down":R==k?"up":R==K?"left":R==w?"right":""}function te(R,b){var Z=b.manager;return Z?Z.get(R):R}function Et(){Pt.apply(this,arguments)}y(Et,Pt,{defaults:{pointers:1},attrTest:function(R){var b=this.options.pointers;return b===0||R.pointers.length===b},process:function(R){var b=this.state,Z=R.eventType,et=b&(_t|bt),at=this.attrTest(R);return et&&(Z&H||!at)?b|Wt:et||at?Z&nt?b|wt:b&_t?b|bt:_t:Tt}});function ee(){Et.apply(this,arguments),this.pX=null,this.pY=null}y(ee,Et,{defaults:{event:"pan",threshold:10,pointers:1,direction:ut},getTouchAction:function(){var R=this.options.direction,b=[];return R&ot&&b.push(Ht),R&st&&b.push(Nt),b},directionTest:function(R){var b=this.options,Z=!0,et=R.distance,at=R.direction,ct=R.deltaX,ht=R.deltaY;return at&b.direction||(b.direction&ot?(at=ct===0?z:ct<0?K:w,Z=ct!=this.pX,et=Math.abs(R.deltaX)):(at=ht===0?z:ht<0?k:J,Z=ht!=this.pY,et=Math.abs(R.deltaY))),R.direction=at,Z&&et>b.threshold&&at&b.direction},attrTest:function(R){return Et.prototype.attrTest.call(this,R)&&(this.state&_t||!(this.state&_t)&&this.directionTest(R))},emit:function(R){this.pX=R.deltaX,this.pY=R.deltaY;var b=Oe(R.direction);b&&(R.additionalEvent=this.options.event+b),this._super.emit.call(this,R)}});function le(){Et.apply(this,arguments)}y(le,Et,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[It]},attrTest:function(R){return this._super.attrTest.call(this,R)&&(Math.abs(R.scale-1)>this.options.threshold||this.state&_t)},emit:function(R){if(R.scale!==1){var b=R.scale<1?"in":"out";R.additionalEvent=this.options.event+b}this._super.emit.call(this,R)}});function fe(){Pt.apply(this,arguments),this._timer=null,this._input=null}y(fe,Pt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[xe]},process:function(R){var b=this.options,Z=R.pointers.length===b.pointers,et=R.distance<b.threshold,at=R.deltaTime>b.time;if(this._input=R,!et||!Z||R.eventType&(nt|H)&&!at)this.reset();else if(R.eventType&X)this.reset(),this._timer=t(function(){this.state=St,this.tryEmit()},b.time,this);else if(R.eventType&nt)return St;return Tt},reset:function(){clearTimeout(this._timer)},emit:function(R){this.state===St&&(R&&R.eventType&nt?this.manager.emit(this.options.event+"up",R):(this._input.timeStamp=r(),this.manager.emit(this.options.event,this._input)))}});function he(){Et.apply(this,arguments)}y(he,Et,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[It]},attrTest:function(R){return this._super.attrTest.call(this,R)&&(Math.abs(R.rotation)>this.options.threshold||this.state&_t)}});function de(){Et.apply(this,arguments)}y(de,Et,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:ot|st,pointers:1},getTouchAction:function(){return ee.prototype.getTouchAction.call(this)},attrTest:function(R){var b=this.options.direction,Z;return b&(ot|st)?Z=R.overallVelocity:b&ot?Z=R.overallVelocityX:b&st&&(Z=R.overallVelocityY),this._super.attrTest.call(this,R)&&b&R.offsetDirection&&R.distance>this.options.threshold&&R.maxPointers==this.options.pointers&&u(Z)>this.options.velocity&&R.eventType&nt},emit:function(R){var b=Oe(R.offsetDirection);b&&this.manager.emit(this.options.event+b,R),this.manager.emit(this.options.event,R)}});function ne(){Pt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}y(ne,Pt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ce]},process:function(R){var b=this.options,Z=R.pointers.length===b.pointers,et=R.distance<b.threshold,at=R.deltaTime<b.time;if(this.reset(),R.eventType&X&&this.count===0)return this.failTimeout();if(et&&at&&Z){if(R.eventType!=nt)return this.failTimeout();var ct=this.pTime?R.timeStamp-this.pTime<b.interval:!0,ht=!this.pCenter||At(this.pCenter,R.center)<b.posThreshold;this.pTime=R.timeStamp,this.pCenter=R.center,!ht||!ct?this.count=1:this.count+=1,this._input=R;var gt=this.count%b.taps;if(gt===0)return this.hasRequireFailures()?(this._timer=t(function(){this.state=St,this.tryEmit()},b.interval,this),_t):St}return Tt},failTimeout:function(){return this._timer=t(function(){this.state=Tt},this.options.interval,this),Tt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==St&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Dt(R,b){return b=b||{},b.recognizers=D(b.recognizers,Dt.defaults.preset),new pe(R,b)}Dt.VERSION="2.0.7",Dt.defaults={domEvents:!1,touchAction:Ee,enable:!0,inputTarget:null,inputClass:null,preset:[[he,{enable:!1}],[le,{enable:!1},["rotate"]],[de,{direction:ot}],[ee,{direction:ot},["swipe"]],[ne],[ne,{event:"doubletap",taps:2},["tap"]],[fe]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Be=1,Ce=2;function pe(R,b){this.options=f({},Dt.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||R,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=R,this.input=dt(this),this.touchAction=new ue(this,this.options.touchAction),Se(this,!0),e(this.options.recognizers,function(Z){var et=this.add(new Z[0](Z[1]));Z[2]&&et.recognizeWith(Z[2]),Z[3]&&et.requireFailure(Z[3])},this)}pe.prototype={set:function(R){return f(this.options,R),R.touchAction&&this.touchAction.update(),R.inputTarget&&(this.input.destroy(),this.input.target=R.inputTarget,this.input.init()),this},stop:function(R){this.session.stopped=R?Ce:Be},recognize:function(R){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(R);var Z,et=this.recognizers,at=b.curRecognizer;(!at||at&&at.state&St)&&(at=b.curRecognizer=null);for(var ct=0;ct<et.length;)Z=et[ct],b.stopped!==Ce&&(!at||Z==at||Z.canRecognizeWith(at))?Z.recognize(R):Z.reset(),!at&&Z.state&(_t|bt|wt)&&(at=b.curRecognizer=Z),ct++}},get:function(R){if(R instanceof Pt)return R;for(var b=this.recognizers,Z=0;Z<b.length;Z++)if(b[Z].options.event==R)return b[Z];return null},add:function(R){if(n(R,"add",this))return this;var b=this.get(R.options.event);return b&&this.remove(b),this.recognizers.push(R),R.manager=this,this.touchAction.update(),R},remove:function(R){if(n(R,"remove",this))return this;if(R=this.get(R),R){var b=this.recognizers,Z=Q(b,R);Z!==-1&&(b.splice(Z,1),this.touchAction.update())}return this},on:function(R,b){if(R!==p&&b!==p){var Z=this.handlers;return e(Y(R),function(et){Z[et]=Z[et]||[],Z[et].push(b)}),this}},off:function(R,b){if(R!==p){var Z=this.handlers;return e(Y(R),function(et){b?Z[et]&&Z[et].splice(Q(Z[et],b),1):delete Z[et]}),this}},emit:function(R,b){this.options.domEvents&&be(R,b);var Z=this.handlers[R]&&this.handlers[R].slice();if(!(!Z||!Z.length)){b.type=R,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var et=0;et<Z.length;)Z[et](b),et++}},destroy:function(){this.element&&Se(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Se(R,b){var Z=R.element;if(!!Z.style){var et;e(R.options.cssProps,function(at,ct){et=$(Z.style,ct),b?(R.oldCssProps[et]=Z.style[et],Z.style[et]=at):Z.style[et]=R.oldCssProps[et]||""}),b||(R.oldCssProps={})}}function be(R,b){var Z=g.createEvent("Event");Z.initEvent(R,!0,!0),Z.gesture=b,b.target.dispatchEvent(Z)}f(Dt,{INPUT_START:X,INPUT_MOVE:q,INPUT_END:nt,INPUT_CANCEL:H,STATE_POSSIBLE:qt,STATE_BEGAN:_t,STATE_CHANGED:bt,STATE_ENDED:wt,STATE_RECOGNIZED:St,STATE_CANCELLED:Wt,STATE_FAILED:Tt,DIRECTION_NONE:z,DIRECTION_LEFT:K,DIRECTION_RIGHT:w,DIRECTION_UP:k,DIRECTION_DOWN:J,DIRECTION_HORIZONTAL:ot,DIRECTION_VERTICAL:st,DIRECTION_ALL:ut,Manager:pe,Input:vt,TouchAction:ue,TouchInput:Jt,MouseInput:Rt,PointerEventInput:Ut,TouchMouseInput:se,SingleTouchInput:ve,Recognizer:Pt,AttrRecognizer:Et,Tap:ne,Pan:ee,Swipe:de,Pinch:le,Rotate:he,Press:fe,on:I,off:U,each:e,merge:C,extend:T,assign:f,inherit:y,bindFn:O,prefixed:$});var je=typeof E<"u"?E:typeof self<"u"?self:{};je.Hammer=Dt,s=function(){return Dt}.call(G,m,G,rt),s!==p&&(rt.exports=s)})(window,document,"Hammer")},59879:rt=>{typeof Object.create=="function"?rt.exports=function(m,s){s&&(m.super_=s,m.prototype=Object.create(s.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}))}:rt.exports=function(m,s){if(s){m.super_=s;var E=function(){};E.prototype=s.prototype,m.prototype=new E,m.prototype.constructor=m}}},9012:(rt,G,m)=>{"use strict";m.d(G,{B:()=>Q,H6:()=>P,IO:()=>S,Kt:()=>M,Lj:()=>u,Od:()=>j,Sh:()=>a,ZH:()=>T,cl:()=>W,oq:()=>D,wB:()=>O});var s=Object.prototype.toString,E=Object.prototype.hasOwnProperty;function g(B){return B===void 0}function _(B){return s.call(B)==="[object Array]"}function p(B,F){return E.call(B,F)}function o(B,F){var V,X;if(!g(B)){var q=_(B)?i:c;for(var nt in B)if(p(B,nt)&&(V=B[nt],X=F(V,q(nt)),X===!1))return V}}function c(B){return B}function i(B){return Number(B)}function v(B){for(var F=B.style,V=arguments.length,X=Array(V>1?V-1:0),q=1;q<V;q++)X[q-1]=arguments[q];return o(X,function(nt){!nt||o(nt,function(H,z){F[z]=H})}),B}function u(B,F,V){return arguments.length==2?B.getAttribute(F):V===null?B.removeAttribute(F):(B.setAttribute(F,V),B)}var r=[].indexOf,t=function(B,F){if(r)return B.indexOf(F);for(var V=0;V<B.length;++V)if(B[V]===F)return V;return-1},n=/\s+/,e=Object.prototype.toString;function a(B){return new f(B)}function f(B){if(!B||!B.nodeType)throw new Error("A DOM element reference is required");this.el=B,this.list=B.classList}f.prototype.add=function(B){if(this.list)return this.list.add(B),this;var F=this.array(),V=t(F,B);return~V||F.push(B),this.el.className=F.join(" "),this},f.prototype.remove=function(B){if(e.call(B)=="[object RegExp]")return this.removeMatching(B);if(this.list)return this.list.remove(B),this;var F=this.array(),V=t(F,B);return~V&&F.splice(V,1),this.el.className=F.join(" "),this},f.prototype.removeMatching=function(B){for(var F=this.array(),V=0;V<F.length;V++)B.test(F[V])&&this.remove(F[V]);return this},f.prototype.toggle=function(B,F){return this.list?(typeof F<"u"?F!==this.list.toggle(B,F)&&this.list.toggle(B):this.list.toggle(B),this):(typeof F<"u"?F?this.add(B):this.remove(B):this.has(B)?this.remove(B):this.add(B),this)},f.prototype.array=function(){var B=this.el.getAttribute("class")||"",F=B.replace(/^\s+|\s+$/g,""),V=F.split(n);return V[0]===""&&V.shift(),V},f.prototype.has=f.prototype.contains=function(B){return this.list?this.list.contains(B):!!~t(this.array(),B)};function T(B){for(var F;B.childNodes.length;)F=B.childNodes[0],B.removeChild(F);return B}var C=typeof Element<"u"?Element.prototype:{},y=C.matches||C.matchesSelector||C.webkitMatchesSelector||C.mozMatchesSelector||C.msMatchesSelector||C.oMatchesSelector,O=A;function A(B,F){if(!B||B.nodeType!==1)return!1;if(y)return y.call(B,F);for(var V=B.parentNode.querySelectorAll(F),X=0;X<V.length;X++)if(V[X]==B)return!0;return!1}function D(B,F,V){for(var X=V?B:B.parentNode;X&&X.nodeType!==document.DOCUMENT_NODE&&X.nodeType!==document.DOCUMENT_FRAGMENT_NODE;){if(O(X,F))return X;X=X.parentNode}return O(X,F)?X:null}var I=window.addEventListener?"addEventListener":"attachEvent",U=window.removeEventListener?"removeEventListener":"detachEvent",L=I!=="addEventListener"?"on":"",N=function(B,F,V,X){return B[I](L+F,V,X||!1),V},Y=function(B,F,V,X){return B[U](L+F,V,X||!1),V},Q={bind:N,unbind:Y},it=["focus","blur"];function tt(B,F,V,X,q){return it.indexOf(V)!==-1&&(q=!0),Q.bind(B,V,function(nt){var H=nt.target||nt.srcElement;nt.delegateTarget=D(H,F,!0,B),nt.delegateTarget&&X.call(B,nt)},q)}function $(B,F,V,X){return it.indexOf(F)!==-1&&(X=!0),Q.unbind(B,F,V,X)}var W={bind:tt,unbind:$},P=d,l=!1,x;typeof document<"u"&&(x=document.createElement("div"),x.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',l=!x.getElementsByTagName("link").length,x=void 0);var h={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:l?[1,"X<div>","</div>"]:[0,"",""]};h.td=h.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],h.option=h.optgroup=[1,'<select multiple="multiple">',"</select>"],h.thead=h.tbody=h.colgroup=h.caption=h.tfoot=[1,"<table>","</table>"],h.polyline=h.ellipse=h.polygon=h.circle=h.text=h.line=h.path=h.rect=h.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];function d(B,F){if(typeof B!="string")throw new TypeError("String expected");F||(F=document);var V=/<([\w:]+)/.exec(B);if(!V)return F.createTextNode(B);B=B.replace(/^\s+|\s+$/g,"");var X=V[1];if(X=="body"){var K=F.createElement("html");return K.innerHTML=B,K.removeChild(K.lastChild)}var q=h[X]||h._default,nt=q[0],H=q[1],z=q[2],K=F.createElement("div");for(K.innerHTML=H+B+z;nt--;)K=K.lastChild;if(K.firstChild==K.lastChild)return K.removeChild(K.firstChild);for(var w=F.createDocumentFragment();K.firstChild;)w.appendChild(K.removeChild(K.firstChild));return w}function S(B,F){return F=F||document,F.querySelector(B)}function M(B,F){return F=F||document,F.querySelectorAll(B)}function j(B){B.parentNode&&B.parentNode.removeChild(B)}},19891:(rt,G,m)=>{rt.exports=m(18627),rt.exports.Collection=m(88508)},88508:rt=>{"use strict";function G(s,E,g,_){var p=g.inverse;return Object.defineProperty(s,"remove",{value:function(o){var c=this.indexOf(o);return c!==-1&&(this.splice(c,1),E.unset(o,p,_)),o}}),Object.defineProperty(s,"contains",{value:function(o){return this.indexOf(o)!==-1}}),Object.defineProperty(s,"add",{value:function(o,c){var i=this.indexOf(o);if(typeof c>"u"){if(i!==-1)return;c=this.length}i!==-1&&this.splice(i,1),this.splice(c,0,o),i===-1&&E.set(o,p,_)}}),Object.defineProperty(s,"__refs_collection",{value:!0}),s}function m(s){return s.__refs_collection===!0}rt.exports.extend=G,rt.exports.isExtended=m},18627:(rt,G,m)=>{"use strict";var s=m(88508);function E(o,c){return Object.prototype.hasOwnProperty.call(o,c.name||c)}function g(o,c,i){var v=s.extend(i[c.name]||[],o,c,i);Object.defineProperty(i,c.name,{enumerable:c.enumerable,value:v}),v.length&&v.forEach(function(u){o.set(u,c.inverse,i)})}function _(o,c,i){var v=c.inverse,u=i[c.name];Object.defineProperty(i,c.name,{configurable:c.configurable,enumerable:c.enumerable,get:function(){return u},set:function(r){if(r!==u){var t=u;u=null,t&&o.unset(t,v,i),u=r,o.set(u,v,i)}}})}function p(o,c){if(!(this instanceof p))return new p(o,c);o.inverse=c,c.inverse=o,this.props={},this.props[o.name]=o,this.props[c.name]=c}p.prototype.bind=function(o,c){if(typeof c=="string"){if(!this.props[c])throw new Error("no property <"+c+"> in ref");c=this.props[c]}c.collection?g(this,c,o):_(this,c,o)},p.prototype.ensureRefsCollection=function(o,c){var i=o[c.name];return s.isExtended(i)||g(this,c,o),i},p.prototype.ensureBound=function(o,c){E(o,c)||this.bind(o,c)},p.prototype.unset=function(o,c,i){o&&(this.ensureBound(o,c),c.collection?this.ensureRefsCollection(o,c).remove(i):o[c.name]=void 0)},p.prototype.set=function(o,c,i){o&&(this.ensureBound(o,c),c.collection?this.ensureRefsCollection(o,c).add(i):o[c.name]=i)},rt.exports=p},7502:rt=>{"use strict";var G=/,?([a-z]),?/gi,m=parseFloat,s=Math,E=s.PI,g=s.min,_=s.max,p=s.pow,o=s.abs,c=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/ig,i=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/ig,v=Array.isArray||function(h){return h instanceof Array};function u(h,d){return Object.prototype.hasOwnProperty.call(h,d)}function r(h){if(typeof h=="function"||Object(h)!==h)return h;var d=new h.constructor;for(var S in h)u(h,S)&&(d[S]=r(h[S]));return d}function t(h,d){for(var S=0,M=h.length;S<M;S++)if(h[S]===d)return h.push(h.splice(S,1)[0])}function n(h){function d(){var S=Array.prototype.slice.call(arguments,0),M=S.join("\u2400"),j=d.cache=d.cache||{},B=d.count=d.count||[];return u(j,M)?(t(B,M),j[M]):(B.length>=1e3&&delete j[B.shift()],B.push(M),j[M]=h.apply(0,S),j[M])}return d}function e(h){if(!h)return null;var d=a(h);if(d.arr)return r(d.arr);var S={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},M=[];return v(h)&&v(h[0])&&(M=r(h)),M.length||String(h).replace(c,function(j,B,F){var V=[],X=B.toLowerCase();for(F.replace(i,function(q,nt){nt&&V.push(+nt)}),X=="m"&&V.length>2&&(M.push([B].concat(V.splice(0,2))),X="l",B=B=="m"?"l":"L");V.length>=S[X]&&(M.push([B].concat(V.splice(0,S[X]))),!!S[X]););}),M.toString=a.toString,d.arr=r(M),M}function a(h){var d=a.ps=a.ps||{};return d[h]?d[h].sleep=100:d[h]={sleep:100},setTimeout(function(){for(var S in d)u(d,S)&&S!=h&&(d[S].sleep--,!d[S].sleep&&delete d[S])}),d[h]}function f(h,d,S,M){return arguments.length===1&&(d=h.y,S=h.width,M=h.height,h=h.x),{x:h,y:d,width:S,height:M,x2:h+S,y2:d+M}}function T(){return this.join(",").replace(G,"$1")}function C(h){var d=r(h);return d.toString=T,d}function y(h,d,S,M,j,B,F,V,X){var q=1-X,nt=p(q,3),H=p(q,2),z=X*X,K=z*X,w=nt*h+H*3*X*S+q*3*X*X*j+K*F,k=nt*d+H*3*X*M+q*3*X*X*B+K*V;return{x:N(w),y:N(k)}}function O(h){var d=l.apply(null,h);return f(d.x0,d.y0,d.x1-d.x0,d.y1-d.y0)}function A(h,d,S){return d>=h.x&&d<=h.x+h.width&&S>=h.y&&S<=h.y+h.height}function D(h,d){return h=f(h),d=f(d),A(d,h.x,h.y)||A(d,h.x2,h.y)||A(d,h.x,h.y2)||A(d,h.x2,h.y2)||A(h,d.x,d.y)||A(h,d.x2,d.y)||A(h,d.x,d.y2)||A(h,d.x2,d.y2)||(h.x<d.x2&&h.x>d.x||d.x<h.x2&&d.x>h.x)&&(h.y<d.y2&&h.y>d.y||d.y<h.y2&&d.y>h.y)}function I(h,d,S,M,j){var B=-3*d+9*S-9*M+3*j,F=h*B+6*d-12*S+6*M;return h*F-3*d+3*S}function U(h,d,S,M,j,B,F,V,X){X==null&&(X=1),X=X>1?1:X<0?0:X;for(var q=X/2,nt=12,H=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],z=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],K=0,w=0;w<nt;w++){var k=q*H[w]+q,J=I(k,h,S,j,F),ot=I(k,d,M,B,V),st=J*J+ot*ot;K+=z[w]*s.sqrt(st)}return q*K}function L(h,d,S,M,j,B,F,V){if(!(_(h,S)<g(j,F)||g(h,S)>_(j,F)||_(d,M)<g(B,V)||g(d,M)>_(B,V))){var X=(h*M-d*S)*(j-F)-(h-S)*(j*V-B*F),q=(h*M-d*S)*(B-V)-(d-M)*(j*V-B*F),nt=(h-S)*(B-V)-(d-M)*(j-F);if(!!nt){var H=N(X/nt),z=N(q/nt),K=+H.toFixed(2),w=+z.toFixed(2);if(!(K<+g(h,S).toFixed(2)||K>+_(h,S).toFixed(2)||K<+g(j,F).toFixed(2)||K>+_(j,F).toFixed(2)||w<+g(d,M).toFixed(2)||w>+_(d,M).toFixed(2)||w<+g(B,V).toFixed(2)||w>+_(B,V).toFixed(2)))return{x:H,y:z}}}}function N(h){return Math.round(h*1e11)/1e11}function Y(h,d,S){var M=O(h),j=O(d);if(!D(M,j))return S?0:[];for(var B=U.apply(0,h),F=U.apply(0,d),V=tt(h)?1:~~(B/5)||1,X=tt(d)?1:~~(F/5)||1,q=[],nt=[],H={},z=S?0:[],K=0;K<V+1;K++){var w=y.apply(0,h.concat(K/V));q.push({x:w.x,y:w.y,t:K/V})}for(K=0;K<X+1;K++)w=y.apply(0,d.concat(K/X)),nt.push({x:w.x,y:w.y,t:K/X});for(K=0;K<V;K++)for(var k=0;k<X;k++){var J=q[K],ot=q[K+1],st=nt[k],ut=nt[k+1],ft=o(ot.x-J.x)<.01?"y":"x",lt=o(ut.x-st.x)<.01?"y":"x",vt=L(J.x,J.y,ot.x,ot.y,st.x,st.y,ut.x,ut.y),dt;if(vt){if(dt=vt.x.toFixed(9)+"#"+vt.y.toFixed(9),H[dt])continue;H[dt]=!0;var pt=J.t+o((vt[ft]-J[ft])/(ot[ft]-J[ft]))*(ot.t-J.t),Ct=st.t+o((vt[lt]-st[lt])/(ut[lt]-st[lt]))*(ut.t-st.t);pt>=0&&pt<=1&&Ct>=0&&Ct<=1&&(S?z++:z.push({x:vt.x,y:vt.y,t1:pt,t2:Ct}))}}return z}function Q(h,d,S){h=x(h),d=x(d);for(var M,j,B,F,V,X,q,nt,H,z,K=S?0:[],w=0,k=h.length;w<k;w++){var J=h[w];if(J[0]=="M")M=V=J[1],j=X=J[2];else{J[0]=="C"?(H=[M,j].concat(J.slice(1)),M=H[6],j=H[7]):(H=[M,j,M,j,V,X,V,X],M=V,j=X);for(var ot=0,st=d.length;ot<st;ot++){var ut=d[ot];if(ut[0]=="M")B=q=ut[1],F=nt=ut[2];else{ut[0]=="C"?(z=[B,F].concat(ut.slice(1)),B=z[6],F=z[7]):(z=[B,F,B,F,q,nt,q,nt],B=q,F=nt);var ft=Y(H,z,S);if(S)K+=ft;else{for(var lt=0,vt=ft.length;lt<vt;lt++)ft[lt].segment1=w,ft[lt].segment2=ot,ft[lt].bez1=H,ft[lt].bez2=z;K=K.concat(ft)}}}}}return K}function it(h){var d=a(h);if(d.abs)return C(d.abs);if((!v(h)||!v(h&&h[0]))&&(h=e(h)),!h||!h.length)return[["M",0,0]];var S=[],M=0,j=0,B=0,F=0,V=0,X;h[0][0]=="M"&&(M=+h[0][1],j=+h[0][2],B=M,F=j,V++,S[0]=["M",M,j]);for(var q,nt,H=V,z=h.length;H<z;H++){if(S.push(q=[]),nt=h[H],X=nt[0],X!=X.toUpperCase())switch(q[0]=X.toUpperCase(),q[0]){case"A":q[1]=nt[1],q[2]=nt[2],q[3]=nt[3],q[4]=nt[4],q[5]=nt[5],q[6]=+nt[6]+M,q[7]=+nt[7]+j;break;case"V":q[1]=+nt[1]+j;break;case"H":q[1]=+nt[1]+M;break;case"M":B=+nt[1]+M,F=+nt[2]+j;default:for(var K=1,w=nt.length;K<w;K++)q[K]=+nt[K]+(K%2?M:j)}else for(var k=0,J=nt.length;k<J;k++)q[k]=nt[k];switch(X=X.toUpperCase(),q[0]){case"Z":M=+B,j=+F;break;case"H":M=q[1];break;case"V":j=q[1];break;case"M":B=q[q.length-2],F=q[q.length-1];default:M=q[q.length-2],j=q[q.length-1]}}return S.toString=T,d.abs=C(S),S}function tt(h){return h[0]===h[2]&&h[1]===h[3]&&h[4]===h[6]&&h[5]===h[7]}function $(h,d,S,M){return[h,d,S,M,S,M]}function W(h,d,S,M,j,B){var F=.3333333333333333,V=2/3;return[F*h+V*S,F*d+V*M,F*j+V*S,F*B+V*M,j,B]}function P(h,d,S,M,j,B,F,V,X,q){var nt=E*120/180,H=E/180*(+j||0),z=[],K,w=n(function(jt,Ut,Bt){var oe=jt*s.cos(Bt)-Ut*s.sin(Bt),ae=jt*s.sin(Bt)+Ut*s.cos(Bt);return{x:oe,y:ae}});if(q)dt=q[0],pt=q[1],lt=q[2],vt=q[3];else{K=w(h,d,-H),h=K.x,d=K.y,K=w(V,X,-H),V=K.x,X=K.y;var k=(h-V)/2,J=(d-X)/2,ot=k*k/(S*S)+J*J/(M*M);ot>1&&(ot=s.sqrt(ot),S=ot*S,M=ot*M);var st=S*S,ut=M*M,ft=(B==F?-1:1)*s.sqrt(o((st*ut-st*J*J-ut*k*k)/(st*J*J+ut*k*k))),lt=ft*S*J/M+(h+V)/2,vt=ft*-M*k/S+(d+X)/2,dt=s.asin(((d-vt)/M).toFixed(9)),pt=s.asin(((X-vt)/M).toFixed(9));dt=h<lt?E-dt:dt,pt=V<lt?E-pt:pt,dt<0&&(dt=E*2+dt),pt<0&&(pt=E*2+pt),F&&dt>pt&&(dt=dt-E*2),!F&&pt>dt&&(pt=pt-E*2)}var Ct=pt-dt;if(o(Ct)>nt){var ie=pt,re=V,Kt=X;pt=dt+nt*(F&&pt>dt?1:-1),V=lt+S*s.cos(pt),X=vt+M*s.sin(pt),z=P(V,X,S,M,j,0,F,re,Kt,[pt,ie,lt,vt])}Ct=pt-dt;var zt=s.cos(dt),kt=s.sin(dt),Zt=s.cos(pt),At=s.sin(pt),Lt=s.tan(Ct/4),Gt=4/3*S*Lt,Ft=4/3*M*Lt,Vt=[h,d],Mt=[h+Gt*kt,d-Ft*zt],Yt=[V+Gt*At,X-Ft*Zt],Rt=[V,X];if(Mt[0]=2*Vt[0]-Mt[0],Mt[1]=2*Vt[1]-Mt[1],q)return[Mt,Yt,Rt].concat(z);z=[Mt,Yt,Rt].concat(z).join().split(",");for(var $t=[],xt=0,Xt=z.length;xt<Xt;xt++)$t[xt]=xt%2?w(z[xt-1],z[xt],H).y:w(z[xt],z[xt+1],H).x;return $t}function l(h,d,S,M,j,B,F,V){for(var X=[],q=[[],[]],nt,H,z,K,w,k,J,ot,st=0;st<2;++st){if(st==0?(H=6*h-12*S+6*j,nt=-3*h+9*S-9*j+3*F,z=3*S-3*h):(H=6*d-12*M+6*B,nt=-3*d+9*M-9*B+3*V,z=3*M-3*d),o(nt)<1e-12){if(o(H)<1e-12)continue;K=-z/H,0<K&&K<1&&X.push(K);continue}J=H*H-4*z*nt,ot=s.sqrt(J),!(J<0)&&(w=(-H+ot)/(2*nt),0<w&&w<1&&X.push(w),k=(-H-ot)/(2*nt),0<k&&k<1&&X.push(k))}for(var ut=X.length,ft=ut,lt;ut--;)K=X[ut],lt=1-K,q[0][ut]=lt*lt*lt*h+3*lt*lt*K*S+3*lt*K*K*j+K*K*K*F,q[1][ut]=lt*lt*lt*d+3*lt*lt*K*M+3*lt*K*K*B+K*K*K*V;return q[0][ft]=h,q[1][ft]=d,q[0][ft+1]=F,q[1][ft+1]=V,q[0].length=q[1].length=ft+2,{x0:g.apply(0,q[0]),y0:g.apply(0,q[1]),x1:_.apply(0,q[0]),y1:_.apply(0,q[1])}}function x(h){var d=a(h);if(d.curve)return C(d.curve);for(var S=it(h),M={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},j=function(K,w,k){var J,ot;if(!K)return["C",w.x,w.y,w.x,w.y,w.x,w.y];switch(!(K[0]in{T:1,Q:1})&&(w.qx=w.qy=null),K[0]){case"M":w.X=K[1],w.Y=K[2];break;case"A":K=["C"].concat(P.apply(0,[w.x,w.y].concat(K.slice(1))));break;case"S":k=="C"||k=="S"?(J=w.x*2-w.bx,ot=w.y*2-w.by):(J=w.x,ot=w.y),K=["C",J,ot].concat(K.slice(1));break;case"T":k=="Q"||k=="T"?(w.qx=w.x*2-w.qx,w.qy=w.y*2-w.qy):(w.qx=w.x,w.qy=w.y),K=["C"].concat(W(w.x,w.y,w.qx,w.qy,K[1],K[2]));break;case"Q":w.qx=K[1],w.qy=K[2],K=["C"].concat(W(w.x,w.y,K[1],K[2],K[3],K[4]));break;case"L":K=["C"].concat($(w.x,w.y,K[1],K[2]));break;case"H":K=["C"].concat($(w.x,w.y,K[1],w.y));break;case"V":K=["C"].concat($(w.x,w.y,w.x,K[1]));break;case"Z":K=["C"].concat($(w.x,w.y,w.X,w.Y));break}return K},B=function(K,w){if(K[w].length>7){K[w].shift();for(var k=K[w];k.length;)F[w]="A",K.splice(w++,0,["C"].concat(k.splice(0,6)));K.splice(w,1),nt=S.length}},F=[],V="",X="",q=0,nt=S.length;q<nt;q++){S[q]&&(V=S[q][0]),V!="C"&&(F[q]=V,q&&(X=F[q-1])),S[q]=j(S[q],M,X),F[q]!="A"&&V=="C"&&(F[q]="C"),B(S,q);var H=S[q],z=H.length;M.x=H[z-2],M.y=H[z-1],M.bx=m(H[z-4])||M.x,M.by=m(H[z-3])||M.y}return d.curve=C(S),S}rt.exports=Q},27974:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>W});var s=/^class /;function E(P){return s.test(P.toString())}function g(P){return Object.prototype.toString.call(P)==="[object Array]"}function _(){var P=Array.prototype.slice.call(arguments);P.length===1&&g(P[0])&&(P=P[0]);var l=P.pop();return l.$inject=P,l}var p=/constructor\s*[^(]*\(\s*([^)]*)\)/m,o=/^function\s*[^(]*\(\s*([^)]*)\)/m,c=/\/\*([^*]*)\*\//m;function i(P){if(typeof P!="function")throw new Error('Cannot annotate "'+P+'". Expected a function!');var l=P.toString().match(E(P)?p:o);return l?l[1]&&l[1].split(",").map(function(x){return l=x.match(c),l?l[1].trim():x.trim()})||[]:[]}function v(){var P=[];this.factory=function(l,x){return P.push([l,"factory",x]),this},this.value=function(l,x){return P.push([l,"value",x]),this},this.type=function(l,x){return P.push([l,"type",x]),this},this.forEach=function(l){P.forEach(l)}}var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P};function r(P){if(Array.isArray(P)){for(var l=0,x=Array(P.length);l<P.length;l++)x[l]=P[l];return x}else return Array.from(P)}function t(P,l){l=l||{get:function(z,K){if(x.push(z),K===!1)return null;throw M('No provider for "'+z+'"!')}};var x=[],h=this._providers=Object.create(l._providers||null),d=this._instances=Object.create(null),S=d.injector=this,M=function(z){var K=x.join(" -> ");return x.length=0,new Error(K?z+" (Resolving: "+K+")":z)},j=function H(z,K){if(!h[z]&&z.indexOf(".")!==-1){for(var w=z.split("."),k=H(w.shift());w.length;)k=k[w.shift()];return k}if(n(d,z))return d[z];if(n(h,z)){if(x.indexOf(z)!==-1)throw x.push(z),M("Cannot resolve circular dependency!");return x.push(z),d[z]=h[z][0](h[z][1]),x.pop(),d[z]}return l.get(z,K)},B=function(z){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof z!="function")if(g(z))z=_(z.slice());else throw new Error('Cannot invoke "'+z+'". Expected a function!');var w=z.$inject||i(z),k=w.map(function(J){return n(K,J)?K[J]:j(J)});return{fn:z,dependencies:k}},F=function(z){var K=B(z),w=K.dependencies,k=K.fn;return new(Function.prototype.bind.apply(k,[null].concat(r(w))))},V=function(z,K,w){var k=B(z,w),J=k.dependencies,ot=k.fn;return ot.call.apply(ot,[K].concat(r(J)))},X=function(z){return _(function(K){return z.get(K)})},q=function(z,K){if(K&&K.length){var w=Object.create(null),k=Object.create(null),J=[],ot=[],st=[],ut,ft,lt,vt;for(var dt in h)ut=h[dt],K.indexOf(dt)!==-1&&(ut[2]==="private"?(ft=J.indexOf(ut[3]),ft===-1?(lt=ut[3].createChild([],K),vt=X(lt),J.push(ut[3]),ot.push(lt),st.push(vt),w[dt]=[vt,dt,"private",lt]):w[dt]=[st[ft],dt,"private",ot[ft]]):w[dt]=[ut[2],ut[1]],k[dt]=!0),(ut[2]==="factory"||ut[2]==="type")&&ut[1].$scope&&K.forEach(function(pt){ut[1].$scope.indexOf(pt)!==-1&&(w[dt]=[ut[2],ut[1]],k[pt]=!0)});K.forEach(function(pt){if(!k[pt])throw new Error('No provider for "'+pt+'". Cannot use provider from the parent!')}),z.unshift(w)}return new t(z,S)},nt={factory:V,type:F,value:function(z){return z}};P.forEach(function(H){function z(J,ot){return J!=="value"&&g(ot)&&(ot=_(ot.slice())),ot}if(H instanceof v)H.forEach(function(J){var ot=J[0],st=J[1],ut=J[2];h[ot]=[nt[st],z(st,ut),st]});else if((typeof H>"u"?"undefined":u(H))==="object")if(H.__exports__){var K=Object.keys(H).reduce(function(J,ot){return ot.substring(0,2)!=="__"&&(J[ot]=H[ot]),J},Object.create(null)),w=new t((H.__modules__||[]).concat([K]),S),k=_(function(J){return w.get(J)});H.__exports__.forEach(function(J){h[J]=[k,J,"private",w]})}else Object.keys(H).forEach(function(J){if(H[J][2]==="private"){h[J]=H[J];return}var ot=H[J][0],st=H[J][1];h[J]=[nt[ot],z(ot,st),ot]})}),this.get=j,this.invoke=V,this.instantiate=F,this.createChild=q}function n(P,l){return Object.hasOwnProperty.call(P,l)}var e=m(59879),a=m.n(e),f=m(47595),T=m(7824),C=m(21537),y=m(64960),O=1;function A(P,l){f.Z.call(this,P,O),this.CONNECTION_STYLE=l.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=l.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=l.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}a()(A,f.Z),A.prototype.canRender=function(){return!0},A.prototype.drawShape=function(l,x){var h=(0,C.Ue)("rect");return(0,C.Lj)(h,{x:0,y:0,width:x.width||0,height:x.height||0}),(0,y.He)(x)?(0,C.Lj)(h,this.FRAME_STYLE):(0,C.Lj)(h,this.SHAPE_STYLE),(0,C.R3)(l,h),h},A.prototype.drawConnection=function(l,x){var h=(0,T.W5)(x.waypoints,this.CONNECTION_STYLE);return(0,C.R3)(l,h),h},A.prototype.getShapePath=function(l){var x=l.x,h=l.y,d=l.width,S=l.height,M=[["M",x,h],["l",d,0],["l",0,S],["l",-d,0],["z"]];return(0,T.KO)(M)},A.prototype.getConnectionPath=function(l){var x=l.waypoints,h,d,S=[];for(h=0;d=x[h];h++)d=d.original||d,S.push([h===0?"M":"L",d.x,d.y]);return(0,T.KO)(S)},A.$inject=["eventBus","styles"];var D=m(91356);const I={__init__:["defaultRenderer"],defaultRenderer:["type",A],styles:["type",D.Z]};var U=m(68302),L=m(89817),N=m(62565),Y=m(27147),Q=m(40296);const it={__depends__:[I],__init__:["canvas"],canvas:["type",U.Z],elementRegistry:["type",L.Z],elementFactory:["type",N.Z],eventBus:["type",Y.Z],graphicsFactory:["type",Q.Z]};function tt(P){var l=[],x=[];function h(j){return l.indexOf(j)>=0}function d(j){l.push(j)}function S(j){h(j)||((j.__depends__||[]).forEach(S),!h(j)&&(d(j),(j.__init__||[]).forEach(function(B){x.push(B)})))}P.forEach(S);var M=new t(l);return x.forEach(function(j){try{M[typeof j=="string"?"get":"invoke"](j)}catch(B){throw console.error("Failed to instantiate component"),console.error(B.stack),B}}),M}function $(P){P=P||{};var l={config:["value",P]},x=[l,it].concat(P.modules||[]);return tt(x)}function W(P,l){this.injector=l=l||$(P),this.get=l.get,this.invoke=l.invoke,this.get("eventBus").fire("diagram.init")}W.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},W.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")}},91658:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>g});var s=m(2299),E=1e3;function g(o){this._eventBus=o}g.$inject=["eventBus"];function _(o,c){return function(i){return o.call(c||null,i.context,i.command,i)}}g.prototype.on=function(o,c,i,v,u,r){if(((0,s.mf)(c)||(0,s.hj)(c))&&(r=u,u=v,v=i,i=c,c=null),(0,s.mf)(i)&&(r=u,u=v,v=i,i=E),(0,s.Kn)(u)&&(r=u,u=!1),!(0,s.mf)(v))throw new Error("handlerFn must be a function");(0,s.kJ)(o)||(o=[o]);var t=this._eventBus;(0,s.Ed)(o,function(n){var e=["commandStack",n,c].filter(function(a){return a}).join(".");t.on(e,i,u?_(v,r):v,r)})};var p=["canExecute","preExecute","preExecuted","execute","executed","postExecute","postExecuted","revert","reverted"];(0,s.Ed)(p,function(o){g.prototype[o]=function(c,i,v,u,r){((0,s.mf)(c)||(0,s.hj)(c))&&(r=u,u=v,v=i,i=c,c=null),this.on(c,o,i,v,u,r)}})},26019:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>E});var s=m(2299);function E(g,_){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[]},this._injector=_,this._eventBus=g,this._uid=1,g.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}E.$inject=["eventBus","injector"],E.prototype.execute=function(g,_){if(!g)throw new Error("command required");var p={command:g,context:_};this._pushAction(p),this._internalExecute(p),this._popAction(p)},E.prototype.canExecute=function(g,_){var p={command:g,context:_},o=this._getHandler(g),c=this._fire(g,"canExecute",p);if(c===void 0){if(!o)return!1;o.canExecute&&(c=o.canExecute(_))}return c},E.prototype.clear=function(g){this._stack.length=0,this._stackIdx=-1,g!==!1&&this._fire("changed")},E.prototype.undo=function(){var g=this._getUndoAction(),_;if(g){for(this._pushAction(g);g&&(this._internalUndo(g),_=this._getUndoAction(),!(!_||_.id!==g.id));)g=_;this._popAction()}},E.prototype.redo=function(){var g=this._getRedoAction(),_;if(g){for(this._pushAction(g);g&&(this._internalExecute(g,!0),_=this._getRedoAction(),!(!_||_.id!==g.id));)g=_;this._popAction()}},E.prototype.register=function(g,_){this._setHandler(g,_)},E.prototype.registerHandler=function(g,_){if(!g||!_)throw new Error("command and handlerCls must be defined");var p=this._injector.instantiate(_);this.register(g,p)},E.prototype.canUndo=function(){return!!this._getUndoAction()},E.prototype.canRedo=function(){return!!this._getRedoAction()},E.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},E.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},E.prototype._internalUndo=function(g){var _=this,p=g.command,o=g.context,c=this._getHandler(p);this._atomicDo(function(){_._fire(p,"revert",g),c.revert&&_._markDirty(c.revert(o)),_._revertedAction(g),_._fire(p,"reverted",g)})},E.prototype._fire=function(g,_,p){arguments.length<3&&(p=_,_=null);var o=_?[g+"."+_,_]:[g],c,i,v;for(p=this._eventBus.createEvent(p),c=0;(i=o[c])&&(v=this._eventBus.fire("commandStack."+i,p),!p.cancelBubble);c++);return v},E.prototype._createId=function(){return this._uid++},E.prototype._atomicDo=function(g){var _=this._currentExecution;_.atomic=!0;try{g()}finally{_.atomic=!1}},E.prototype._internalExecute=function(g,_){var p=this,o=g.command,c=g.context,i=this._getHandler(o);if(!i)throw new Error("no command handler registered for <"+o+">");this._pushAction(g),_||(this._fire(o,"preExecute",g),i.preExecute&&i.preExecute(c),this._fire(o,"preExecuted",g)),this._atomicDo(function(){p._fire(o,"execute",g),i.execute&&p._markDirty(i.execute(c)),p._executedAction(g,_),p._fire(o,"executed",g)}),_||(this._fire(o,"postExecute",g),i.postExecute&&i.postExecute(c),this._fire(o,"postExecuted",g)),this._popAction(g)},E.prototype._pushAction=function(g){var _=this._currentExecution,p=_.actions,o=p[0];if(_.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+g.command+")");g.id||(g.id=o&&o.id||this._createId()),p.push(g)},E.prototype._popAction=function(){var g=this._currentExecution,_=g.actions,p=g.dirty;_.pop(),_.length||(this._eventBus.fire("elements.changed",{elements:(0,s.uw)("id",p.reverse())}),p.length=0,this._fire("changed"))},E.prototype._markDirty=function(g){var _=this._currentExecution;!g||(g=(0,s.kJ)(g)?g:[g],_.dirty=_.dirty.concat(g))},E.prototype._executedAction=function(g,_){var p=++this._stackIdx;_||this._stack.splice(p,this._stack.length,g)},E.prototype._revertedAction=function(g){this._stackIdx--},E.prototype._getHandler=function(g){return this._handlerMap[g]},E.prototype._setHandler=function(g,_){if(!g||!_)throw new Error("command and handler required");if(this._handlerMap[g])throw new Error("overriding handler for command <"+g+">");this._handlerMap[g]=_}},68302:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>r});var s=m(2299),E=m(91499),g=m(64960),_=m(21537);function p(n,e){return Math.round(n*e)/e}function o(n){return(0,s.hj)(n)?n+"px":n}function c(n){n=(0,s.f0)({},{width:"100%",height:"100%"},n);var e=n.container||document.body,a=document.createElement("div");return a.setAttribute("class","djs-container"),(0,s.f0)(a.style,{position:"relative",overflow:"hidden",width:o(n.width),height:o(n.height)}),e.appendChild(a),a}function i(n,e,a){var f=(0,_.Ue)("g");(0,_.Sh)(f).add(e);var T=a!==void 0?a:n.childNodes.length-1;return n.insertBefore(f,n.childNodes[T]||null),f}var v="base",u={shape:["x","y","width","height"],connection:["waypoints"]};function r(n,e,a,f){this._eventBus=e,this._elementRegistry=f,this._graphicsFactory=a,this._init(n||{})}r.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],r.prototype._init=function(n){var e=this._eventBus,a=this._container=c(n),f=this._svg=(0,_.Ue)("svg");(0,_.Lj)(f,{width:"100%",height:"100%"}),(0,_.R3)(a,f);var T=this._viewport=i(f,"viewport");this._layers={},n.deferUpdate!==!1&&(this._viewboxChanged=(0,s.Ds)((0,s.ak)(this._viewboxChanged,this),300)),e.on("diagram.init",function(){e.fire("canvas.init",{svg:f,viewport:T})},this),e.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed"],function(){delete this._cachedViewbox},this),e.on("diagram.destroy",500,this._destroy,this),e.on("diagram.clear",500,this._clear,this)},r.prototype._destroy=function(n){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});var e=this._container.parentNode;e&&e.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._rootElement,delete this._viewport},r.prototype._clear=function(){var n=this,e=this._elementRegistry.getAll();e.forEach(function(a){var f=(0,g.oL)(a);f==="root"?n.setRootElement(null,!0):n._removeElement(a,f)}),delete this._cachedViewbox},r.prototype.getDefaultLayer=function(){return this.getLayer(v,0)},r.prototype.getLayer=function(n,e){if(!n)throw new Error("must specify a name");var a=this._layers[n];if(a||(a=this._layers[n]=this._createLayer(n,e)),typeof e<"u"&&a.index!==e)throw new Error("layer <"+n+"> already created at index <"+e+">");return a.group},r.prototype._createLayer=function(n,e){e||(e=0);var a=(0,s.u4)(this._layers,function(f,T){return e>=T.index&&f++,f},0);return{group:i(this._viewport,"layer-"+n,a),index:e}},r.prototype.getContainer=function(){return this._container},r.prototype._updateMarker=function(n,e,a){var f;n.id||(n=this._elementRegistry.get(n)),f=this._elementRegistry._elements[n.id],f&&((0,s.Ed)([f.gfx,f.secondaryGfx],function(T){T&&(a?(0,_.Sh)(T).add(e):(0,_.Sh)(T).remove(e))}),this._eventBus.fire("element.marker.update",{element:n,gfx:f.gfx,marker:e,add:!!a}))},r.prototype.addMarker=function(n,e){this._updateMarker(n,e,!0)},r.prototype.removeMarker=function(n,e){this._updateMarker(n,e,!1)},r.prototype.hasMarker=function(n,e){n.id||(n=this._elementRegistry.get(n));var a=this.getGraphics(n);return(0,_.Sh)(a).has(e)},r.prototype.toggleMarker=function(n,e){this.hasMarker(n,e)?this.removeMarker(n,e):this.addMarker(n,e)},r.prototype.getRootElement=function(){return this._rootElement||this.setRootElement({id:"__implicitroot",children:[]}),this._rootElement},r.prototype.setRootElement=function(n,e){n&&this._ensureValid("root",n);var a=this._rootElement,f=this._elementRegistry,T=this._eventBus;if(a){if(!e)throw new Error("rootElement already set, need to specify override");T.fire("root.remove",{element:a}),T.fire("root.removed",{element:a}),f.remove(a)}if(n){var C=this.getDefaultLayer();T.fire("root.add",{element:n}),f.add(n,C,this._svg),T.fire("root.added",{element:n,gfx:C})}return this._rootElement=n,n},r.prototype._ensureValid=function(n,e){if(!e.id)throw new Error("element must have an id");if(this._elementRegistry.get(e.id))throw new Error("element with id "+e.id+" already exists");var a=u[n],f=(0,s.yW)(a,function(T){return typeof e[T]<"u"});if(!f)throw new Error("must supply { "+a.join(", ")+" } with "+n)},r.prototype._setParent=function(n,e,a){(0,E.IH)(e.children,n,a),n.parent=e},r.prototype._addElement=function(n,e,a,f){a=a||this.getRootElement();var T=this._eventBus,C=this._graphicsFactory;this._ensureValid(n,e),T.fire(n+".add",{element:e,parent:a}),this._setParent(e,a,f);var y=C.create(n,e,f);return this._elementRegistry.add(e,y),C.update(n,e,y),T.fire(n+".added",{element:e,gfx:y}),e},r.prototype.addShape=function(n,e,a){return this._addElement("shape",n,e,a)},r.prototype.addConnection=function(n,e,a){return this._addElement("connection",n,e,a)},r.prototype._removeElement=function(n,e){var a=this._elementRegistry,f=this._graphicsFactory,T=this._eventBus;if(n=a.get(n.id||n),!!n)return T.fire(e+".remove",{element:n}),f.remove(n),(0,E.Od)(n.parent&&n.parent.children,n),n.parent=null,T.fire(e+".removed",{element:n}),a.remove(n),n},r.prototype.removeShape=function(n){return this._removeElement(n,"shape")},r.prototype.removeConnection=function(n){return this._removeElement(n,"connection")},r.prototype.getGraphics=function(n,e){return this._elementRegistry.getGraphics(n,e)},r.prototype._changeViewbox=function(n){this._eventBus.fire("canvas.viewbox.changing"),n.apply(this),this._cachedViewbox=null,this._viewboxChanged()},r.prototype._viewboxChanged=function(){!this._container||this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},r.prototype.viewbox=function(n){if(n===void 0&&this._cachedViewbox)return this._cachedViewbox;var e=this._viewport,a,f=this.getSize(),T,C,y,O,A;if(n)this._changeViewbox(function(){y=Math.min(f.width/n.width,f.height/n.height);var D=this._svg.createSVGMatrix().scale(y).translate(-n.x,-n.y);(0,_.vs)(e,D)});else return a=this.getDefaultLayer().getBBox(),C=(0,_.vs)(e),T=C?C.matrix:(0,_.wz)(),y=p(T.a,1e3),O=p(-T.e||0,1e3),A=p(-T.f||0,1e3),n=this._cachedViewbox={x:O?O/y:0,y:A?A/y:0,width:f.width/y,height:f.height/y,scale:y,inner:{width:a.width,height:a.height,x:a.x,y:a.y},outer:f},n;return n},r.prototype.scroll=function(n){var e=this._viewport,a=e.getCTM();return n&&this._changeViewbox(function(){n=(0,s.f0)({dx:0,dy:0},n||{}),a=this._svg.createSVGMatrix().translate(n.dx,n.dy).multiply(a),t(e,a)}),{x:a.e,y:a.f}},r.prototype.zoom=function(n,e){if(!n)return this.viewbox(n).scale;if(n==="fit-viewport")return this._fitViewport(e);var a,f;return this._changeViewbox(function(){typeof e!="object"&&(a=this.viewbox().outer,e={x:a.width/2,y:a.height/2}),f=this._setZoom(n,e)}),p(f.a,1e3)};function t(n,e){var a="matrix("+e.a+","+e.b+","+e.c+","+e.d+","+e.e+","+e.f+")";n.setAttribute("transform",a)}r.prototype._fitViewport=function(n){var e=this.viewbox(),a=e.outer,f=e.inner,T,C;return f.x>=0&&f.y>=0&&f.x+f.width<=a.width&&f.y+f.height<=a.height&&!n?C={x:0,y:0,width:Math.max(f.width+f.x,a.width),height:Math.max(f.height+f.y,a.height)}:(T=Math.min(1,a.width/f.width,a.height/f.height),C={x:f.x+(n?f.width/2-a.width/T/2:0),y:f.y+(n?f.height/2-a.height/T/2:0),width:a.width/T,height:a.height/T}),this.viewbox(C),this.viewbox(!1).scale},r.prototype._setZoom=function(n,e){var a=this._svg,f=this._viewport,T=a.createSVGMatrix(),C=a.createSVGPoint(),y,O,A,D,I;A=f.getCTM();var U=A.a;return e?(y=(0,s.f0)(C,e),O=y.matrixTransform(A.inverse()),D=T.translate(O.x,O.y).scale(1/U*n).translate(-O.x,-O.y),I=A.multiply(D)):I=T.scale(n),t(this._viewport,I),I},r.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},r.prototype.getAbsoluteBBox=function(n){var e=this.viewbox(),a;if(n.waypoints){var f=this.getGraphics(n);a=f.getBBox()}else a=n;var T=a.x*e.scale-e.x*e.scale,C=a.y*e.scale-e.y*e.scale,y=a.width*e.scale,O=a.height*e.scale;return{x:T,y:C,width:y,height:O}},r.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")}},62565:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>g});var s=m(83962),E=m(2299);function g(){this._uid=12}g.prototype.createRoot=function(_){return this.create("root",_)},g.prototype.createLabel=function(_){return this.create("label",_)},g.prototype.createShape=function(_){return this.create("shape",_)},g.prototype.createConnection=function(_){return this.create("connection",_)},g.prototype.create=function(_,p){return p=(0,E.f0)({},p||{}),p.id||(p.id=_+"_"+this._uid++),(0,s.Ue)(_,p)}},89817:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>g});var s=m(21537),E="data-element-id";function g(_){this._elements={},this._eventBus=_}g.$inject=["eventBus"],g.prototype.add=function(_,p,o){var c=_.id;this._validateId(c),(0,s.Lj)(p,E,c),o&&(0,s.Lj)(o,E,c),this._elements[c]={element:_,gfx:p,secondaryGfx:o}},g.prototype.remove=function(_){var p=this._elements,o=_.id||_,c=o&&p[o];c&&((0,s.Lj)(c.gfx,E,""),c.secondaryGfx&&(0,s.Lj)(c.secondaryGfx,E,""),delete p[o])},g.prototype.updateId=function(_,p){this._validateId(p),typeof _=="string"&&(_=this.get(_)),this._eventBus.fire("element.updateId",{element:_,newId:p});var o=this.getGraphics(_),c=this.getGraphics(_,!0);this.remove(_),_.id=p,this.add(_,o,c)},g.prototype.get=function(_){var p;typeof _=="string"?p=_:p=_&&(0,s.Lj)(_,E);var o=this._elements[p];return o&&o.element},g.prototype.filter=function(_){var p=[];return this.forEach(function(o,c){_(o,c)&&p.push(o)}),p},g.prototype.getAll=function(){return this.filter(function(_){return _})},g.prototype.forEach=function(_){var p=this._elements;Object.keys(p).forEach(function(o){var c=p[o],i=c.element,v=c.gfx;return _(i,v)})},g.prototype.getGraphics=function(_,p){var o=_.id||_,c=this._elements[o];return c&&(p?c.secondaryGfx:c.gfx)},g.prototype._validateId=function(_){if(!_)throw new Error("element must have an id");if(this._elements[_])throw new Error("element with id "+_+" already added")}},27147:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>p});var s=m(2299),E="__fn",g=1e3,_=Array.prototype.slice;function p(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}p.prototype.on=function(i,v,u,r){if(i=(0,s.kJ)(i)?i:[i],(0,s.mf)(v)&&(r=u,u=v,v=g),!(0,s.hj)(v))throw new Error("priority must be a number");var t=u;r&&(t=(0,s.ak)(u,r),t[E]=u[E]||u);var n=this;i.forEach(function(e){n._addListener(e,{priority:v,callback:t,next:null})})},p.prototype.once=function(i,v,u,r){var t=this;if((0,s.mf)(v)&&(r=u,u=v,v=g),!(0,s.hj)(v))throw new Error("priority must be a number");function n(){var e=u.apply(r,arguments);return t.off(i,n),e}n[E]=u,this.on(i,v,n)},p.prototype.off=function(i,v){i=(0,s.kJ)(i)?i:[i];var u=this;i.forEach(function(r){u._removeListener(r,v)})},p.prototype.createEvent=function(i){var v=new o;return v.init(i),v},p.prototype.fire=function(i,v){var u,r,t,n;if(n=_.call(arguments),typeof i=="object"&&(v=i,i=v.type),!i)throw new Error("no event type specified");if(r=this._listeners[i],!!r){v instanceof o?u=v:u=this.createEvent(v),n[0]=u;var e=u.type;i!==e&&(u.type=i);try{t=this._invokeListeners(u,n,r)}finally{i!==e&&(u.type=e)}return t===void 0&&u.defaultPrevented&&(t=!1),t}},p.prototype.handleError=function(i){return this.fire("error",{error:i})===!1},p.prototype._destroy=function(){this._listeners={}},p.prototype._invokeListeners=function(i,v,u){for(var r;u&&!i.cancelBubble;)r=this._invokeListener(i,v,u),u=u.next;return r},p.prototype._invokeListener=function(i,v,u){var r;try{r=c(u.callback,v),r!==void 0&&(i.returnValue=r,i.stopPropagation()),r===!1&&i.preventDefault()}catch(t){if(!this.handleError(t))throw console.error("unhandled error in event listener"),console.error(t.stack),t}return r},p.prototype._addListener=function(i,v){var u=this._getListeners(i),r;if(!u){this._setListeners(i,v);return}for(;u;){if(u.priority<v.priority){v.next=u,r?r.next=v:this._setListeners(i,v);return}r=u,u=u.next}r.next=v},p.prototype._getListeners=function(i){return this._listeners[i]},p.prototype._setListeners=function(i,v){this._listeners[i]=v},p.prototype._removeListener=function(i,v){var u=this._getListeners(i),r,t,n;if(!v){this._setListeners(i,null);return}for(;u;)r=u.next,n=u.callback,(n===v||n[E]===v)&&(t?t.next=r:this._setListeners(i,r)),t=u,u=r};function o(){}o.prototype.stopPropagation=function(){this.cancelBubble=!0},o.prototype.preventDefault=function(){this.defaultPrevented=!0},o.prototype.init=function(i){(0,s.f0)(this,i||{})};function c(i,v){return i.apply(null,v)}},40296:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>c});var s=m(2299),E=m(21202),g=m(18872),_=m(9012),p=m(21537),o=m(64960);function c(v,u){this._eventBus=v,this._elementRegistry=u}c.$inject=["eventBus","elementRegistry"],c.prototype._getChildrenContainer=function(v){var u=this._elementRegistry.getGraphics(v),r;return v.parent?(r=(0,E.G)(u),r||(r=(0,p.Ue)("g"),(0,p.Sh)(r).add("djs-children"),(0,p.R3)(u.parentNode,r))):r=u,r},c.prototype._clear=function(v){var u=(0,E.s)(v);return(0,_.ZH)(u),u},c.prototype._createContainer=function(v,u,r,t){var n=(0,p.Ue)("g");(0,p.Sh)(n).add("djs-group"),typeof r<"u"?i(n,u,u.childNodes[r]):(0,p.R3)(u,n);var e=(0,p.Ue)("g");(0,p.Sh)(e).add("djs-element"),(0,p.Sh)(e).add("djs-"+v),t&&(0,p.Sh)(e).add("djs-frame"),(0,p.R3)(n,e);var a=(0,p.Ue)("g");return(0,p.Sh)(a).add("djs-visual"),(0,p.R3)(e,a),e},c.prototype.create=function(v,u,r){var t=this._getChildrenContainer(u.parent);return this._createContainer(v,t,r,(0,o.He)(u))},c.prototype.updateContainments=function(v){var u=this,r=this._elementRegistry,t;t=(0,s.u4)(v,function(n,e){return e.parent&&(n[e.parent.id]=e.parent),n},{}),(0,s.Ed)(t,function(n){var e=n.children;if(!!e){var a=u._getChildrenContainer(n);(0,s.Ed)(e.slice().reverse(),function(f){var T=r.getGraphics(f);i(T.parentNode,a)})}})},c.prototype.drawShape=function(v,u){var r=this._eventBus;return r.fire("render.shape",{gfx:v,element:u})},c.prototype.getShapePath=function(v){var u=this._eventBus;return u.fire("render.getShapePath",v)},c.prototype.drawConnection=function(v,u){var r=this._eventBus;return r.fire("render.connection",{gfx:v,element:u})},c.prototype.getConnectionPath=function(v){var u=this._eventBus;return u.fire("render.getConnectionPath",v)},c.prototype.update=function(v,u,r){if(!!u.parent){var t=this._clear(r);if(v==="shape")this.drawShape(t,u),(0,g.Iu)(r,u.x,u.y);else if(v==="connection")this.drawConnection(t,u);else throw new Error("unknown type: "+v);u.hidden?(0,p.Lj)(r,"display","none"):(0,p.Lj)(r,"display","block")}},c.prototype.remove=function(v){var u=this._elementRegistry.getGraphics(v);(0,p.Od)(u.parentNode)};function i(v,u,r){var t=r||u.firstChild;v!==t&&u.insertBefore(v,t)}},47595:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>E});var s=1e3;function E(g,_){var p=this;_=_||s,g.on(["render.shape","render.connection"],_,function(o,c){var i=o.type,v=c.element,u=c.gfx;if(p.canRender(v))return i==="render.shape"?p.drawShape(u,v):p.drawConnection(u,v)}),g.on(["render.getShapePath","render.getConnectionPath"],_,function(o,c){if(p.canRender(c))return o.type==="render.getShapePath"?p.getShapePath(c):p.getConnectionPath(c)})}E.prototype.canRender=function(){},E.prototype.drawShape=function(){},E.prototype.drawConnection=function(){},E.prototype.getShapePath=function(){},E.prototype.getConnectionPath=function(){}},91356:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>E});var s=m(2299);function E(){var g={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},_=this;this.cls=function(p,o,c){var i=this.style(o,c);return(0,s.f0)(i,{class:p})},this.style=function(p,o){!(0,s.kJ)(p)&&!o&&(o=p,p=[]);var c=(0,s.u4)(p,function(i,v){return(0,s.f0)(i,g[v]||{})},{});return o?(0,s.f0)(c,o):c},this.computeStyle=function(p,o,c){return(0,s.kJ)(o)||(c=o,o=[]),_.style(o||[],(0,s.f0)({},c,p||{}))}}},22586:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>c});var s=m(2299);function E(i){return i&&i[i.length-1]}function g(i){return i.y}function _(i){return i.x}var p={left:_,center:_,right:function(i){return i.x+i.width},top:g,middle:g,bottom:function(i){return i.y+i.height}};function o(i){this._modeling=i}o.$inject=["modeling"],o.prototype._getOrientationDetails=function(i){var v=["top","bottom","middle"],u="x",r="width";return v.indexOf(i)!==-1&&(u="y",r="height"),{axis:u,dimension:r}},o.prototype._isType=function(i,v){return v.indexOf(i)!==-1},o.prototype._alignmentPosition=function(i,v){var u=this._getOrientationDetails(i),r=u.axis,t=u.dimension,n={},e={},a=!1,f,T,C;function y(O,A){return Math.round((O[r]+A[r]+A[t])/2)}if(this._isType(i,["left","top"]))n[i]=v[0][r];else if(this._isType(i,["right","bottom"]))C=E(v),n[i]=C[r]+C[t];else if(this._isType(i,["center","middle"])){if((0,s.Ed)(v,function(O){var A=O[r]+Math.round(O[t]/2);e[A]?e[A].elements.push(O):e[A]={elements:[O],center:A}}),f=(0,s.MR)(e,function(O){return O.elements.length>1&&(a=!0),O.elements.length}),a)return n[i]=E(f).center,n;T=v[0],v=(0,s.MR)(v,function(O){return O[r]+O[t]}),C=E(v),n[i]=y(T,C)}return n},o.prototype.trigger=function(i,v){var u=this._modeling,r=(0,s.hX)(i,function(a){return!(a.waypoints||a.host||a.labelTarget)}),t=p[v],n=(0,s.MR)(r,t),e=this._alignmentPosition(v,n);u.alignElements(n,e)};const c={__init__:["alignElements"],alignElements:["type",o]}},9237:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>u});var s=m(59879),E=m.n(s),g=m(64960),_=m(86463),p=m(2299),o=m(91658);function c(r,t,n,e){o.Z.call(this,r),this._elementRegistry=t,this._modeling=n,this._rules=e;var a=this;this.postExecuted(["shape.create"],function(f){var T=f.context,C=T.hints||{},y=T.shape,O=T.parent||T.newParent;C.autoResize!==!1&&a._expand([y],O)}),this.postExecuted(["elements.move"],function(f){var T=f.context,C=(0,p.xH)((0,p.VO)(T.closure.topLevel)),y=T.hints,O=y?y.autoResize:!0;if(O!==!1){var A=(0,p.vM)(C,function(D){return D.parent.id});(0,p.Ed)(A,function(D,I){(0,p.kJ)(O)&&(D=D.filter(function(U){return(0,p.sE)(O,(0,p.KQ)({id:U.id}))})),a._expand(D,I)})}}),this.postExecuted(["shape.toggleCollapse"],function(f){var T=f.context,C=T.hints,y=T.shape;C&&C.autoResize===!1||y.collapsed||a._expand(y.children||[],y)}),this.postExecuted(["shape.resize"],function(f){var T=f.context,C=T.hints,y=T.shape,O=y.parent;C&&C.autoResize===!1||O&&a._expand([y],O)})}c.$inject=["eventBus","elementRegistry","modeling","rules"],E()(c,o.Z),c.prototype._getOptimalBounds=function(r,t){var n=this.getOffset(t),e=this.getPadding(t),a=(0,_.JA)((0,g.jY)(r)),f=(0,_.JA)(t),T={};return a.top-f.top<e.top&&(T.top=a.top-n.top),a.left-f.left<e.left&&(T.left=a.left-n.left),f.right-a.right<e.right&&(T.right=a.right+n.right),f.bottom-a.bottom<e.bottom&&(T.bottom=a.bottom+n.bottom),(0,_.z_)((0,p.f0)({},f,T))},c.prototype._expand=function(r,t){typeof t=="string"&&(t=this._elementRegistry.get(t));var n=this._rules.allowed("element.autoResize",{elements:r,target:t});if(!!n){var e=this._getOptimalBounds(r,t);if(!!i(e,t)){var a=v((0,p.ei)(t,["x","y","width","height"]),e);this.resize(t,e,{autoResize:a});var f=t.parent;f&&this._expand([t],f)}}},c.prototype.getOffset=function(r){return{top:60,bottom:60,left:100,right:100}},c.prototype.getPadding=function(r){return{top:2,bottom:2,left:15,right:15}},c.prototype.resize=function(r,t,n){this._modeling.resizeShape(r,t,null,n)};function i(r,t){return r.x!==t.x||r.y!==t.y||r.width!==t.width||r.height!==t.height}function v(r,t){var n="";return r=(0,_.JA)(r),t=(0,_.JA)(t),r.top>t.top&&(n=n.concat("n")),r.right<t.right&&(n=n.concat("w")),r.bottom<t.bottom&&(n=n.concat("s")),r.left>t.left&&(n=n.concat("e")),n}const u={__init__:["autoResize"],autoResize:["type",c]}},68077:(rt,G,m)=>{"use strict";m.d(G,{lo:()=>a,MY:()=>f,wZ:()=>y,zG:()=>A,bg:()=>D,s4:()=>C});var s=m(46534),E=m(41741),g=m(21537),_=m(18872),p=m(7502),o=m.n(p),c=Math.round,i=Math.max;function v(U,L){var N=U.x,Y=U.y;return[["M",N,Y],["m",0,-L],["a",L,L,0,1,1,0,2*L],["a",L,L,0,1,1,0,-2*L],["z"]]}function u(U){var L=[];return U.forEach(function(N,Y){L.push([Y===0?"M":"L",N.x,N.y])}),L}var r=10;function t(U,L){var N,Y;for(N=0;Y=U[N];N++)if((0,E.tW)(Y,L)<=r)return{point:U[N],bendpoint:!0,index:N};return null}function n(U,L){var N=o()(v(L,r),u(U)),Y=N[0],Q=N[N.length-1],it;return Y?Y!==Q?Y.segment2!==Q.segment2?(it=i(Y.segment2,Q.segment2)-1,{point:U[it],bendpoint:!0,index:it}):{point:{x:c(Y.x+Q.x)/2,y:c(Y.y+Q.y)/2},index:Y.segment2}:{point:{x:c(Y.x),y:c(Y.y)},index:Y.segment2}:null}function e(U,L){return t(U,L)||n(U,L)}var a="djs-bendpoint",f="djs-segment-dragger";function T(U,L){var N=(0,s.jt)(L),Y=U._container.getBoundingClientRect(),Q;Q={x:Y.left,y:Y.top};var it=U.viewbox();return{x:it.x+(N.x-Q.x)/it.scale,y:it.y+(N.y-Q.y)/it.scale}}function C(U,L,N){var Y=T(U,N),Q=e(L,Y);return Q}function y(U,L){var N=(0,g.Ue)("g");(0,g.Sh)(N).add(a),(0,g.R3)(U,N);var Y=(0,g.Ue)("circle");(0,g.Lj)(Y,{cx:0,cy:0,r:4}),(0,g.Sh)(Y).add("djs-visual"),(0,g.R3)(N,Y);var Q=(0,g.Ue)("circle");return(0,g.Lj)(Q,{cx:0,cy:0,r:10}),(0,g.Sh)(Q).add("djs-hit"),(0,g.R3)(N,Q),L&&(0,g.Sh)(N).add(L),N}function O(U,L,N,Y){var Q=(0,g.Ue)("g");(0,g.R3)(U,Q);var it=14,tt=3,$=6,W=I(L,N,Y),P=tt+$,l=(0,g.Ue)("rect");(0,g.Lj)(l,{x:-it/2,y:-tt/2,width:it,height:tt}),(0,g.Sh)(l).add("djs-visual"),(0,g.R3)(Q,l);var x=(0,g.Ue)("rect");return(0,g.Lj)(x,{x:-W/2,y:-P/2,width:W,height:P}),(0,g.Sh)(x).add("djs-hit"),(0,g.R3)(Q,x),(0,_.U1)(Q,Y==="v"?90:0,0,0),Q}function A(U,L,N){var Y=(0,g.Ue)("g"),Q=(0,E.SO)(L,N),it=(0,E.Or)(L,N);return(0,g.R3)(U,Y),O(Y,L,N,it),(0,g.Sh)(Y).add(f),(0,g.Sh)(Y).add(it==="h"?"horizontal":"vertical"),(0,_.Iu)(Y,Q.x,Q.y),Y}function D(U){return Math.abs(Math.round(U*2/3))}function I(U,L,N){var Y=L.x-U.x,Q=L.y-U.y;return D(N==="h"?Y:Q)}},71878:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>v});var s=m(2299),E=m(9012),g=m(68077),_=m(52243),p=m.n(_),o=m(41741),c=m(21537),i=m(18872);function v(r,t,n,e,a){var f=this;function T($,W,P){var l=$.index,x=$.point,h,d,S,M,j,B;return l<=0||$.bendpoint?!1:(h=W[l-1],d=W[l],S=(0,o.SO)(h,d),M=(0,o.Or)(h,d),j=Math.abs(x.x-S.x),B=Math.abs(x.y-S.y),M&&j<=P&&B<=P)}function C($,W){var P=$.waypoints,l,x,h,d;return W.index<=0||W.bendpoint||(l={start:P[W.index-1],end:P[W.index]},x=(0,o.Or)(l.start,l.end),!x)?null:(x==="h"?h=l.end.x-l.start.x:h=l.end.y-l.start.y,d=(0,g.bg)(h)/2,d)}function y($,W){var P=W.waypoints,l=(0,g.s4)(t,P,$),x;if(!!l)return x=C(W,l),T(l,P,x)?a.start($,W,l.index):e.start($,W,l.index,!l.bendpoint),!0}function O($,W,P){E.B.bind($,W,function(l){n.triggerMouseEvent(W,l,P),l.stopPropagation()})}function A($,W){var P=t.getLayer("overlays"),l=(0,E.IO)('.djs-bendpoints[data-element-id="'+p()($.id)+'"]',P);return!l&&W&&(l=(0,c.Ue)("g"),(0,c.Lj)(l,{"data-element-id":$.id}),(0,c.Sh)(l).add("djs-bendpoints"),(0,c.R3)(P,l),O(l,"mousedown",$),O(l,"click",$),O(l,"dblclick",$)),l}function D($,W){return(0,E.IO)('.djs-segment-dragger[data-segment-idx="'+$+'"]',W)}function I($,W){W.waypoints.filter(f.getConnectionBendpointsFilter).forEach(function(P,l){var x=(0,g.wZ)($);(0,c.R3)($,x),(0,i.Iu)(x,P.x,P.y)}),(0,g.wZ)($,"floating")}function U($,W){for(var P=W.waypoints,l,x,h,d=1;d<P.length;d++)l=P[d-1],x=P[d],(0,o.Or)(l,x)&&(h=(0,g.zG)($,l,x),(0,c.Lj)(h,{"data-segment-idx":d}),O(h,"mousemove",W))}function L($){(0,s.Ed)((0,E.Kt)("."+g.lo,$),function(W){(0,c.Od)(W)})}function N($){(0,s.Ed)((0,E.Kt)("."+g.MY,$),function(W){(0,c.Od)(W)})}function Y($){var W=A($);return W||(W=A($,!0),I(W,$),U(W,$)),W}function Q($){var W=A($);W&&(N(W),L(W),U(W,$),I(W,$))}function it($,W){var P=(0,E.IO)(".floating",$),l=W.point;!P||(0,i.Iu)(P,l.x,l.y)}function tt($,W,P){var l=D(W.index,$),x=P[W.index-1],h=P[W.index],d=W.point,S=(0,o.SO)(x,h),M=(0,o.Or)(x,h),j,B;!l||(j=u(l),B={x:d.x-S.x,y:d.y-S.y},M==="v"&&(B={x:B.y,y:B.x}),(0,i.Iu)(j,B.x,B.y))}r.on("connection.changed",function($){Q($.element)}),r.on("connection.remove",function($){var W=A($.element);W&&(0,c.Od)(W)}),r.on("element.marker.update",function($){var W=$.element,P;!W.waypoints||(P=Y(W),$.add?(0,c.Sh)(P).add($.marker):(0,c.Sh)(P).remove($.marker))}),r.on("element.mousemove",function($){var W=$.element,P=W.waypoints,l,x;if(P){if(l=A(W,!0),x=(0,g.s4)(t,P,$.originalEvent),!x)return;it(l,x),x.bendpoint||tt(l,x,P)}}),r.on("element.mousedown",function($){var W=$.originalEvent,P=$.element,l=P.waypoints;if(!!l)return y(W,P)}),r.on("selection.changed",function($){var W=$.newSelection,P=W[0];P&&P.waypoints&&Y(P)}),r.on("element.hover",function($){var W=$.element;W.waypoints&&(Y(W),n.registerEvent($.gfx,"mousemove","element.mousemove"))}),r.on("element.out",function($){n.unregisterEvent($.gfx,"mousemove","element.mousemove")}),r.on("element.updateId",function($){var W=$.element,P=$.newId;if(W.waypoints){var l=A(W);l&&(0,c.Lj)(l,{"data-element-id":P})}}),this.addHandles=Y,this.updateHandles=Q,this.getBendpointsContainer=A,this.getSegmentDragger=D}v.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];function u(r){return(0,E.IO)(".djs-visual",r)}v.prototype.getConnectionBendpointsFilter=function(r,t,n){return!0}},42508:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>n});var s=m(41741),E=m(68077),g=m(86463),_=m(21537),p=m(18872),o="connect-hover",c="djs-updating";function i(e,a,f){return v(e,a,e[a]+f)}function v(e,a,f){return{x:a==="x"?f:e.x,y:a==="y"?f:e.y}}function u(e,a,f,T){var C=Math.max(a[T],f[T]),y=Math.min(a[T],f[T]),O=20,A=Math.min(Math.max(y+O,e[T]),C-O);return v(a,T,A)}function r(e){return e==="x"?"y":"x"}function t(e,a,f){var T,C;return e.original?e.original:(T=(0,g.wS)(a),C=r(f),v(e,C,T[C]))}function n(e,a,f,T,C,y){var O=e.get("connectionDocking",!1);this.start=function(L,N,Y){var Q,it=f.getGraphics(N),tt=Y-1,$=Y,W=N.waypoints,P=W[tt],l=W[$],x=(0,E.s4)(f,W,L),h,d,S;h=(0,s.Or)(P,l),h&&(d=h==="v"?"x":"y",tt===0&&(P=t(P,N.source,d)),$===W.length-1&&(l=t(l,N.target,d)),x?S=x.point:S={x:(P.x+l.x)/2,y:(P.y+l.y)/2},Q={connection:N,segmentStartIndex:tt,segmentEndIndex:$,segmentStart:P,segmentEnd:l,axis:d,dragPosition:S},T.init(L,S,"connectionSegment.move",{cursor:d==="x"?"resize-ew":"resize-ns",data:{connection:N,connectionGfx:it,context:Q}}))};function A(L,N){if(!O)return N;var Y=L.waypoints,Q;return L.waypoints=N,Q=O.getCroppedWaypoints(L),L.waypoints=Y,Q}function D(L){C.update("connection",L.connection,L.connectionGfx)}function I(L,N,Y){var Q=L.newWaypoints,it=L.segmentStartIndex+N,tt=Q[it],$=L.segmentEndIndex+N,W=Q[$],P=r(L.axis),l=u(Y,tt,W,P);(0,p.Iu)(L.draggerGfx,l.x,l.y)}function U(L,N){var Y=0,Q=L.filter(function(it,tt){return(0,s.ZS)(L[tt-1],L[tt+1],it)?(Y=tt<=N?Y-1:Y,!1):!0});return{waypoints:Q,segmentOffset:Y}}a.on("connectionSegment.move.start",function(L){var N=L.context,Y=L.connection,Q=f.getLayer("overlays");N.originalWaypoints=Y.waypoints.slice(),N.draggerGfx=(0,E.zG)(Q,N.segmentStart,N.segmentEnd),(0,_.Sh)(N.draggerGfx).add("djs-dragging"),f.addMarker(Y,c)}),a.on("connectionSegment.move.move",function(L){var N=L.context,Y=N.connection,Q=N.segmentStartIndex,it=N.segmentEndIndex,tt=N.segmentStart,$=N.segmentEnd,W=N.axis,P=N.originalWaypoints.slice(),l=i(tt,W,L["d"+W]),x=i($,W,L["d"+W]),h=P.length,d=0;P[Q]=l,P[it]=x;var S,M;Q<2&&(S=(0,g.T8)(Y.source,l),Q===1?S==="intersect"&&(P.shift(),P[0]=l,d--):S!=="intersect"&&(P.unshift(tt),d++)),it>h-3&&(M=(0,g.T8)(Y.target,x),it===h-2?M==="intersect"&&(P.pop(),P[P.length-1]=x):M!=="intersect"&&P.push($)),N.newWaypoints=Y.waypoints=A(Y,P),I(N,d,L),N.newSegmentStartIndex=Q+d,D(L)}),a.on("connectionSegment.move.hover",function(L){L.context.hover=L.hover,f.addMarker(L.hover,o)}),a.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],function(L){var N=L.context.hover;N&&f.removeMarker(N,o)}),a.on("connectionSegment.move.cleanup",function(L){var N=L.context,Y=N.connection;N.draggerGfx&&(0,_.Od)(N.draggerGfx),f.removeMarker(Y,c)}),a.on(["connectionSegment.move.cancel","connectionSegment.move.end"],function(L){var N=L.context,Y=N.connection;Y.waypoints=N.originalWaypoints,D(L)}),a.on("connectionSegment.move.end",function(L){var N=L.context,Y=N.connection,Q=N.newWaypoints,it=N.newSegmentStartIndex;Q=Q.map(function(x){var h={x:Math.round(x.x),y:Math.round(x.y)};return x.original&&(h.original=x.original),h});var tt=U(Q,it),$=tt.waypoints,W=A(Y,$),P=tt.segmentOffset,l={segmentMove:{segmentStartIndex:N.segmentStartIndex,newSegmentStartIndex:it+P}};y.updateWaypoints(Y,W,l)})}n.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"]},27521:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>$});var s=m(13203),E=m(67989),g=m(71878),_=m(86463),p=Math.round,o="reconnectStart",c="reconnectEnd",i="updateWaypoints";function v(W,P,l,x,h,d){this._injector=W,this.start=function(S,M,j,B){var F=l.getGraphics(M),V=M.source,X=M.target,q=M.waypoints,nt;!B&&j===0?nt=o:!B&&j===q.length-1?nt=c:nt=i;var H=nt===i?"connection.updateWaypoints":"connection.reconnect",z=h.allowed(H,{connection:M,source:V,target:X});z===!1&&(z=h.allowed(H,{connection:M,source:X,target:V})),z!==!1&&x.init(S,"bendpoint.move",{data:{connection:M,connectionGfx:F,context:{allowed:z,bendpointIndex:j,connection:M,source:V,target:X,insert:B,type:nt}}})},P.on("bendpoint.move.hover",function(S){var M=S.context,j=M.connection,B=j.source,F=j.target,V=S.hover,X=M.type;M.hover=V;var q;if(!!V){var nt=X===i?"connection.updateWaypoints":"connection.reconnect";if(q=M.allowed=h.allowed(nt,{connection:j,source:X===o?V:B,target:X===c?V:F,type:X}),q){M.source=X===o?V:B,M.target=X===c?V:F;return}q===!1&&(q=M.allowed=h.allowed(nt,{connection:j,source:X===c?V:F,target:X===o?V:B,type:X})),q&&(M.source=X===c?V:F,M.target=X===o?V:B)}}),P.on(["bendpoint.move.out","bendpoint.move.cleanup"],function(S){var M=S.context;M.hover=null,M.source=null,M.target=null,M.allowed=!1}),P.on("bendpoint.move.end",function(S){var M=S.context,j=M.allowed,B=M.bendpointIndex,F=M.connection,V=M.insert,X=F.waypoints.slice(),q=M.source,nt=M.target,H=M.type,z={},K={x:p(S.x),y:p(S.y)};if(!j)return!1;H===i?(V?X.splice(B,0,K):X[B]=K,z={bendpointMove:{insert:V,bendpointIndex:B}},X=this.cropWaypoints(F,X),d.updateWaypoints(F,(0,_.Re)(X),z)):(H===o?(z.docking="source",u(M)&&(z.docking="target",z.newWaypoints=X.reverse())):H===c&&(z.docking="target",u(M)&&(z.docking="source",z.newWaypoints=X.reverse())),d.reconnect(F,q,nt,K,z))},this)}v.$inject=["injector","eventBus","canvas","dragging","rules","modeling"],v.prototype.cropWaypoints=function(W,P){var l=this._injector.get("connectionDocking",!1);if(!l)return P;var x=W.waypoints;return W.waypoints=P,W.waypoints=l.getCroppedWaypoints(W),P=W.waypoints,W.waypoints=x,P};function u(W){var P=W.hover,l=W.source,x=W.target,h=W.type;if(h===o)return P&&x&&P===x&&l!==x;if(h===c)return P&&l&&P===l&&l!==x}var r=m(21537),t=m(68077),n=m(18872),e="reconnectStart",a="reconnectEnd",f="updateWaypoints",T="connect-ok",C="connect-not-ok",y="connect-hover",O="djs-updating",A="djs-element-hidden",D=1100;function I(W,P,l,x){this._injector=P;var h=P.get("connectionPreview",!1);l.on("bendpoint.move.start",function(d){var S=d.context,M=S.bendpointIndex,j=S.connection,B=S.insert,F=j.waypoints,V=F.slice();S.waypoints=F,B&&V.splice(M,0,{x:d.x,y:d.y}),j.waypoints=V;var X=S.draggerGfx=(0,t.wZ)(x.getLayer("overlays"));(0,r.Sh)(X).add("djs-dragging"),x.addMarker(j,A),x.addMarker(j,O)}),l.on("bendpoint.move.hover",function(d){var S=d.context,M=S.allowed,j=S.hover,B=S.type;if(j){if(x.addMarker(j,y),B===f)return;M?(x.removeMarker(j,C),x.addMarker(j,T)):M===!1&&(x.removeMarker(j,T),x.addMarker(j,C))}}),l.on(["bendpoint.move.out","bendpoint.move.cleanup"],D,function(d){var S=d.context,M=S.hover,j=S.target;M&&(x.removeMarker(M,y),x.removeMarker(M,j?T:C))}),l.on("bendpoint.move.move",function(d){var S=d.context,M=S.allowed,j=S.bendpointIndex,B=S.draggerGfx,F=S.hover,V=S.type,X=S.connection,q=X.source,nt=X.target,H=X.waypoints.slice(),z=H.slice().reverse(),K={x:d.x,y:d.y},w;h&&(w={source:q,target:nt},V===e?u(S)?(w.connectionEnd=K,w.source=nt,w.target=F||q,H=z):(w.connectionStart=K,w.source=F||q):V===a?u(S)?(w.connectionStart=K,w.target=q,w.source=F||nt,H=z):(w.connectionEnd=K,w.target=F||nt):(w.noCropping=!0,w.noLayout=!0,H[j]=K),V===f&&(H=W.cropWaypoints(X,H)),w.waypoints=H,h.drawPreview(S,M,w)),(0,n.Iu)(B,d.x,d.y)},this),l.on(["bendpoint.move.end","bendpoint.move.cancel"],D,function(d){var S=d.context,M=S.connection,j=S.draggerGfx,B=S.hover,F=S.target,V=S.waypoints;M.waypoints=V,(0,r.Od)(j),x.removeMarker(M,O),x.removeMarker(M,A),B&&(x.removeMarker(B,T),x.removeMarker(B,F?T:C)),h&&h.cleanUp(S)})}I.$inject=["bendpointMove","injector","eventBus","canvas"];var U=m(42508),L=m(2299),N=m(44610),Y=Math.abs,Q=Math.round,it=10;function tt(W){function P(d,S){if((0,L.kJ)(d)){for(var M=d.length;M--;)if(Y(d[M]-S)<=it)return d[M]}else{d=+d;var j=S%d;if(j<it)return S-j;if(j>d-it)return S-j+d}return S}function l(d){if(d.width)return{x:Q(d.width/2+d.x),y:Q(d.height/2+d.y)}}function x(d){var S=d.snapPoints,M=d.connection,j=M.waypoints,B=d.segmentStart,F=d.segmentStartIndex,V=d.segmentEnd,X=d.segmentEndIndex,q=d.axis;if(S)return S;var nt=[j[F-1],B,V,j[X+1]];return F<2&&nt.unshift(l(M.source)),X>j.length-3&&nt.unshift(l(M.target)),d.snapPoints=S={horizontal:[],vertical:[]},(0,L.Ed)(nt,function(H){H&&(H=H.original||H,q==="y"&&S.horizontal.push(H.y),q==="x"&&S.vertical.push(H.x))}),S}W.on("connectionSegment.move.move",1500,function(d){var S=d.context,M=x(S),j=d.x,B=d.y,F,V;if(!!M){F=P(M.vertical,j),V=P(M.horizontal,B);var X=j-F,q=B-V;(0,L.f0)(d,{dx:d.dx-X,dy:d.dy-q,x:F,y:V}),(X||M.vertical.indexOf(j)!==-1)&&(0,N.U)(d,"x",F),(q||M.horizontal.indexOf(B)!==-1)&&(0,N.U)(d,"y",V)}});function h(d){var S=d.snapPoints,M=d.connection.waypoints,j=d.bendpointIndex;if(S)return S;var B=[M[j-1],M[j+1]];return d.snapPoints=S={horizontal:[],vertical:[]},(0,L.Ed)(B,function(F){F&&(F=F.original||F,S.horizontal.push(F.y),S.vertical.push(F.x))}),S}W.on(["bendpoint.move.move","bendpoint.move.end"],1500,function(d){var S=d.context,M=h(S),j=S.hover,B=j&&l(j),F=d.x,V=d.y,X,q;if(!!M){X=P(B?M.vertical.concat([B.x]):M.vertical,F),q=P(B?M.horizontal.concat([B.y]):M.horizontal,V);var nt=F-X,H=V-q;(0,L.f0)(d,{dx:d.dx-nt,dy:d.dy-H,x:d.x-nt,y:d.y-H}),(nt||M.vertical.indexOf(F)!==-1)&&(0,N.U)(d,"x",X),(H||M.horizontal.indexOf(V)!==-1)&&(0,N.U)(d,"y",q)}})}tt.$inject=["eventBus"];const $={__depends__:[s.Z,E.Z],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",g.Z],bendpointMove:["type",v],bendpointMovePreview:["type",I],connectionSegmentMove:["type",U.Z],bendpointSnapping:["type",tt]}},98192:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>g});var s=m(64960);function E(_,p,o,c){_.on("element.changed",function(i){var v=i.element;(v.parent||v===p.getRootElement())&&(i.gfx=o.getGraphics(v)),i.gfx&&_.fire((0,s.oL)(v)+".changed",i)}),_.on("elements.changed",function(i){var v=i.elements;v.forEach(function(u){_.fire("element.changed",{element:u})}),c.updateContainments(v)}),_.on("shape.changed",function(i){c.update("shape",i.element,i.gfx)}),_.on("connection.changed",function(i){c.update("connection",i.element,i.gfx)})}E.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];const g={__init__:["changeSupport"],changeSupport:["type",E]}},45193:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>n});var s=m(42226),E=m(67989),g=m(13203),_=m(86463),p=m(2299);function o(e,a,f,T){function C(O,A){return T.allowed("connection.create",{source:O,target:A})}function y(O,A){return C(A,O)}e.on("connect.hover",function(O){var A=O.context,D=A.start,I=O.hover,U;if(A.hover=I,U=A.canExecute=C(D,I),!(0,p.kK)(U)){if(U!==!1){A.source=D,A.target=I;return}U=A.canExecute=y(D,I),!(0,p.kK)(U)&&U!==!1&&(A.source=I,A.target=D)}}),e.on(["connect.out","connect.cleanup"],function(O){var A=O.context;A.hover=null,A.source=null,A.target=null,A.canExecute=!1}),e.on("connect.end",function(O){var A=O.context,D=A.canExecute,I=A.connectionStart,U={x:O.x,y:O.y},L=A.source,N=A.target;if(!D)return!1;var Y=null,Q={connectionStart:c(A)?U:I,connectionEnd:c(A)?I:U};(0,p.Kn)(D)&&(Y=D);var it=f.connect(L,N,Y,Q);O.context.connection=it}),this.start=function(O,A,D,I){(0,p.Kn)(D)||(I=D,D=(0,_.wS)(A)),a.init(O,"connect",{autoActivate:I,data:{shape:A,context:{start:A,connectionStart:D}}})}}o.$inject=["eventBus","dragging","modeling","rules"];function c(e){var a=e.hover,f=e.source,T=e.target;return a&&f&&a===f&&f!==T}var i=1100,v=900,u="connect-ok",r="connect-not-ok";function t(e,a,f){var T=e.get("connectionPreview",!1);T&&a.on("connect.move",function(C){var y=C.context,O=y.canExecute,A=y.hover,D=y.source,I=y.start,U=y.startPosition,L=y.target,N=c(y)?{x:C.x,y:C.y}:U,Y=c(y)?U:{x:C.x,y:C.y};T.drawPreview(y,O,{source:D||I,target:L||A,connectionStart:N,connectionEnd:Y})}),a.on("connect.hover",v,function(C){var y=C.context,O=C.hover,A=y.canExecute;A!==null&&f.addMarker(O,A?u:r)}),a.on(["connect.out","connect.cleanup"],i,function(C){var y=C.hover;y&&(f.removeMarker(y,u),f.removeMarker(y,r))}),T&&a.on("connect.cleanup",function(C){T.cleanUp(C.context)})}t.$inject=["injector","eventBus","canvas"];const n={__depends__:[s.Z,E.Z,g.Z],__init__:["connectPreview"],connect:["type",o],connectPreview:["type",t]}},9572:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>p});var s=m(21537),E=m(2299),g=m(86463),_="djs-connection-preview";function p(i,v,u,r){this._canvas=v,this._graphicsFactory=u,this._elementFactory=r,this._connectionDocking=i.get("connectionDocking",!1),this._layouter=i.get("layouter",!1)}p.$inject=["injector","canvas","graphicsFactory","elementFactory"],p.prototype.drawPreview=function(i,v,u){u=u||{};var r=i.connectionPreviewGfx,t=i.getConnection,n=u.source,e=u.target,a=u.waypoints,f=u.connectionStart,T=u.connectionEnd,C=u.noLayout,y=u.noCropping,O=u.noNoop,A,D=this;if(r||(r=i.connectionPreviewGfx=this.createConnectionPreviewGfx()),(0,s.ZH)(r),t||(t=i.getConnection=o(function(I,U,L){return D.getConnection(I,U,L)})),v&&(A=t(v,n,e)),!A){!O&&this.drawNoopPreview(r,u);return}A.waypoints=a||[],this._layouter&&!C&&(A.waypoints=this._layouter.layoutConnection(A,{source:n,target:e,connectionStart:f,connectionEnd:T,waypoints:u.waypoints||A.waypoints})),(!A.waypoints||!A.waypoints.length)&&(A.waypoints=[n?(0,g.wS)(n):f,e?(0,g.wS)(e):T]),this._connectionDocking&&(n||e)&&!y&&(A.waypoints=this._connectionDocking.getCroppedWaypoints(A,n,e)),this._graphicsFactory.drawConnection(r,A)},p.prototype.drawNoopPreview=function(i,v){var u=v.source,r=v.target,t=v.connectionStart||(0,g.wS)(u),n=v.connectionEnd||(0,g.wS)(r),e=this.cropWaypoints(t,n,u,r),a=this.createNoopConnection(e[0],e[1]);(0,s.R3)(i,a)},p.prototype.cropWaypoints=function(i,v,u,r){var t=this._graphicsFactory,n=u&&t.getShapePath(u),e=r&&t.getShapePath(r),a=t.getConnectionPath({waypoints:[i,v]});return i=u&&(0,g.Hz)(n,a,!0)||i,v=r&&(0,g.Hz)(e,a,!1)||v,[i,v]},p.prototype.cleanUp=function(i){i&&i.connectionPreviewGfx&&(0,s.Od)(i.connectionPreviewGfx)},p.prototype.getConnection=function(i){var v=c(i);return this._elementFactory.createConnection(v)},p.prototype.createConnectionPreviewGfx=function(){var i=(0,s.Ue)("g");return(0,s.Lj)(i,{pointerEvents:"none"}),(0,s.Sh)(i).add(_),(0,s.R3)(this._canvas.getDefaultLayer(),i),i},p.prototype.createNoopConnection=function(i,v){var u=(0,s.Ue)("polyline");return(0,s.Lj)(u,{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"}),(0,s.Lj)(u,{points:[i.x,i.y,v.x,v.y]}),u};function o(i){var v={};return function(u){var r=JSON.stringify(u),t=v[r];return t||(t=v[r]=i.apply(null,arguments)),t}}function c(i){return(0,E.Kn)(i)?i:{}}},17722:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>E});var s=m(9572);const E={__init__:["connectionPreview"],connectionPreview:["type",s.Z]}},43190:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>C});var s=m(85637),E=m(2299),g=m(9012),_=m(64960),p=m(50296),o=new p.Z("ov"),c=500;function i(y,O,A,D){this._eventBus=O,this._canvas=A,this._elementRegistry=D,this._ids=o,this._overlayDefaults=(0,E.f0)({show:null,scale:!0},y&&y.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=v(A.getContainer()),this._init()}i.$inject=["config.overlays","eventBus","canvas","elementRegistry"],i.prototype.get=function(y){if((0,E.HD)(y)&&(y={id:y}),(0,E.HD)(y.element)&&(y.element=this._elementRegistry.get(y.element)),y.element){var O=this._getOverlayContainer(y.element,!0);return O?y.type?(0,E.hX)(O.overlays,(0,E.KQ)({type:y.type})):O.overlays.slice():[]}else return y.type?(0,E.hX)(this._overlays,(0,E.KQ)({type:y.type})):y.id?this._overlays[y.id]:null},i.prototype.add=function(y,O,A){if((0,E.Kn)(O)&&(A=O,O=null),y.id||(y=this._elementRegistry.get(y)),!A.position)throw new Error("must specifiy overlay position");if(!A.html)throw new Error("must specifiy overlay html");if(!y)throw new Error("invalid element specified");var D=this._ids.next();return A=(0,E.f0)({},this._overlayDefaults,A,{id:D,type:O,element:y,html:A.html}),this._addOverlay(A),D},i.prototype.remove=function(y){var O=this.get(y)||[];(0,E.kJ)(O)||(O=[O]);var A=this;(0,E.Ed)(O,function(D){var I=A._getOverlayContainer(D.element,!0);if(D&&((0,g.Od)(D.html),(0,g.Od)(D.htmlContainer),delete D.htmlContainer,delete D.element,delete A._overlays[D.id]),I){var U=I.overlays.indexOf(D);U!==-1&&I.overlays.splice(U,1)}})},i.prototype.show=function(){r(this._overlayRoot)},i.prototype.hide=function(){r(this._overlayRoot,!1)},i.prototype.clear=function(){this._overlays={},this._overlayContainers=[],(0,g.ZH)(this._overlayRoot)},i.prototype._updateOverlayContainer=function(y){var O=y.element,A=y.html,D=O.x,I=O.y;if(O.waypoints){var U=(0,_.jY)(O);D=U.x,I=U.y}u(A,D,I),(0,g.Lj)(y.html,"data-container-id",O.id)},i.prototype._updateOverlay=function(y){var O=y.position,A=y.htmlContainer,D=y.element,I=O.left,U=O.top;if(O.right!==void 0){var L;D.waypoints?L=(0,_.jY)(D).width:L=D.width,I=O.right*-1+L}if(O.bottom!==void 0){var N;D.waypoints?N=(0,_.jY)(D).height:N=D.height,U=O.bottom*-1+N}u(A,I||0,U||0)},i.prototype._createOverlayContainer=function(y){var O=(0,g.H6)('<div class="djs-overlays" style="position: absolute" />');this._overlayRoot.appendChild(O);var A={html:O,element:y,overlays:[]};return this._updateOverlayContainer(A),this._overlayContainers.push(A),A},i.prototype._updateRoot=function(y){var O=y.scale||1,A="matrix("+[O,0,0,O,-1*y.x*O,-1*y.y*O].join(",")+")";t(this._overlayRoot,A)},i.prototype._getOverlayContainer=function(y,O){var A=(0,E.sE)(this._overlayContainers,function(D){return D.element===y});return!A&&!O?this._createOverlayContainer(y):A},i.prototype._addOverlay=function(y){var O=y.id,A=y.element,D=y.html,I,U;D.get&&D.constructor.prototype.jquery&&(D=D.get(0)),(0,E.HD)(D)&&(D=(0,g.H6)(D)),U=this._getOverlayContainer(A),I=(0,g.H6)('<div class="djs-overlay" data-overlay-id="'+O+'" style="position: absolute">'),I.appendChild(D),y.type&&(0,g.Sh)(I).add("djs-overlay-"+y.type),y.htmlContainer=I,U.overlays.push(y),U.html.appendChild(I),this._overlays[O]=y,this._updateOverlay(y),this._updateOverlayVisibilty(y,this._canvas.viewbox())},i.prototype._updateOverlayVisibilty=function(y,O){var A=y.show,D=A&&A.minZoom,I=A&&A.maxZoom,U=y.htmlContainer,L=!0;A&&(((0,E.$K)(D)&&D>O.scale||(0,E.$K)(I)&&I<O.scale)&&(L=!1),r(U,L)),this._updateOverlayScale(y,O)},i.prototype._updateOverlayScale=function(y,O){var A=y.scale,D,I,U=y.htmlContainer,L,N="";A!==!0&&(A===!1?(D=1,I=1):(D=A.min,I=A.max),(0,E.$K)(D)&&O.scale<D&&(L=(1/O.scale||1)*D),(0,E.$K)(I)&&O.scale>I&&(L=(1/O.scale||1)*I)),(0,E.$K)(L)&&(N="scale("+L+","+L+")"),t(U,N)},i.prototype._updateOverlaysVisibilty=function(y){var O=this;(0,E.Ed)(this._overlays,function(A){O._updateOverlayVisibilty(A,y)})},i.prototype._init=function(){var y=this._eventBus,O=this;function A(D){O._updateRoot(D),O._updateOverlaysVisibilty(D),O.show()}y.on("canvas.viewbox.changing",function(D){O.hide()}),y.on("canvas.viewbox.changed",function(D){A(D.viewbox)}),y.on(["shape.remove","connection.remove"],function(D){var I=D.element,U=O.get({element:I});(0,E.Ed)(U,function(Y){O.remove(Y.id)});var L=O._getOverlayContainer(I);if(L){(0,g.Od)(L.html);var N=O._overlayContainers.indexOf(L);N!==-1&&O._overlayContainers.splice(N,1)}}),y.on("element.changed",c,function(D){var I=D.element,U=O._getOverlayContainer(I,!0);U&&((0,E.Ed)(U.overlays,function(L){O._updateOverlay(L)}),O._updateOverlayContainer(U))}),y.on("element.marker.update",function(D){var I=O._getOverlayContainer(D.element,!0);I&&(0,g.Sh)(I.html)[D.add?"add":"remove"](D.marker)}),y.on("diagram.clear",this.clear,this)};function v(y){var O=(0,g.H6)('<div class="djs-overlay-container" style="position: absolute; width: 0; height: 0;" />');return y.insertBefore(O,y.firstChild),O}function u(y,O,A){(0,E.f0)(y.style,{left:O+"px",top:A+"px"})}function r(y,O){y.style.display=O===!1?"none":""}function t(y,O){y.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(A){y.style[A+"transform"]=O})}const n={__init__:["overlays"],overlays:["type",i]};var e=".entry",a=1e3;function f(y,O,A){this._eventBus=O,this._overlays=A;var D=(0,E.$K)(y&&y.scale)?y.scale:{min:1,max:1.5};this._overlaysConfig={position:{right:-9,top:-6},scale:D},this._current=null,this._init()}f.$inject=["config.contextPad","eventBus","overlays"],f.prototype._init=function(){var y=this._eventBus,O=this;y.on("selection.changed",function(A){var D=A.newSelection;D.length===1?O.open(D[0]):O.close()}),y.on("elements.delete",function(A){var D=A.elements;(0,E.Ed)(D,function(I){O.isOpen(I)&&O.close()})}),y.on("element.changed",function(A){var D=A.element,I=O._current;I&&I.element===D&&O.open(D,!0)})},f.prototype.registerProvider=function(y,O){O||(O=y,y=a),this._eventBus.on("contextPad.getProviders",y,function(A){A.providers.push(O)})},f.prototype.getEntries=function(y){var O=this._getProviders(),A={};return(0,E.Ed)(O,function(D){var I=D.getContextPadEntries(y);(0,E.mf)(I)?A=I(A):(0,E.Ed)(I,function(U,L){A[L]=U})}),A},f.prototype.trigger=function(y,O,A){var D=this._current.element,I=this._current.entries,U,L,N,Y=O.delegateTarget||O.target;if(!Y)return O.preventDefault();if(U=I[(0,g.Lj)(Y,"data-action")],L=U.action,N=O.originalEvent||O,(0,E.mf)(L)){if(y==="click")return L(N,D,A)}else if(L[y])return L[y](N,D,A);O.preventDefault()},f.prototype.open=function(y,O){!O&&this.isOpen(y)||(this.close(),this._updateAndOpen(y))},f.prototype._getProviders=function(y){var O=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(O),O.providers},f.prototype._updateAndOpen=function(y){var O=this.getEntries(y),A=this.getPad(y),D=A.html;(0,E.Ed)(O,function(I,U){var L=I.group||"default",N=(0,g.H6)(I.html||'<div class="entry" draggable="true"></div>'),Y;(0,g.Lj)(N,"data-action",U),Y=(0,g.IO)("[data-group="+L+"]",D),Y||(Y=(0,g.H6)('<div class="group" data-group="'+L+'"></div>'),D.appendChild(Y)),Y.appendChild(N),I.className&&T(N,I.className),I.title&&(0,g.Lj)(N,"title",I.title),I.imageUrl&&N.appendChild((0,g.H6)('<img src="'+I.imageUrl+'">'))}),(0,g.Sh)(D).add("open"),this._current={element:y,pad:A,entries:O},this._eventBus.fire("contextPad.open",{current:this._current})},f.prototype.getPad=function(y){if(this.isOpen())return this._current.pad;var O=this,A=this._overlays,D=(0,g.H6)('<div class="djs-context-pad"></div>'),I=(0,E.f0)({html:D},this._overlaysConfig);g.cl.bind(D,e,"click",function(L){O.trigger("click",L)}),g.cl.bind(D,e,"dragstart",function(L){O.trigger("dragstart",L)}),g.B.bind(D,"mousedown",function(L){L.stopPropagation()}),this._overlayId=A.add(y,"context-pad",I);var U=A.get(this._overlayId);return this._eventBus.fire("contextPad.create",{element:y,pad:U}),U},f.prototype.close=function(){!this.isOpen()||(this._overlays.remove(this._overlayId),this._overlayId=null,this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)},f.prototype.isOpen=function(y){return!!this._current&&(y?this._current.element===y:!0)};function T(y,O){var A=(0,g.Sh)(y),D=(0,E.kJ)(O)?O:O.split(/\s+/g);D.forEach(function(I){A.add(I)})}const C={__depends__:[s.Z,n],contextPad:["type",f]}},26327:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>u});var s=m(2299),E=m(64960);function g(r,t,n,e,a,f,T,C){this._canvas=r,this._create=t,this._clipboard=n,this._elementFactory=e,this._eventBus=a,this._modeling=f,this._mouse=T,this._rules=C,a.on("copyPaste.copyElement",function(y){var O=y.descriptor,A=y.element,D=y.elements;O.priority=1,O.id=A.id;var I=(0,s.sE)(D,function(U){return U===A.parent});I&&(O.parent=A.parent.id),_(A)&&(O.priority=2,O.host=A.host.id),p(A)&&(O.priority=3,O.source=A.source.id,O.target=A.target.id,O.waypoints=c(A)),o(A)&&(O.priority=4,O.labelTarget=A.labelTarget.id),(0,s.Ed)(["x","y","width","height"],function(U){(0,s.hj)(A[U])&&(O[U]=A[U])}),O.hidden=A.hidden,O.collapsed=A.collapsed}),a.on("copyPaste.pasteElements",function(y){var O=y.hints;(0,s.f0)(O,{createElementsBehavior:!1})})}g.$inject=["canvas","create","clipboard","elementFactory","eventBus","modeling","mouse","rules"],g.prototype.copy=function(r){var t,n;return(0,s.kJ)(r)||(r=r?[r]:[]),t=this._eventBus.fire("copyPaste.canCopyElements",{elements:r}),t===!1?n={}:n=this.createTree((0,s.kJ)(t)?t:r),this._clipboard.set(n),this._eventBus.fire("copyPaste.elementsCopied",{elements:r,tree:n}),n},g.prototype.paste=function(r){var t=this._clipboard.get();if(!this._clipboard.isEmpty()){var n=r&&r.hints||{};this._eventBus.fire("copyPaste.pasteElements",{hints:n});var e=this._createElements(t);if(r&&r.element&&r.point)return this._paste(e,r.element,r.point,n);this._create.start(this._mouse.getLastMoveEvent(),e,{hints:n})}},g.prototype._paste=function(r,t,n,e){(0,s.Ed)(r,function(f){(0,s.hj)(f.x)||(f.x=0),(0,s.hj)(f.y)||(f.y=0)});var a=(0,E.jY)(r);return(0,s.Ed)(r,function(f){p(f)&&(f.waypoints=(0,s.UI)(f.waypoints,function(T){return{x:T.x-a.x-a.width/2,y:T.y-a.y-a.height/2}})),(0,s.f0)(f,{x:f.x-a.x-a.width/2,y:f.y-a.y-a.height/2})}),this._modeling.createElements(r,n,t,(0,s.f0)({},e))},g.prototype._createElements=function(r){var t=this,n=this._eventBus,e={},a=[];return(0,s.Ed)(r,function(f,T){T=parseInt(T,10),f=(0,s.MR)(f,"priority"),(0,s.Ed)(f,function(C){var y=(0,s.f0)({},(0,s.CE)(C,["priority"]));e[C.parent]?y.parent=e[C.parent]:delete y.parent,n.fire("copyPaste.pasteElement",{cache:e,descriptor:y});var O;if(p(y)){y.source=e[C.source],y.target=e[C.target],O=e[C.id]=t.createConnection(y),a.push(O);return}if(o(y)){y.labelTarget=e[y.labelTarget],O=e[C.id]=t.createLabel(y),a.push(O);return}y.host&&(y.host=e[y.host]),O=e[C.id]=t.createShape(y),a.push(O)})}),a},g.prototype.createConnection=function(r){var t=this._elementFactory.createConnection((0,s.CE)(r,["id"]));return t},g.prototype.createLabel=function(r){var t=this._elementFactory.createLabel((0,s.CE)(r,["id"]));return t},g.prototype.createShape=function(r){var t=this._elementFactory.createShape((0,s.CE)(r,["id"]));return t},g.prototype.hasRelations=function(r,t){var n,e,a;return!(p(r)&&(e=(0,s.sE)(t,(0,s.KQ)({id:r.source.id})),a=(0,s.sE)(t,(0,s.KQ)({id:r.target.id})),!e||!a)||o(r)&&(n=(0,s.sE)(t,(0,s.KQ)({id:r.labelTarget.id})),!n))},g.prototype.createTree=function(r){var t=this._rules,n=this,e={},a=[],f=(0,E.cd)(r);function T(O,A){return t.allowed("element.copy",{element:O,elements:A})}function C(O,A){var D=(0,s.sE)(a,function(I){return O===I.element});if(!D){a.push({element:O,depth:A});return}D.depth<A&&(a=y(D,a),a.push({element:D.element,depth:A}))}function y(O,A){var D=A.indexOf(O);return D!==-1&&A.splice(D,1),A}return(0,E.om)(f,function(O,A,D){if(o(O))return;(0,s.Ed)(O.labels,function(U){C(U,D)});function I(U){U&&U.length&&(0,s.Ed)(U,function(L){(0,s.Ed)(L.labels,function(N){C(N,D)}),C(L,D)})}return(0,s.Ed)([O.attachers,O.incoming,O.outgoing],I),C(O,D),O.children}),r=(0,s.UI)(a,function(O){return O.element}),a=(0,s.UI)(a,function(O){return O.descriptor={},n._eventBus.fire("copyPaste.copyElement",{descriptor:O.descriptor,element:O.element,elements:r}),O}),a=(0,s.MR)(a,function(O){return O.descriptor.priority}),r=(0,s.UI)(a,function(O){return O.element}),(0,s.Ed)(a,function(O){var A=O.depth;if(!n.hasRelations(O.element,r)){v(O.element,r);return}if(!T(O.element,r)){v(O.element,r);return}e[A]||(e[A]=[]),e[A].push(O.descriptor)}),e};function _(r){return!!r.host}function p(r){return!!r.waypoints}function o(r){return!!r.labelTarget}function c(r){return(0,s.UI)(r.waypoints,function(t){return t=i(t),t.original&&(t.original=i(t.original)),t})}function i(r){return(0,s.f0)({},r)}function v(r,t){var n=t.indexOf(r);return n===-1?t:t.splice(n,1)}const u=g},98059:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>v});function s(){}s.prototype.get=function(){return this._data},s.prototype.set=function(u){this._data=u},s.prototype.clear=function(){var u=this._data;return delete this._data,u},s.prototype.isEmpty=function(){return!this._data};const E={clipboard:["type",s]};var g=m(7984);function _(u){var r=this;this._lastMoveEvent=null;function t(n){r._lastMoveEvent=n}u.on("canvas.init",function(n){var e=r._svg=n.svg;e.addEventListener("mousemove",t)}),u.on("canvas.destroy",function(){r._lastMouseEvent=null,r._svg.removeEventListener("mousemove",t)})}_.$inject=["eventBus"],_.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||p(0,0)};function p(u,r){var t=document.createEvent("MouseEvent"),n=u,e=r,a=u,f=r;return t.initMouseEvent&&t.initMouseEvent("mousemove",!0,!0,window,0,n,e,a,f,!1,!1,!1,!1,0,null),t}const o={__init__:["mouse"],mouse:["type",_]};var c=m(67989),i=m(26327);const v={__depends__:[E,g.Z,o,c.Z],__init__:["copyPaste"],copyPaste:["type",i.Z]}},7984:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>I});var s=m(13203),E=m(10009),g=m(67989),_=m(42226),p=m(2299),o=m(64960),c="drop-ok",i="drop-not-ok",v="attach-ok",u="new-parent",r="create",t=2e3;function n(U,L,N,Y,Q){function it(W,P,l,x){if(!P)return!1;W=(0,p.hX)(W,function(j){var B=j.labelTarget;return!j.parent&&!(T(j)&&W.indexOf(B)!==-1)});var h=(0,p.sE)(W,function(j){return!a(j)}),d=!1,S=!1,M=!1;return f(W)&&(d=Q.allowed("shape.attach",{position:l,shape:h,target:P})),d||(f(W)?M=Q.allowed("shape.create",{position:l,shape:h,source:x,target:P}):M=Q.allowed("elements.create",{elements:W,position:l,target:P})),M||d?(h&&x&&(S=Q.allowed("connection.create",{source:x,target:h,hints:{targetParent:P,targetAttach:d}})),{attach:d,connect:S}):M===null||d===null?null:!1}function tt(W,P){[v,c,i,u].forEach(function(l){l===P?U.addMarker(W,l):U.removeMarker(W,l)})}N.on(["create.move","create.hover"],function(W){var P=W.context,l=P.elements,x=W.hover,h=P.source;if(!x){P.canExecute=!1,P.target=null;return}e(W);var d={x:W.x,y:W.y},S=P.canExecute=x&&it(l,x,d,h);x&&S!==null&&(P.target=x,S&&S.attach?tt(x,v):tt(x,S?u:i))}),N.on(["create.end","create.out","create.cleanup"],function(W){var P=W.hover;P&&tt(P,null)}),N.on("create.end",function(W){var P=W.context,l=P.source,x=P.shape,h=P.elements,d=P.target,S=P.hints,M=P.canExecute,j=M&&M.attach,B=M&&M.connect;if(M===!1||!d)return!1;e(W);var F={x:W.x,y:W.y};B?x=Y.appendShape(l,x,F,d,{attach:j,connection:B===!0?{}:B}):(h=Y.createElements(h,F,d,(0,p.f0)({},S,{attach:j})),x=(0,p.sE)(h,function(V){return!a(V)})),(0,p.f0)(P,{elements:h,shape:x}),(0,p.f0)(W,{elements:h,shape:x})});function $(){var W=L.context();W&&W.prefix===r&&L.cancel()}N.on("create.init",function(){N.on("elements.changed",$),N.once(["create.cancel","create.end"],t,function(){N.off("elements.changed",$)})}),this.start=function(W,P,l){(0,p.kJ)(P)||(P=[P]);var x=(0,p.sE)(P,function(d){return!a(d)});if(!!x){l=(0,p.f0)({elements:P,hints:{},shape:x},l||{}),(0,p.Ed)(P,function(d){(0,p.hj)(d.x)||(d.x=0),(0,p.hj)(d.y)||(d.y=0)});var h=(0,o.jY)(P);(0,p.Ed)(P,function(d){a(d)&&(d.waypoints=(0,p.UI)(d.waypoints,function(S){return{x:S.x-h.x-Math.round(h.width/2),y:S.y-h.y-Math.round(h.height/2)}})),(0,p.f0)(d,{x:d.x-h.x-Math.round(h.width/2),y:d.y-h.y-Math.round(h.height/2)})}),L.init(W,r,{cursor:"grabbing",autoActivate:!0,data:{shape:x,elements:P,context:l}})}}}n.$inject=["canvas","dragging","eventBus","modeling","rules"];function e(U){var L=U.context,N=L.createConstraints;!N||(N.left&&(U.x=Math.max(U.x,N.left)),N.right&&(U.x=Math.min(U.x,N.right)),N.top&&(U.y=Math.max(U.y,N.top)),N.bottom&&(U.y=Math.min(U.y,N.bottom)))}function a(U){return!!U.waypoints}function f(U){return U&&U.length===1&&!a(U[0])}function T(U){return!!U.labelTarget}var C=m(18872),y=m(21202),O=m(21537),A=750;function D(U,L,N,Y,Q){function it(tt){var $=(0,O.Ue)("g");(0,O.Lj)($,Q.cls("djs-drag-group",["no-events"]));var W=(0,O.Ue)("g");return tt.forEach(function(P){var l;(0,O.Lj)($,{"data-element-id":P.id}),!P.hidden&&(P.waypoints?(l=N._createContainer("connection",W),N.drawConnection((0,y.s)(l),P)):(l=N._createContainer("shape",W),N.drawShape((0,y.s)(l),P),(0,C.Iu)(l,P.x,P.y)),Y.addDragger(P,$,l))}),$}L.on("create.move",A,function(tt){var $=tt.hover,W=tt.context,P=W.elements,l=W.dragGroup;l||(l=W.dragGroup=it(P));var x;$?(l.parentNode||(x=U.getDefaultLayer(),(0,O.R3)(x,l)),(0,C.Iu)(l,tt.x,tt.y)):(0,O.Od)(l)}),L.on("create.cleanup",function(tt){var $=tt.context,W=$.dragGroup;W&&(0,O.Od)(W)})}D.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"];const I={__depends__:[s.Z,E.Z,g.Z,_.Z],__init__:["create","createPreview"],create:["type",n],createPreview:["type",D]}},13203:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>T});var s=m(42226),E=m(2299),g=m(9012),_=m(46534),p=m(63253),o=m(19863),c=m(43273),i=Math.round,v="djs-drag-active";function u(C){C.preventDefault()}function r(C){return typeof TouchEvent<"u"&&C instanceof TouchEvent}function t(C){return Math.sqrt(Math.pow(C.x,2)+Math.pow(C.y,2))}function n(C,y,O,A){var D={threshold:5,trapClick:!0},I;function U(d){var S=y.viewbox(),M=y._container.getBoundingClientRect();return{x:S.x+(d.x-M.left)/S.scale,y:S.y+(d.y-M.top)/S.scale}}function L(d,S){S=S||I;var M=C.createEvent((0,E.f0)({},S.payload,S.data,{isTouch:S.isTouch}));return C.fire("drag."+d,M)===!1?!1:C.fire(S.prefix+"."+d,M)}function N(d){var S=d.filter(function(M){return A.get(M.id)});S.length&&O.select(S)}function Y(d,S){var M=I.payload,j=I.displacement,B=I.globalStart,F=(0,_.jt)(d),V=(0,c.p)(F,B),X=I.localStart,q=U(F),nt=(0,c.p)(q,X);if(!I.active&&(S||t(V)>I.threshold)){if((0,E.f0)(M,{x:i(X.x+j.x),y:i(X.y+j.y),dx:0,dy:0},{originalEvent:d}),L("start")===!1)return l();I.active=!0,I.keepSelection||(M.previousSelection=O.get(),O.select(null)),I.cursor&&(0,p.t8)(I.cursor),y.addMarker(y.getRootElement(),v)}(0,_.UW)(d),I.active&&((0,E.f0)(M,{x:i(q.x+j.x),y:i(q.y+j.y),dx:i(nt.x),dy:i(nt.y)},{originalEvent:d}),L("move"))}function Q(d){var S,M=!0;I.active&&(d&&(I.payload.originalEvent=d,(0,_.UW)(d)),M=L("end")),M===!1&&L("rejected"),S=x(M!==!0),L("ended",S)}function it(d){d.which===27&&(u(d),l())}function tt(d){var S;I.active&&(S=(0,o.N)(C),setTimeout(S,400),u(d)),Q(d)}function $(d){Y(d)}function W(d){var S=I.payload;S.hoverGfx=d.gfx,S.hover=d.element,L("hover")}function P(d){L("out");var S=I.payload;S.hoverGfx=null,S.hover=null}function l(d){var S;if(!!I){var M=I.active;M&&L("cancel"),S=x(d),M&&L("canceled",S)}}function x(d){var S,M;L("cleanup"),(0,p.zN)(),I.trapClick?M=tt:M=Q,g.B.unbind(document,"mousemove",Y),g.B.unbind(document,"dragstart",u),g.B.unbind(document,"selectstart",u),g.B.unbind(document,"mousedown",M,!0),g.B.unbind(document,"mouseup",M,!0),g.B.unbind(document,"keyup",it),g.B.unbind(document,"touchstart",$,!0),g.B.unbind(document,"touchcancel",l,!0),g.B.unbind(document,"touchmove",Y,!0),g.B.unbind(document,"touchend",Q,!0),C.off("element.hover",W),C.off("element.out",P),y.removeMarker(y.getRootElement(),v);var j=I.payload.previousSelection;return d!==!1&&j&&!O.get().length&&N(j),S=I,I=null,S}function h(d,S,M,j){I&&l(!1),typeof S=="string"&&(j=M,M=S,S=null),j=(0,E.f0)({},D,j||{});var B=j.data||{},F,V,X,q,nt;j.trapClick?q=tt:q=Q,d?(F=(0,_.Ku)(d)||d,V=(0,_.jt)(d),(0,_.UW)(d),F.type==="dragstart"&&u(F)):(F=null,V={x:0,y:0}),X=U(V),S||(S=X),nt=r(F),I=(0,E.f0)({prefix:M,data:B,payload:{},globalStart:V,displacement:(0,c.p)(S,X),localStart:X,isTouch:nt},j),j.manual||(nt?(g.B.bind(document,"touchstart",$,!0),g.B.bind(document,"touchcancel",l,!0),g.B.bind(document,"touchmove",Y,!0),g.B.bind(document,"touchend",Q,!0)):(g.B.bind(document,"mousemove",Y),g.B.bind(document,"dragstart",u),g.B.bind(document,"selectstart",u),g.B.bind(document,"mousedown",q,!0),g.B.bind(document,"mouseup",q,!0)),g.B.bind(document,"keyup",it),C.on("element.hover",W),C.on("element.out",P)),L("init"),j.autoActivate&&Y(d,!0)}C.on("diagram.destroy",l),this.init=h,this.move=Y,this.hover=W,this.out=P,this.end=Q,this.cancel=l,this.context=function(){return I},this.setOptions=function(d){(0,E.f0)(D,d)}}n.$inject=["eventBus","canvas","selection","elementRegistry"];var e=1500;function a(C,y,O){var A=this;function D(I){if(!I.hover){var U=I.originalEvent,L=A._findTargetGfx(U),N=L&&O.get(L);L&&N&&(I.stopPropagation(),y.hover({element:N,gfx:L}),y.move(U))}}C.on("drag.start",function(I){C.once("drag.move",e,function(U){D(U)})}),C.on("drag.init",function(){var I,U;function L(Q){I=Q.hover,U=Q.hoverGfx}function N(){I=null,U=null}function Y(){if(!!I){var Q=I,it=U;I=null,U=null,y.out({element:Q,gfx:it})}}C.on("drag.hover",L),C.on("element.out",N),C.on("element.hover",e,Y),C.once("drag.cleanup",function(){C.off("drag.hover",L),C.off("element.out",N),C.off("element.hover",Y)})}),this._findTargetGfx=function(I){var U,L;if(I instanceof MouseEvent)return U=(0,_.jt)(I),L=document.elementFromPoint(U.x,U.y),f(L)}}a.$inject=["eventBus","dragging","elementRegistry"];function f(C){return(0,g.oq)(C,"svg, .djs-element",!0)}const T={__init__:["hoverFix"],__depends__:[s.Z],dragging:["type",n],hoverFix:["type",a]}},73906:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>_});var s=m(2299),E="is not a registered action",g="is already registered";function _(o,c){this._actions={};var i=this;o.on("diagram.init",function(){i._registerDefaultActions(c),o.fire("editorActions.init",{editorActions:i})})}_.$inject=["eventBus","injector"],_.prototype._registerDefaultActions=function(o){var c=o.get("commandStack",!1),i=o.get("modeling",!1),v=o.get("selection",!1),u=o.get("zoomScroll",!1),r=o.get("copyPaste",!1),t=o.get("canvas",!1),n=o.get("rules",!1),e=o.get("keyboardMove",!1),a=o.get("keyboardMoveSelection",!1);c&&(this.register("undo",function(){c.undo()}),this.register("redo",function(){c.redo()})),r&&v&&this.register("copy",function(){var f=v.get();r.copy(f)}),r&&this.register("paste",function(){r.paste()}),u&&this.register("stepZoom",function(f){u.stepZoom(f.value)}),t&&this.register("zoom",function(f){t.zoom(f.value)}),i&&v&&n&&this.register("removeSelection",function(){var f=v.get();if(!!f.length){var T=n.allowed("elements.delete",{elements:f}),C;T!==!1&&((0,s.kJ)(T)?C=T:C=f,C.length&&i.removeElements(C.slice()))}}),e&&this.register("moveCanvas",function(f){e.moveCanvas(f)}),a&&this.register("moveSelection",function(f){a.moveSelection(f.direction,f.accelerated)})},_.prototype.trigger=function(o,c){if(!this._actions[o])throw p(o,E);return this._actions[o](c)},_.prototype.register=function(o,c){var i=this;if(typeof o=="string")return this._registerAction(o,c);(0,s.Ed)(o,function(v,u){i._registerAction(u,v)})},_.prototype._registerAction=function(o,c){if(this.isRegistered(o))throw p(o,g);this._actions[o]=c},_.prototype.unregister=function(o){if(!this.isRegistered(o))throw p(o,E);this._actions[o]=void 0},_.prototype.getActions=function(){return Object.keys(this._actions)},_.prototype.isRegistered=function(o){return!!this._actions[o]};function p(o,c){return new Error(o+" "+c)}},51365:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>c});var s=m(44610),E=m(28229),g=m(2299),_=m(56746),p=1200,o=800;function c(n,e,a){var f=!a||a.active!==!1;this._eventBus=e;var T=this;e.on("diagram.init",o,function(){T.setActive(f)}),e.on(["create.move","create.end","bendpoint.move.move","bendpoint.move.end","connect.move","connect.end","connectionSegment.move.move","connectionSegment.move.end","resize.move","resize.end","shape.move.move","shape.move.end"],p,function(C){var y=C.originalEvent;if(!(!T.active||y&&(0,E.JS)(y))){var O=C.context,A=O.gridSnappingContext;A||(A=O.gridSnappingContext={}),["x","y"].forEach(function(D){var I={},U=v(C,D,n);U&&(I.offset=U);var L=i(C,D);L&&(0,g.f0)(I,L),(0,s.Wn)(C,D)||T.snapEvent(C,D,I)})}})}c.prototype.snapEvent=function(n,e,a){var f=this.snapValue(n[e],a);(0,s.U)(n,e,f)},c.prototype.getGridSpacing=function(){return _.N},c.prototype.snapValue=function(n,e){var a=0;e&&e.offset&&(a=e.offset),n+=a,n=(0,_.q)(n,_.N);var f,T;return e&&e.min&&(f=e.min,(0,g.hj)(f)&&(f=(0,_.q)(f+a,_.N,"ceil"),n=Math.max(n,f))),e&&e.max&&(T=e.max,(0,g.hj)(T)&&(T=(0,_.q)(T+a,_.N,"floor"),n=Math.min(n,T))),n-=a,n},c.prototype.isActive=function(){return this.active},c.prototype.setActive=function(n){this.active=n,this._eventBus.fire("gridSnapping.toggle",{active:n})},c.prototype.toggleActive=function(){this.setActive(!this.active)},c.$inject=["elementRegistry","eventBus","config.gridSnapping"];function i(n,e){var a=n.context,f=a.createConstraints,T=a.resizeConstraints||{},C=a.gridSnappingContext,y=C.snapConstraints;if(y&&y[e])return y[e];y||(y=C.snapConstraints={}),y[e]||(y[e]={});var O=a.direction;f&&(u(e)?(y.x.min=f.left,y.x.max=f.right):(y.y.min=f.top,y.y.max=f.bottom));var A=T.min,D=T.max;return A&&(u(e)?t(O)?y.x.max=A.left:y.x.min=A.right:r(O)?y.y.max=A.top:y.y.min=A.bottom),D&&(u(e)?t(O)?y.x.min=D.left:y.x.max=D.right:r(O)?y.y.min=D.top:y.y.max=D.bottom),y[e]}function v(n,e,a){var f=n.context,T=n.shape,C=f.gridSnappingContext,y=C.snapLocation,O=C.snapOffset;return O&&(0,g.hj)(O[e])||(O||(O=C.snapOffset={}),(0,g.hj)(O[e])||(O[e]=0),!T)||(a.get(T.id)||(u(e)?O[e]+=T[e]+T.width/2:O[e]+=T[e]+T.height/2),!y)||(e==="x"?/left/.test(y)?O[e]-=T.width/2:/right/.test(y)&&(O[e]+=T.width/2):/top/.test(y)?O[e]-=T.height/2:/bottom/.test(y)&&(O[e]+=T.height/2)),O[e]}function u(n){return n==="x"}function r(n){return n.indexOf("n")!==-1}function t(n){return n.indexOf("w")!==-1}},56746:(rt,G,m)=>{"use strict";m.d(G,{N:()=>s,q:()=>E});var s=10;function E(g,_,p){return p||(p="round"),Math[p](g/_)*_}},85960:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>p});var s=m(98827),E=m(28229),g=1500,_="grab";function p(c,i,v,u,r){this._dragging=v;var t=this,n=u.get("keyboard",!1);r.registerTool("hand",{tool:"hand",dragging:"hand.move"}),c.on("element.mousedown",g,function(e){if((0,s.RJ)(e))return this.activateMove(e.originalEvent),!1},this),n&&n.addListener(g,function(e){if(!o(e.keyEvent)||t.isActive())return;function a(T){t.activateMove(T),window.removeEventListener("mousemove",a)}window.addEventListener("mousemove",a);function f(T){!o(T.keyEvent)||(window.removeEventListener("mousemove",a),n.removeListener(f,"keyboard.keyup"),v.cancel())}n.addListener(g,f,"keyboard.keyup")},"keyboard.keydown"),c.on("hand.end",function(e){var a=e.originalEvent.target;if(!e.hover&&!(a instanceof SVGElement))return!1;c.once("hand.ended",function(){this.activateMove(e.originalEvent,{reactivate:!0})},this)},this),c.on("hand.move.move",function(e){var a=i.viewbox().scale;i.scroll({dx:e.dx*a,dy:e.dy*a})}),c.on("hand.move.end",function(e){var a=e.context,f=a.reactivate;return!(0,s.RJ)(e)&&f&&c.once("hand.move.ended",function(T){this.activateHand(T.originalEvent,!0,!0)},this),!1},this)}p.$inject=["eventBus","canvas","dragging","injector","toolManager"],p.prototype.activateMove=function(c,i,v){typeof i=="object"&&(v=i,i=!1),this._dragging.init(c,"hand.move",{autoActivate:i,cursor:_,data:{context:v||{}}})},p.prototype.activateHand=function(c,i,v){this._dragging.init(c,"hand",{trapClick:!1,autoActivate:i,cursor:_,data:{context:{reactivate:v}}})},p.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateHand()},p.prototype.isActive=function(){var c=this._dragging.context();return c?/^(hand|hand\.move)$/.test(c.prefix):!1};function o(c){return(0,E.ot)(" ",c)}},85637:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>v});var s=m(2299),E=m(9012),g=m(98827),_=m(21537),p=m(7824);function o(u){return!0}var c=500;function i(u,r,t){var n=this;function e(P,l,x){if(!T(P,l)){var h,d,S;x?d=r.getGraphics(x):(h=l.delegateTarget||l.target,h&&(d=h,x=r.get(d))),!(!d||!x)&&(S=u.fire(P,{element:x,gfx:d,originalEvent:l}),S===!1&&(l.stopPropagation(),l.preventDefault()))}}var a={};function f(P){return a[P]}function T(P,l){var x=y[P]||g.Id;return!x(l)}var C={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},y={"element.contextmenu":o};function O(P,l,x){var h=C[P];if(!h)throw new Error("unmapped DOM event name <"+P+">");return e(h,l,x)}var A="svg, .djs-element";function D(P,l,x,h){var d=a[x]=function(S){e(x,S)};h&&(y[x]=h),d.$delegate=E.cl.bind(P,A,l,d)}function I(P,l,x){var h=f(x);!h||E.cl.unbind(P,l,h.$delegate)}function U(P){(0,s.Ed)(C,function(l,x){D(P,x,l)})}function L(P){(0,s.Ed)(C,function(l,x){I(P,x,l)})}u.on("canvas.destroy",function(P){L(P.svg)}),u.on("canvas.init",function(P){U(P.svg)}),u.on(["shape.added","connection.added"],function(P){var l=P.element,x=P.gfx;u.fire("interactionEvents.createHit",{element:l,gfx:x})}),u.on(["shape.changed","connection.changed"],c,function(P){var l=P.element,x=P.gfx;u.fire("interactionEvents.updateHit",{element:l,gfx:x})}),u.on("interactionEvents.createHit",c,function(P){var l=P.element,x=P.gfx;n.createDefaultHit(l,x)}),u.on("interactionEvents.updateHit",function(P){var l=P.element,x=P.gfx;n.updateDefaultHit(l,x)});var N=tt("djs-hit djs-hit-stroke"),Y=tt("djs-hit djs-hit-click-stroke"),Q=tt("djs-hit djs-hit-all"),it={all:Q,"click-stroke":Y,stroke:N};function tt(P,l){return l=(0,s.f0)({stroke:"white",strokeWidth:15},l||{}),t.cls(P,["no-fill","no-border"],l)}function $(P,l){var x=it[l];if(!x)throw new Error("invalid hit type <"+l+">");return(0,_.Lj)(P,x),P}function W(P,l){(0,_.R3)(P,l)}this.removeHits=function(P){var l=(0,E.Kt)(".djs-hit",P);(0,s.Ed)(l,_.Od)},this.createDefaultHit=function(P,l){var x=P.waypoints,h=P.isFrame,d;return x?this.createWaypointsHit(l,x):(d=h?"stroke":"all",this.createBoxHit(l,d,{width:P.width,height:P.height}))},this.createWaypointsHit=function(P,l){var x=(0,p.W5)(l);return $(x,"stroke"),W(P,x),x},this.createBoxHit=function(P,l,x){x=(0,s.f0)({x:0,y:0},x);var h=(0,_.Ue)("rect");return $(h,l),(0,_.Lj)(h,x),W(P,h),h},this.updateDefaultHit=function(P,l){var x=(0,E.IO)(".djs-hit",l);if(!!x)return P.waypoints?(0,p.cq)(x,P.waypoints):(0,_.Lj)(x,{width:P.width,height:P.height}),x},this.fire=e,this.triggerMouseEvent=O,this.mouseHandler=f,this.registerEvent=D,this.unregisterEvent=I}i.$inject=["eventBus","elementRegistry","styles"];const v={__init__:["interactionEvents"],interactionEvents:["type",i]}},91112:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>g});var s=m(28229),E=500;function g(_,p){var o=this;_.on("editorActions.init",E,function(c){var i=c.editorActions;o.registerBindings(p,i)})}g.$inject=["eventBus","keyboard"],g.prototype.registerBindings=function(_,p){function o(c,i){p.isRegistered(c)&&_.addListener(i)}o("undo",function(c){var i=c.keyEvent;if((0,s.JS)(i)&&!(0,s.cY)(i)&&(0,s.ot)(["z","Z"],i))return p.trigger("undo"),!0}),o("redo",function(c){var i=c.keyEvent;if((0,s.JS)(i)&&((0,s.ot)(["y","Y"],i)||(0,s.ot)(["z","Z"],i)&&(0,s.cY)(i)))return p.trigger("redo"),!0}),o("copy",function(c){var i=c.keyEvent;if((0,s.JS)(i)&&(0,s.ot)(["c","C"],i))return p.trigger("copy"),!0}),o("paste",function(c){var i=c.keyEvent;if((0,s.JS)(i)&&(0,s.ot)(["v","V"],i))return p.trigger("paste"),!0}),o("stepZoom",function(c){var i=c.keyEvent;if((0,s.ot)(["+","Add"],i)&&(0,s.JS)(i))return p.trigger("stepZoom",{value:1}),!0}),o("stepZoom",function(c){var i=c.keyEvent;if((0,s.ot)(["-","Subtract"],i)&&(0,s.JS)(i))return p.trigger("stepZoom",{value:-1}),!0}),o("zoom",function(c){var i=c.keyEvent;if((0,s.ot)("0",i)&&(0,s.JS)(i))return p.trigger("zoom",{value:1}),!0}),o("removeSelection",function(c){var i=c.keyEvent;if((0,s.ot)(["Delete","Del"],i))return p.trigger("removeSelection"),!0})}},28229:(rt,G,m)=>{"use strict";m.d(G,{JS:()=>g,aw:()=>E,cY:()=>p,ot:()=>_});var s=m(2299);function E(o){return o.ctrlKey||o.metaKey||o.shiftKey||o.altKey}function g(o){return o.altKey?!1:o.ctrlKey||o.metaKey}function _(o,c){return o=(0,s.kJ)(o)?o:[o],o.indexOf(c.key)>-1}function p(o){return o.shiftKey}},20677:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>u});var s=m(2299),E=m(9012),g=m(28229),_="keyboard.keydown",p="keyboard.keyup",o=1e3;function c(r,t){var n=this;this._config=r||{},this._eventBus=t,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),t.on("diagram.destroy",function(){n._fire("destroy"),n.unbind()}),t.on("diagram.init",function(){n._fire("init")}),t.on("attach",function(){r&&r.bindTo&&n.bind(r.bindTo)}),t.on("detach",function(){n.unbind()})}c.$inject=["config.keyboard","eventBus"],c.prototype._keydownHandler=function(r){this._keyHandler(r,_)},c.prototype._keyupHandler=function(r){this._keyHandler(r,p)},c.prototype._keyHandler=function(r,t){var n=r.target,e;if(!i(n)){var a={keyEvent:r};e=this._eventBus.fire(t||_,a),!(r.ctrlKey&&!r.altKey&&!r.shiftKey&&r.keyCode===67)&&e&&r.preventDefault()}},c.prototype.bind=function(r){this.unbind(),this._node=r,E.B.bind(r,"keydown",this._keydownHandler,!0),E.B.bind(r,"keyup",this._keyupHandler,!0),this._fire("bind")},c.prototype.getBinding=function(){return this._node},c.prototype.unbind=function(){var r=this._node;r&&(this._fire("unbind"),E.B.unbind(r,"keydown",this._keydownHandler,!0),E.B.unbind(r,"keyup",this._keyupHandler,!0)),this._node=null},c.prototype._fire=function(r){this._eventBus.fire("keyboard."+r,{node:this._node})},c.prototype.addListener=function(r,t,n){(0,s.mf)(r)&&(n=t,t=r,r=o),this._eventBus.on(n||_,r,t)},c.prototype.removeListener=function(r,t){this._eventBus.off(t||_,r)},c.prototype.hasModifier=g.aw,c.prototype.isCmd=g.JS,c.prototype.isShift=g.cY,c.prototype.isKey=g.ot;function i(r){return r&&((0,E.wB)(r,"input, textarea")||r.contentEditable==="true")}var v=m(91112);const u={__init__:["keyboard","keyboardBindings"],keyboard:["type",c],keyboardBindings:["type",v.Z]}},13463:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>v});var s=m(2299),E=m(59879),g=m.n(E),_=m(91499),p=m(80352),o=m(91658),c=250,i=1400;function v(r,t,n){o.Z.call(this,t);var e=r.get("movePreview",!1);t.on("shape.move.start",i,function(a){var f=a.context,T=f.shapes,C=f.validatedShapes;f.shapes=u(T),f.validatedShapes=u(C)}),e&&t.on("shape.move.start",c,function(a){var f=a.context,T=f.shapes,C=[];(0,s.Ed)(T,function(y){(0,s.Ed)(y.labels,function(O){!O.hidden&&f.shapes.indexOf(O)===-1&&C.push(O),y.labelTarget&&C.push(y)})}),(0,s.Ed)(C,function(y){e.makeDraggable(f,y,!0)})}),this.preExecuted("elements.move",i,function(a){var f=a.context,T=f.closure,C=T.enclosedElements,y=[];(0,s.Ed)(C,function(O){(0,s.Ed)(O.labels,function(A){C[A.id]||y.push(A)})}),T.addAll(y)}),this.preExecute(["connection.delete","shape.delete"],function(a){var f=a.context,T=f.connection||f.shape;(0,p.r)(T.labels,function(C){n.removeShape(C,{nested:!0})})}),this.execute("shape.delete",function(a){var f=a.context,T=f.shape,C=T.labelTarget;C&&(f.labelTargetIndex=(0,_.cq)(C.labels,T),f.labelTarget=C,T.labelTarget=null)}),this.revert("shape.delete",function(a){var f=a.context,T=f.shape,C=f.labelTarget,y=f.labelTargetIndex;C&&((0,_.IH)(C.labels,T,y),T.labelTarget=C)})}g()(v,o.Z),v.$inject=["injector","eventBus","modeling"];function u(r){return(0,s.hX)(r,function(t){return r.indexOf(t.labelTarget)===-1})}},43801:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>o});var s=m(2299),E=m(64960),g=m(98827),_=m(21537),p="crosshair";function o(i,v,u,r,t,n){this._selection=t,this._dragging=u;var e=this,a={create:function(f){var T=v.getDefaultLayer(),C;C=f.frame=(0,_.Ue)("rect"),(0,_.Lj)(C,{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),(0,_.R3)(T,C)},update:function(f){var T=f.frame,C=f.bbox;(0,_.Lj)(T,{x:C.x,y:C.y,width:C.width,height:C.height})},remove:function(f){f.frame&&(0,_.Od)(f.frame)}};n.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),i.on("lasso.selection.end",function(f){var T=f.originalEvent.target;!f.hover&&!(T instanceof SVGElement)||i.once("lasso.selection.ended",function(){e.activateLasso(f.originalEvent,!0)})}),i.on("lasso.end",function(f){var T=c(f),C=r.filter(function(y){return y});e.select(C,T)}),i.on("lasso.start",function(f){var T=f.context;T.bbox=c(f),a.create(T)}),i.on("lasso.move",function(f){var T=f.context;T.bbox=c(f),a.update(T)}),i.on("lasso.cleanup",function(f){var T=f.context;a.remove(T)}),i.on("element.mousedown",1500,function(f){if((0,g.Dw)(f))return e.activateLasso(f.originalEvent),!0})}o.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager"],o.prototype.activateLasso=function(i,v){this._dragging.init(i,"lasso",{autoActivate:v,cursor:p,data:{context:{}}})},o.prototype.activateSelection=function(i){this._dragging.init(i,"lasso.selection",{trapClick:!1,cursor:p,data:{context:{}}})},o.prototype.select=function(i,v){var u=(0,E.RH)(i,v);this._selection.select((0,s.VO)(u))},o.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateSelection()},o.prototype.isActive=function(){var i=this._dragging.context();return i&&/^lasso/.test(i.prefix)};function c(i){var v={x:i.x-i.dx,y:i.y-i.dy},u={x:i.x,y:i.y},r;return v.x<=u.x&&v.y<u.y||v.x<u.x&&v.y<=u.y?r={x:v.x,y:v.y,width:u.x-v.x,height:u.y-v.y}:v.x>=u.x&&v.y<u.y||v.x>u.x&&v.y<=u.y?r={x:u.x,y:v.y,width:v.x-u.x,height:u.y-v.y}:v.x<=u.x&&v.y>u.y||v.x<u.x&&v.y>=u.y?r={x:v.x,y:u.y,width:u.x-v.x,height:v.y-u.y}:v.x>=u.x&&v.y>u.y||v.x>u.x&&v.y>=u.y?r={x:u.x,y:u.y,width:v.x-u.x,height:v.y-u.y}:r={x:u.x,y:u.y,width:0,height:0},r}},40549:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>i});var s=m(13203),E=m(2299),g=m(9012),_=250;function p(v,u){this._eventBus=v,this._dragging=u,this._tools=[],this._active=null}p.$inject=["eventBus","dragging"],p.prototype.registerTool=function(v,u){var r=this._tools;if(!u)throw new Error(`A tool has to be registered with it's "events"`);r.push(v),this.bindEvents(v,u)},p.prototype.isActive=function(v){return v&&this._active===v},p.prototype.length=function(v){return this._tools.length},p.prototype.setActive=function(v){var u=this._eventBus;this._active!==v&&(this._active=v,u.fire("tool-manager.update",{tool:v}))},p.prototype.bindEvents=function(v,u){var r=this._eventBus,t=this._dragging,n=[];r.on(u.tool+".init",function(e){var a=e.context;if(!a.reactivate&&this.isActive(v)){this.setActive(null),t.cancel();return}this.setActive(v)},this),(0,E.Ed)(u,function(e){n.push(e+".ended"),n.push(e+".canceled")}),r.on(n,_,function(e){var a=e.originalEvent;!this._active||a&&(0,g.oq)(a.target,'.group[data-group="tools"]')||this.setActive(null)},this)};const o={__depends__:[s.Z],__init__:["toolManager"],toolManager:["type",p]};var c=m(43801);const i={__depends__:[o],__init__:["lassoTool"],lassoTool:["type",c.Z]}},8644:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>P});var s=m(2299),E=m(83962);function g(l,x){this._modeling=l,this._canvas=x}g.$inject=["modeling","canvas"],g.prototype.preExecute=function(l){var x=this._modeling,h=l.elements,d=l.alignment;(0,s.Ed)(h,function(S){var M={x:0,y:0};d.left?M.x=d.left-S.x:d.right?M.x=d.right-S.width-S.x:d.center?M.x=d.center-Math.round(S.width/2)-S.x:d.top?M.y=d.top-S.y:d.bottom?M.y=d.bottom-S.height-S.y:d.middle&&(M.y=d.middle-Math.round(S.height/2)-S.y),x.moveElements([S],M,S.parent)})},g.prototype.postExecute=function(l){};function _(l){this._modeling=l}_.$inject=["modeling"],_.prototype.preExecute=function(l){var x=l.source;if(!x)throw new Error("source required");var h=l.target||x.parent,d=l.shape;d=l.shape=this._modeling.createShape(d,l.position,h,{attach:l.attach}),l.shape=d},_.prototype.postExecute=function(l){var x=l.connectionParent||l.shape.parent;p(l.source,l.shape)||this._modeling.connect(l.source,l.shape,l.connection,x)};function p(l,x){return(0,s.G)(l.outgoing,function(h){return h.target===x})}function o(l,x){this._canvas=l,this._layouter=x}o.$inject=["canvas","layouter"],o.prototype.execute=function(l){var x=l.connection,h=l.source,d=l.target,S=l.parent,M=l.parentIndex,j=l.hints;if(!h||!d)throw new Error("source and target required");if(!S)throw new Error("parent required");return x.source=h,x.target=d,x.waypoints||(x.waypoints=this._layouter.layoutConnection(x,j)),this._canvas.addConnection(x,S,M),x},o.prototype.revert=function(l){var x=l.connection;return this._canvas.removeConnection(x),x.source=null,x.target=null,x};var c=m(27879),i=m(86534),v=m(28158),u=m(91499);function r(l,x){this._canvas=l,this._modeling=x}r.$inject=["canvas","modeling"],r.prototype.execute=function(l){var x=l.connection,h=x.parent;return l.parent=h,l.parentIndex=(0,u.cq)(h.children,x),l.source=x.source,l.target=x.target,this._canvas.removeConnection(x),x.source=null,x.target=null,x},r.prototype.revert=function(l){var x=l.connection,h=l.parent,d=l.parentIndex;return x.source=l.source,x.target=l.target,(0,u.IH)(h.children,x,d),this._canvas.addConnection(x,h),x};function t(l,x){this._modeling=l,this._elementRegistry=x}t.$inject=["modeling","elementRegistry"],t.prototype.postExecute=function(l){var x=this._modeling,h=this._elementRegistry,d=l.elements;(0,s.Ed)(d,function(S){!h.get(S.id)||(S.waypoints?x.removeConnection(S):x.removeShape(S))})};var n=m(27695);function e(l){this._modeling=l}e.$inject=["modeling"];var a={x:"y",y:"x"};e.prototype.preExecute=function(l){var x=this._modeling,h=l.groups,d=l.axis,S=l.dimension;function M(w,k){w.range.min=Math.min(k[d],w.range.min),w.range.max=Math.max(k[d]+k[S],w.range.max)}function j(w){return w[d]+w[S]/2}function B(w){return w.length-1}function F(w){return w.max-w.min}function V(w,k){var J={y:0};J[d]=w-j(k),J[d]&&(J[a[d]]=0,x.moveElements([k],J,k.parent))}var X=h[0],q=B(h),nt=h[q],H,z,K=0;(0,s.Ed)(h,function(w,k){var J,ot,st;if(w.elements.length<2){k&&k!==h.length-1&&(M(w,w.elements[0]),K+=F(w.range));return}J=(0,s.MR)(w.elements,d),ot=J[0],k===q&&(ot=J[B(J)]),st=j(ot),w.range=null,(0,s.Ed)(J,function(ut){if(V(st,ut),w.range===null){w.range={min:ut[d],max:ut[d]+ut[S]};return}M(w,ut)}),k&&k!==h.length-1&&(K+=F(w.range))}),z=Math.abs(nt.range.min-X.range.max),H=Math.round((z-K)/(h.length-1)),!(H<h.length-1)&&(0,s.Ed)(h,function(w,k){var J={},ot;w===X||w===nt||(ot=h[k-1],w.range.max=0,(0,s.Ed)(w.elements,function(st,ut){J[a[d]]=0,J[d]=ot.range.max-st[d]+H,w.range.min!==st[d]&&(J[d]+=st[d]-w.range.min),J[d]&&x.moveElements([st],J,st.parent),w.range.max=Math.max(st[d]+st[S],ut?w.range.max:0)}))})},e.prototype.postExecute=function(l){};function f(l,x){this._layouter=l,this._canvas=x}f.$inject=["layouter","canvas"],f.prototype.execute=function(l){var x=l.connection,h=x.waypoints;return(0,s.f0)(l,{oldWaypoints:h}),x.waypoints=this._layouter.layoutConnection(x,l.hints),x},f.prototype.revert=function(l){var x=l.connection;return x.waypoints=l.oldWaypoints,x};function T(){}T.prototype.execute=function(l){var x=l.connection,h=l.delta,d=l.newParent||x.parent,S=l.newParentIndex,M=x.parent;return l.oldParent=M,l.oldParentIndex=(0,u.Od)(M.children,x),(0,u.IH)(d.children,x,S),x.parent=d,(0,s.Ed)(x.waypoints,function(j){j.x+=h.x,j.y+=h.y,j.original&&(j.original.x+=h.x,j.original.y+=h.y)}),x},T.prototype.revert=function(l){var x=l.connection,h=x.parent,d=l.oldParent,S=l.oldParentIndex,M=l.delta;return(0,u.Od)(h.children,x),(0,u.IH)(d.children,x,S),x.parent=d,(0,s.Ed)(x.waypoints,function(j){j.x-=M.x,j.y-=M.y,j.original&&(j.original.x-=M.x,j.original.y-=M.y)}),x};var C=m(60415),y=m(78542),O=m(39229),A=m(37227);function D(l,x){this._modeling=l,this._rules=x}D.$inject=["modeling","rules"],D.prototype.preExecute=function(l){var x=this,h=this._modeling,d=this._rules,S=l.oldShape,M=l.newData,j=l.hints||{},B;function F(z,K,w){return d.allowed("connection.reconnect",{connection:w,source:z,target:K})}var V={x:M.x,y:M.y},X={x:S.x,y:S.y,width:S.width,height:S.height};B=l.newShape=l.newShape||x.createShape(M,V,S.parent,j),S.host&&h.updateAttachment(B,S.host);var q;j.moveChildren!==!1&&(q=S.children.slice(),h.moveElements(q,{x:0,y:0},B,j));var nt=S.incoming.slice(),H=S.outgoing.slice();(0,s.Ed)(nt,function(z){var K=z.source,w=F(K,B,z);w&&x.reconnectEnd(z,B,(0,A.Qd)(z,B,X),j)}),(0,s.Ed)(H,function(z){var K=z.target,w=F(B,K,z);w&&x.reconnectStart(z,B,(0,A.SL)(z,B,X),j)})},D.prototype.postExecute=function(l){var x=l.oldShape;this._modeling.removeShape(x)},D.prototype.execute=function(l){},D.prototype.revert=function(l){},D.prototype.createShape=function(l,x,h,d){return this._modeling.createShape(l,x,h,d)},D.prototype.reconnectStart=function(l,x,h,d){this._modeling.reconnectStart(l,x,h,d)},D.prototype.reconnectEnd=function(l,x,h,d){this._modeling.reconnectEnd(l,x,h,d)};var I=m(77010),U=m(64053);function L(l){this._modeling=l}L.$inject=["modeling"],L.prototype.execute=function(l){var x=l.shape,h=x.children;l.oldChildrenVisibility=N(h),x.collapsed=!x.collapsed;var d=Y(h,x.collapsed);return[x].concat(d)},L.prototype.revert=function(l){var x=l.shape,h=l.oldChildrenVisibility,d=x.children,S=Q(d,h);return x.collapsed=!x.collapsed,[x].concat(S)};function N(l){var x={};return(0,s.Ed)(l,function(h){x[h.id]=h.hidden,h.children&&(x=(0,s.f0)({},x,N(h.children)))}),x}function Y(l,x){var h=[];return(0,s.Ed)(l,function(d){d.hidden=x,h=h.concat(d),d.children&&(h=h.concat(Y(d.children,d.collapsed||x)))}),h}function Q(l,x){var h=[];return(0,s.Ed)(l,function(d){d.hidden=x[d.id],h=h.concat(d),d.children&&(h=h.concat(Q(d.children,x)))}),h}function it(l){this._modeling=l}it.$inject=["modeling"],it.prototype.execute=function(l){var x=l.shape,h=l.newHost,d=x.host;return l.oldHost=d,l.attacherIdx=tt(d,x),$(h,x),x.host=h,x},it.prototype.revert=function(l){var x=l.shape,h=l.newHost,d=l.oldHost,S=l.attacherIdx;return x.host=d,tt(h,x),$(d,x,S),x};function tt(l,x){return(0,u.Od)(l&&l.attachers,x)}function $(l,x,h){if(!!l){var d=l.attachers;d||(l.attachers=d=[]),(0,u.IH)(d,x,h)}}function W(){}W.prototype.execute=function(l){var x=l.connection,h=l.newWaypoints;return l.oldWaypoints=x.waypoints,x.waypoints=h,x},W.prototype.revert=function(l){var x=l.connection,h=l.oldWaypoints;return x.waypoints=h,x};function P(l,x,h){this._eventBus=l,this._elementFactory=x,this._commandStack=h;var d=this;l.on("diagram.init",function(){d.registerHandlers(h)})}P.$inject=["eventBus","elementFactory","commandStack"],P.prototype.getHandlers=function(){return{"shape.append":_,"shape.create":v.Z,"shape.delete":n.Z,"shape.move":y.Z,"shape.resize":I.Z,"shape.replace":D,"shape.toggleCollapse":L,spaceTool:U.Z,"label.create":i.Z,"connection.create":o,"connection.delete":r,"connection.move":T,"connection.layout":f,"connection.updateWaypoints":W,"connection.reconnect":O.Z,"elements.create":c.Z,"elements.move":C.Z,"elements.delete":t,"elements.distribute":e,"elements.align":g,"element.updateAttachment":it}},P.prototype.registerHandlers=function(l){(0,s.Ed)(this.getHandlers(),function(x,h){l.registerHandler(h,x)})},P.prototype.moveShape=function(l,x,h,d,S){typeof d=="object"&&(S=d,d=null);var M={shape:l,delta:x,newParent:h,newParentIndex:d,hints:S||{}};this._commandStack.execute("shape.move",M)},P.prototype.updateAttachment=function(l,x){var h={shape:l,newHost:x};this._commandStack.execute("element.updateAttachment",h)},P.prototype.moveElements=function(l,x,h,d){d=d||{};var S=d.attach,M=h,j;S===!0?(j=h,M=h.parent):S===!1&&(j=null);var B={shapes:l,delta:x,newParent:M,newHost:j,hints:d};this._commandStack.execute("elements.move",B)},P.prototype.moveConnection=function(l,x,h,d,S){typeof d=="object"&&(S=d,d=void 0);var M={connection:l,delta:x,newParent:h,newParentIndex:d,hints:S||{}};this._commandStack.execute("connection.move",M)},P.prototype.layoutConnection=function(l,x){var h={connection:l,hints:x||{}};this._commandStack.execute("connection.layout",h)},P.prototype.createConnection=function(l,x,h,d,S,M){typeof h=="object"&&(M=S,S=d,d=h,h=void 0),d=this._create("connection",d);var j={source:l,target:x,parent:S,parentIndex:h,connection:d,hints:M};return this._commandStack.execute("connection.create",j),j.connection},P.prototype.createShape=function(l,x,h,d,S){typeof d!="number"&&(S=d,d=void 0),S=S||{};var M=S.attach,j,B;l=this._create("shape",l),M?(j=h.parent,B=h):j=h;var F={position:x,shape:l,parent:j,parentIndex:d,host:B,hints:S};return this._commandStack.execute("shape.create",F),F.shape},P.prototype.createElements=function(l,x,h,d,S){(0,s.kJ)(l)||(l=[l]),typeof d!="number"&&(S=d,d=void 0),S=S||{};var M={position:x,elements:l,parent:h,parentIndex:d,hints:S};return this._commandStack.execute("elements.create",M),M.elements},P.prototype.createLabel=function(l,x,h,d){h=this._create("label",h);var S={labelTarget:l,position:x,parent:d||l.parent,shape:h};return this._commandStack.execute("label.create",S),S.shape},P.prototype.appendShape=function(l,x,h,d,S){S=S||{},x=this._create("shape",x);var M={source:l,position:h,target:d,shape:x,connection:S.connection,connectionParent:S.connectionParent,attach:S.attach};return this._commandStack.execute("shape.append",M),M.shape},P.prototype.removeElements=function(l){var x={elements:l};this._commandStack.execute("elements.delete",x)},P.prototype.distributeElements=function(l,x,h){var d={groups:l,axis:x,dimension:h};this._commandStack.execute("elements.distribute",d)},P.prototype.removeShape=function(l,x){var h={shape:l,hints:x||{}};this._commandStack.execute("shape.delete",h)},P.prototype.removeConnection=function(l,x){var h={connection:l,hints:x||{}};this._commandStack.execute("connection.delete",h)},P.prototype.replaceShape=function(l,x,h){var d={oldShape:l,newData:x,hints:h||{}};return this._commandStack.execute("shape.replace",d),d.newShape},P.prototype.alignElements=function(l,x){var h={elements:l,alignment:x};this._commandStack.execute("elements.align",h)},P.prototype.resizeShape=function(l,x,h,d){var S={shape:l,newBounds:x,minBounds:h,hints:d};this._commandStack.execute("shape.resize",S)},P.prototype.createSpace=function(l,x,h,d,S){var M={delta:h,direction:d,movingShapes:l,resizingShapes:x,start:S};this._commandStack.execute("spaceTool",M)},P.prototype.updateWaypoints=function(l,x,h){var d={connection:l,newWaypoints:x,hints:h||{}};this._commandStack.execute("connection.updateWaypoints",d)},P.prototype.reconnect=function(l,x,h,d,S){var M={connection:l,newSource:x,newTarget:h,dockingOrPoints:d,hints:S||{}};this._commandStack.execute("connection.reconnect",M)},P.prototype.reconnectStart=function(l,x,h,d){d||(d={}),this.reconnect(l,x,l.target,h,(0,s.f0)(d,{docking:"source"}))},P.prototype.reconnectEnd=function(l,x,h,d){d||(d={}),this.reconnect(l,l.source,x,h,(0,s.f0)(d,{docking:"target"}))},P.prototype.connect=function(l,x,h,d){return this.createConnection(l,x,h||{},l.parent,d)},P.prototype._create=function(l,x){return x instanceof E.XY?x:this._elementFactory.create(l,x)},P.prototype.toggleCollapse=function(l,x){var h={shape:l,hints:x||{}};this._commandStack.execute("shape.toggleCollapse",h)}},27879:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>_});var s=m(2299),E=m(64960),g=Math.round;function _(o){this._modeling=o}_.$inject=["modeling"],_.prototype.preExecute=function(o){var c=o.elements,i=o.parent,v=o.parentIndex,u=o.position,r=o.hints,t=this._modeling;(0,s.Ed)(c,function(T){(0,s.hj)(T.x)||(T.x=0),(0,s.hj)(T.y)||(T.y=0)});var n=(0,E.jY)(c);(0,s.Ed)(c,function(T){p(T)&&(T.waypoints=(0,s.UI)(T.waypoints,function(C){return{x:C.x-n.x-g(n.width/2)+u.x,y:C.y-n.y-g(n.height/2)+u.y}})),(0,s.f0)(T,{x:T.x-n.x-g(n.width/2)+u.x,y:T.y-n.y-g(n.height/2)+u.y})});var e=(0,E.cd)(c),a={},f=this;(0,s.Ed)(c,function(T){if(p(T)){a[T.id]=(0,s.hj)(v)?t.createConnection(a[T.source.id],a[T.target.id],v,T,T.parent||i,r):t.createConnection(a[T.source.id],a[T.target.id],T,T.parent||i,r);return}var C=(0,s.f0)({},r);e.indexOf(T)===-1&&(C.autoResize=!1),a[T.id]=(0,s.hj)(v)?t.createShape(T,(0,s.ei)(T,["x","y","width","height"]),f.getParent(T,o),v,C):t.createShape(T,(0,s.ei)(T,["x","y","width","height"]),f.getParent(T,o),C)}),o.elements=(0,s.VO)(a)},_.prototype.getParent=function(o,c){return o.parent||c.parent};function p(o){return!!o.waypoints}},86534:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>_});var s=m(59879),E=m.n(s),g=m(28158);function _(i){g.Z.call(this,i)}E()(_,g.Z),_.$inject=["canvas"];var p=g.Z.prototype.execute;_.prototype.execute=function(i){var v=i.shape;return c(v),v.labelTarget=i.labelTarget,p.call(this,i)};var o=g.Z.prototype.revert;_.prototype.revert=function(i){return i.shape.labelTarget=null,o.call(this,i)};function c(i){["width","height"].forEach(function(v){typeof i[v]>"u"&&(i[v]=0)})}},28158:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>g});var s=m(2299),E=Math.round;function g(_){this._canvas=_}g.$inject=["canvas"],g.prototype.execute=function(_){var p=_.shape,o=_.position,c=_.parent,i=_.parentIndex;if(!c)throw new Error("parent required");if(!o)throw new Error("position required");return o.width!==void 0?(0,s.f0)(p,o):(0,s.f0)(p,{x:o.x-E(p.width/2),y:o.y-E(p.height/2)}),this._canvas.addShape(p,c,i),p},g.prototype.revert=function(_){var p=_.shape;return this._canvas.removeShape(p),p}},27695:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>g});var s=m(91499),E=m(80352);function g(p,o){this._canvas=p,this._modeling=o}g.$inject=["canvas","modeling"],g.prototype.preExecute=function(p){var o=this._modeling,c=p.shape;(0,E.r)(c.incoming,function(i){o.removeConnection(i,{nested:!0})}),(0,E.r)(c.outgoing,function(i){o.removeConnection(i,{nested:!0})}),(0,E.r)(c.children,function(i){_(i)?o.removeConnection(i,{nested:!0}):o.removeShape(i,{nested:!0})})},g.prototype.execute=function(p){var o=this._canvas,c=p.shape,i=c.parent;return p.oldParent=i,p.oldParentIndex=(0,s.cq)(i.children,c),o.removeShape(c),c},g.prototype.revert=function(p){var o=this._canvas,c=p.shape,i=p.oldParent,v=p.oldParentIndex;return(0,s.IH)(i.children,c,v),o.addShape(c,i),c};function _(p){return p.waypoints}},60415:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>E});var s=m(64482);function E(g){this._helper=new s.Z(g)}E.$inject=["modeling"],E.prototype.preExecute=function(g){g.closure=this._helper.getClosure(g.shapes)},E.prototype.postExecute=function(g){var _=g.hints,p;_&&_.primaryShape&&(p=_.primaryShape,_.oldParent=p.parent),this._helper.moveClosure(g.closure,g.delta,g.newParent,g.newHost,p)}},78542:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>p});var s=m(2299),E=m(64482),g=m(91499),_=m(37227);function p(o){this._modeling=o,this._helper=new E.Z(o)}p.$inject=["modeling"],p.prototype.execute=function(o){var c=o.shape,i=o.delta,v=o.newParent||c.parent,u=o.newParentIndex,r=c.parent;return o.oldBounds=(0,s.ei)(c,["x","y","width","height"]),o.oldParent=r,o.oldParentIndex=(0,g.Od)(r.children,c),(0,g.IH)(v.children,c,u),(0,s.f0)(c,{parent:v,x:c.x+i.x,y:c.y+i.y}),c},p.prototype.postExecute=function(o){var c=o.shape,i=o.delta,v=o.hints,u=this._modeling;v.layout!==!1&&((0,s.Ed)(c.incoming,function(r){u.layoutConnection(r,{connectionEnd:(0,_.h4)(r,c,i)})}),(0,s.Ed)(c.outgoing,function(r){u.layoutConnection(r,{connectionStart:(0,_.H9)(r,c,i)})})),v.recurse!==!1&&this.moveChildren(o)},p.prototype.revert=function(o){var c=o.shape,i=o.oldParent,v=o.oldParentIndex,u=o.delta;return(0,g.IH)(i.children,c,v),(0,s.f0)(c,{parent:i,x:c.x-u.x,y:c.y-u.y}),c},p.prototype.moveChildren=function(o){var c=o.delta,i=o.shape;this._helper.moveRecursive(i.children,c,null)},p.prototype.getNewParent=function(o){return o.newParent||o.shape.parent}},39229:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>E});var s=m(2299);function E(_){this._modeling=_}E.$inject=["modeling"],E.prototype.execute=function(_){var p=_.newSource,o=_.newTarget,c=_.connection,i=_.dockingOrPoints;if(!p&&!o)throw new Error("newSource or newTarget required");return(0,s.kJ)(i)&&(_.oldWaypoints=c.waypoints,c.waypoints=i),p&&(_.oldSource=c.source,c.source=p),o&&(_.oldTarget=c.target,c.target=o),c},E.prototype.postExecute=function(_){var p=_.connection,o=_.newSource,c=_.newTarget,i=_.dockingOrPoints,v=_.hints||{};if(v.layoutConnection!==!1){var u={};o&&(!c||v.docking==="source")&&(u.connectionStart=g((0,s.kJ)(i)?i[0]:i)),c&&(!o||v.docking==="target")&&(u.connectionEnd=g((0,s.kJ)(i)?i[i.length-1]:i)),v.newWaypoints&&(u.waypoints=v.newWaypoints),this._modeling.layoutConnection(p,u)}},E.prototype.revert=function(_){var p=_.oldSource,o=_.oldTarget,c=_.oldWaypoints,i=_.connection;return p&&(i.source=p),o&&(i.target=o),c&&(i.waypoints=c),i};function g(_){return _.original||_}},77010:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>g});var s=m(2299),E=m(37227);function g(_){this._modeling=_}g.$inject=["modeling"],g.prototype.execute=function(_){var p=_.shape,o=_.newBounds,c=_.minBounds;if(o.x===void 0||o.y===void 0||o.width===void 0||o.height===void 0)throw new Error("newBounds must have {x, y, width, height} properties");if(c&&(o.width<c.width||o.height<c.height))throw new Error("width and height cannot be less than minimum height and width");if(!c&&o.width<10||o.height<10)throw new Error("width and height cannot be less than 10px");return _.oldBounds={width:p.width,height:p.height,x:p.x,y:p.y},(0,s.f0)(p,{width:o.width,height:o.height,x:o.x,y:o.y}),p},g.prototype.postExecute=function(_){var p=this._modeling,o=_.shape,c=_.oldBounds,i=_.hints||{};i.layout!==!1&&((0,s.Ed)(o.incoming,function(v){p.layoutConnection(v,{connectionEnd:(0,E.Qd)(v,o,c)})}),(0,s.Ed)(o.outgoing,function(v){p.layoutConnection(v,{connectionStart:(0,E.SL)(v,o,c)})}))},g.prototype.revert=function(_){var p=_.shape,o=_.oldBounds;return(0,s.f0)(p,{width:o.width,height:o.height,x:o.x,y:o.y}),p}},64053:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>g});var s=m(2299),E=m(26737);function g(i){this._modeling=i}g.$inject=["modeling"],g.prototype.preExecute=function(i){var v=i.delta,u=i.direction,r=i.movingShapes,t=i.resizingShapes,n=i.start;this.moveShapes(r,v),this.resizeShapes(t,v,u),this.updateConnectionWaypoints((0,E.wb)(r,t),v,u,n,r,t)},g.prototype.execute=function(){},g.prototype.revert=function(){},g.prototype.moveShapes=function(i,v){var u=this;(0,s.Ed)(i,function(r){u._modeling.moveShape(r,v,null,{autoResize:!1,layout:!1,recurse:!1})})},g.prototype.resizeShapes=function(i,v,u){var r=this;(0,s.Ed)(i,function(t){var n=(0,E.zY)(t,u,v);r._modeling.resizeShape(t,n,null,{attachSupport:!1,autoResize:!1,layout:!1})})},g.prototype.updateConnectionWaypoints=function(i,v,u,r,t,n){var e=this;(0,s.Ed)(i,function(a){var f=a.source,T=a.target,C=p(a),y=o(u);C=(0,s.UI)(C,function(O,A){var D=A===0,I=A===C.length-1;return D&&!c(t.concat(n),f)||I&&!c(t.concat(n),T)||((O[y]>r&&/e|s/.test(u)||O[y]<r&&/n|w/.test(u))&&(O[y]=O[y]+v[y]),O.original&&(O.original[y]>r&&/e|s/.test(u)||O.original[y]<r&&/n|w/.test(u))&&(O.original[y]=O.original[y]+v[y])),O}),e._modeling.updateWaypoints(a,C,{labelBehavior:!1})})};function _(i){return(0,s.f0)({},i)}function p(i){return(0,s.UI)(i.waypoints,function(v){return v=_(v),v.original&&(v.original=_(v.original)),v})}function o(i){switch(i){case"n":return"y";case"w":return"x";case"s":return"y";case"e":return"x"}}function c(i,v){return i.indexOf(v)!==-1}},37227:(rt,G,m)=>{"use strict";m.d(G,{H9:()=>c,h4:()=>i,SL:()=>p,Qd:()=>o});var s=m(86463),E=m(43273);function g(r,t,n){var e=(0,E.b)(t),a=(0,E.b)(n),f=(0,E.p)(r,e),T={x:f.x*(n.width/t.width),y:f.y*(n.height/t.height)};return(0,s.ex)({x:a.x+T.x,y:a.y+T.y})}function _(r,t,n){var e=center(r),a=center(t),f=center(n),T=delta(r,e),C=delta(e,a),y={x:C.x*(n.width/t.width),y:C.y*(n.height/t.height)},O={x:f.x+y.x,y:f.y+y.y};return roundPoint({x:O.x+T.x-r.x,y:O.y+T.y-r.y})}function p(r,t,n){var e=u(r),a=e[0];return g(a.original||a,n,t)}function o(r,t,n){var e=u(r),a=e[e.length-1];return g(a.original||a,n,t)}function c(r,t,n){return p(r,t,v(t,n))}function i(r,t,n){return o(r,t,v(t,n))}function v(r,t){return{x:r.x-t.x,y:r.y-t.y,width:r.width,height:r.height}}function u(r){var t=r.waypoints;if(!t.length)throw new Error("connection#"+r.id+": no waypoints");return t}},64482:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>p});var s=m(2299),E=m(37227),g=m(64960);function _(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}_.prototype.add=function(o,c){return this.addAll([o],c)},_.prototype.addAll=function(o,c){var i=(0,g.vA)(o,!!c,this);return(0,s.f0)(this,i),this};function p(o){this._modeling=o}p.prototype.moveRecursive=function(o,c,i){return o?this.moveClosure(this.getClosure(o),c,i):[]},p.prototype.moveClosure=function(o,c,i,v,u){var r=this._modeling,t=o.allShapes,n=o.allConnections,e=o.enclosedConnections,a=o.topLevel,f=!1;u&&u.parent===i&&(f=!0),(0,s.Ed)(t,function(T){r.moveShape(T,c,a[T.id]&&!f&&i,{recurse:!1,layout:!1})}),(0,s.Ed)(n,function(T){var C=!!t[T.source.id],y=!!t[T.target.id];e[T.id]&&C&&y?r.moveConnection(T,c,a[T.id]&&!f&&i):r.layoutConnection(T,{connectionStart:C&&(0,E.H9)(T,T.source,c),connectionEnd:y&&(0,E.h4)(T,T.target,c),shapeMoving:!0})})},p.prototype.getClosure=function(o){return new _().addAll(o,!0)}},88848:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>i});var s=m(26019);const E={commandStack:["type",s.Z]};var g=m(98192),_=m(42226),p=m(67989),o=m(8644),c=m(279);const i={__depends__:[E,g.Z,_.Z,p.Z],__init__:["modeling"],modeling:["type",o.Z],layouter:["type",c.Z]}},23430:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>it});var s=m(85637),E=m(42226),g=m(4828),_=m(67989),p=m(13203),o=m(10009),c=m(2299),i=m(46534),v=500,u=1250,r=1500,t=Math.round;function n(tt){return{x:tt.x+t(tt.width/2),y:tt.y+t(tt.height/2)}}function e(tt,$,W,P,l){function x(d,S,M,j){return l.allowed("elements.move",{shapes:d,delta:S,position:M,target:j})}tt.on("shape.move.start",r,function(d){var S=d.context,M=d.shape,j=P.get().slice();j.indexOf(M)===-1&&(j=[M]),j=a(j),(0,c.f0)(S,{shapes:j,validatedShapes:j,shape:M})}),tt.on("shape.move.start",u,function(d){var S=d.context,M=S.validatedShapes,j;if(j=S.canExecute=x(M),!j)return!1}),tt.on("shape.move.move",v,function(d){var S=d.context,M=S.validatedShapes,j=d.hover,B={x:d.dx,y:d.dy},F={x:d.x,y:d.y},V;if(V=x(M,B,F,j),S.delta=B,S.canExecute=V,V===null){S.target=null;return}S.target=j}),tt.on("shape.move.end",function(d){var S=d.context,M=S.delta,j=S.canExecute,B=j==="attach",F=S.shapes;if(j===!1)return!1;M.x=t(M.x),M.y=t(M.y),!(M.x===0&&M.y===0)&&W.moveElements(F,M,S.target,{primaryShape:S.shape,attach:B})}),tt.on("element.mousedown",function(d){var S=(0,i.Ku)(d);if(!S)throw new Error("must supply DOM mousedown event");return h(S,d.element)});function h(d,S,M,j){if((0,c.Kn)(M)&&(j=M,M=!1),!(S.waypoints||!S.parent)){var B=n(S);return $.init(d,B,"shape.move",{cursor:"grabbing",autoActivate:M,data:{shape:S,context:j||{}}}),!0}}this.start=h}e.$inject=["eventBus","dragging","modeling","selection","rules"];function a(tt){var $=(0,c.vM)(tt,"id");return(0,c.hX)(tt,function(W){for(;W=W.parent;)if($[W.id])return!1;return!0})}var f=m(64960),T=m(21537),C=m(18872),y=499,O="djs-dragging",A="drop-ok",D="drop-not-ok",I="new-parent",U="attach-ok";function L(tt,$,W,P){function l(S){var M=x(S),j=N(M);return j}function x(S){var M=(0,f.PB)(S,!0),j=(0,c.UI)(M,function(B){return(B.incoming||[]).concat(B.outgoing||[])});return(0,c.xH)(M.concat(j))}function h(S,M){[U,A,D,I].forEach(function(j){j===M?$.addMarker(S,j):$.removeMarker(S,j)})}function d(S,M,j){P.addDragger(M,S.dragGroup),j&&$.addMarker(M,O),S.allDraggedElements?S.allDraggedElements.push(M):S.allDraggedElements=[M]}tt.on("shape.move.start",y,function(S){var M=S.context,j=M.shapes,B=M.allDraggedElements,F=l(j);if(!M.dragGroup){var V=(0,T.Ue)("g");(0,T.Lj)(V,W.cls("djs-drag-group",["no-events"]));var X=$.getDefaultLayer();(0,T.R3)(X,V),M.dragGroup=V}F.forEach(function(q){P.addDragger(q,M.dragGroup)}),B?B=(0,c.xH)([B,x(j)]):B=x(j),(0,c.Ed)(B,function(q){$.addMarker(q,O)}),M.allDraggedElements=B,M.differentParents=Y(j)}),tt.on("shape.move.move",y,function(S){var M=S.context,j=M.dragGroup,B=M.target,F=M.shape.parent,V=M.canExecute;B&&(V==="attach"?h(B,U):M.canExecute&&B&&B.id!==F.id?h(B,I):h(B,M.canExecute?A:D)),(0,C.Iu)(j,S.dx,S.dy)}),tt.on(["shape.move.out","shape.move.cleanup"],function(S){var M=S.context,j=M.target;j&&h(j,null)}),tt.on("shape.move.cleanup",function(S){var M=S.context,j=M.allDraggedElements,B=M.dragGroup;(0,c.Ed)(j,function(F){$.removeMarker(F,O)}),B&&(0,T.Od)(B)}),this.makeDraggable=d}L.$inject=["eventBus","canvas","styles","previewSupport"];function N(tt){var $=(0,c.hX)(tt,function(W){return Q(W)?(0,c.sE)(tt,(0,c.KQ)({id:W.source.id}))&&(0,c.sE)(tt,(0,c.KQ)({id:W.target.id})):!0});return $}function Y(tt){return(0,c.dp)((0,c.vM)(tt,function($){return $.parent&&$.parent.id}))!==1}function Q(tt){return tt.waypoints}const it={__depends__:[s.Z,E.Z,g.Z,_.Z,p.Z,o.Z],__init__:["move","movePreview"],move:["type",e],movePreview:["type",L]}},85766:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>_});var s=m(59879),E=m.n(s),g=m(91658);function _(p){g.Z.call(this,p);var o=this;this.preExecute(["shape.create","connection.create"],function(c){var i=c.context,v=i.shape||i.connection,u=i.parent,r=o.getOrdering(v,u);r&&(r.parent!==void 0&&(i.parent=r.parent),i.parentIndex=r.index)}),this.preExecute(["shape.move","connection.move"],function(c){var i=c.context,v=i.shape||i.connection,u=i.newParent||v.parent,r=o.getOrdering(v,u);r&&(r.parent!==void 0&&(i.newParent=r.parent),i.newParentIndex=r.index)})}_.prototype.getOrdering=function(p,o){return null},E()(_,g.Z)},4828:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>c});var s=m(64960),E=m(21537),g=m(9012),_=m(2299),p=500;function o(i,v,u){this.offset=6;var r=v.cls("djs-outline",["no-fill"]),t=this;function n(e,a){var f=(0,E.Ue)("rect");return(0,E.Lj)(f,(0,_.f0)({x:10,y:10,width:100,height:100},r)),(0,E.R3)(e,f),f}i.on(["shape.added","shape.changed"],p,function(e){var a=e.element,f=e.gfx,T=(0,g.IO)(".djs-outline",f);T||(T=n(f,a)),t.updateShapeOutline(T,a)}),i.on(["connection.added","connection.changed"],function(e){var a=e.element,f=e.gfx,T=(0,g.IO)(".djs-outline",f);T||(T=n(f,a)),t.updateConnectionOutline(T,a)})}o.prototype.updateShapeOutline=function(i,v){(0,E.Lj)(i,{x:-this.offset,y:-this.offset,width:v.width+this.offset*2,height:v.height+this.offset*2})},o.prototype.updateConnectionOutline=function(i,v){var u=(0,s.jY)(v);(0,E.Lj)(i,{x:u.x-this.offset,y:u.y-this.offset,width:u.width+this.offset*2,height:u.height+this.offset*2})},o.$inject=["eventBus","styles","elementRegistry"];const c={__init__:["outline"],outline:["type",o]}},42890:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>v});var s=m(2299),E=m(9012),g=".djs-palette-toggle",_=".entry",p=g+", "+_,o="open",c="two-column",i=1e3;function v(t,n){this._eventBus=t,this._canvas=n;var e=this;t.on("tool-manager.update",function(a){var f=a.tool;e.updateToolHighlight(f)}),t.on("i18n.changed",function(){e._update()}),t.on("diagram.init",function(){e._diagramInitialized=!0,e._rebuild()})}v.$inject=["eventBus","canvas"],v.prototype.registerProvider=function(t,n){n||(n=t,t=i),this._eventBus.on("palette.getProviders",t,function(e){e.providers.push(n)}),this._rebuild()},v.prototype.getEntries=function(){var t=this._getProviders();return t.reduce(r,{})},v.prototype._rebuild=function(){if(!!this._diagramInitialized){var t=this._getProviders();!t.length||(this._container||this._init(),this._update())}},v.prototype._init=function(){var t=this,n=this._eventBus,e=this._getParentContainer(),a=this._container=(0,E.H6)(v.HTML_MARKUP);e.appendChild(a),E.cl.bind(a,p,"click",function(f){var T=f.delegateTarget;if((0,E.wB)(T,g))return t.toggle();t.trigger("click",f)}),E.B.bind(a,"mousedown",function(f){f.stopPropagation()}),E.cl.bind(a,_,"dragstart",function(f){t.trigger("dragstart",f)}),n.on("canvas.resized",this._layoutChanged,this),n.fire("palette.create",{container:a})},v.prototype._getProviders=function(t){var n=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(n),n.providers},v.prototype._toggleState=function(t){t=t||{};var n=this._getParentContainer(),e=this._container,a=this._eventBus,f,T=(0,E.Sh)(e);"twoColumn"in t?f=t.twoColumn:f=this._needsCollapse(n.clientHeight,this._entries||{}),T.toggle(c,f),"open"in t&&T.toggle(o,t.open),a.fire("palette.changed",{twoColumn:f,open:this.isOpen()})},v.prototype._update=function(){var t=(0,E.IO)(".djs-palette-entries",this._container),n=this._entries=this.getEntries();(0,E.ZH)(t),(0,s.Ed)(n,function(e,a){var f=e.group||"default",T=(0,E.IO)("[data-group="+f+"]",t);T||(T=(0,E.H6)('<div class="group" data-group="'+f+'"></div>'),t.appendChild(T));var C=e.html||(e.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'),y=(0,E.H6)(C);T.appendChild(y),e.separator||((0,E.Lj)(y,"data-action",a),e.title&&(0,E.Lj)(y,"title",e.title),e.className&&u(y,e.className),e.imageUrl&&y.appendChild((0,E.H6)('<img src="'+e.imageUrl+'">')))}),this.open()},v.prototype.trigger=function(t,n,e){var a=this._entries,f,T,C,y=n.delegateTarget||n.target;if(!y)return n.preventDefault();f=a[(0,E.Lj)(y,"data-action")],f&&(T=f.action,C=n.originalEvent||n,(0,s.mf)(T)?t==="click"&&T(C,e):T[t]&&T[t](C,e),n.preventDefault())},v.prototype._layoutChanged=function(){this._toggleState({})},v.prototype._needsCollapse=function(t,n){var e=50,a=Object.keys(n).length*46;return t<a+e},v.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},v.prototype.open=function(){this._toggleState({open:!0})},v.prototype.toggle=function(t){this.isOpen()?this.close():this.open()},v.prototype.isActiveTool=function(t){return t&&this._activeTool===t},v.prototype.updateToolHighlight=function(t){var n,e;this._toolsContainer||(n=(0,E.IO)(".djs-palette-entries",this._container),this._toolsContainer=(0,E.IO)("[data-group=tools]",n)),e=this._toolsContainer,(0,s.Ed)(e.children,function(a){var f=a.getAttribute("data-action");if(!!f){var T=(0,E.Sh)(a);f=f.replace("-tool",""),T.contains("entry")&&f===t?T.add("highlighted-entry"):T.remove("highlighted-entry")}})},v.prototype.isOpen=function(){return(0,E.Sh)(this._container).has(o)},v.prototype._getParentContainer=function(){return this._canvas.getContainer()},v.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';function u(t,n){var e=(0,E.Sh)(t),a=(0,s.kJ)(n)?n:n.split(/\s+/g);a.forEach(function(f){e.add(f)})}function r(t,n){var e=n.getPaletteEntries();return(0,s.mf)(e)?e(t):((0,s.Ed)(e,function(a,f){t[f]=a}),t)}},82032:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>E});var s=m(42890);const E={__init__:["palette"],palette:["type",s.Z]}},41525:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>o});var s=m(2299),E=m(9012),g="data-id",_=["contextPad.close","canvas.viewbox.changing","commandStack.changed"],p=1e3;function o(i,v,u){var r=(0,s.$K)(i&&i.scale)?i.scale:{min:1,max:1.5};this._config={scale:r},this._eventBus=v,this._canvas=u,this._providers={},this._current={}}o.$inject=["config.popupMenu","eventBus","canvas"],o.prototype.registerProvider=function(i,v,u){u||(u=v,v=p),this._eventBus.on("popupMenu.getProviders."+i,v,function(r){r.providers.push(u)})},o.prototype.isEmpty=function(i,v){if(!i)throw new Error("element parameter is missing");if(!v)throw new Error("providerId parameter is missing");var u=this._getProviders(v);if(!u)return!0;var r=this._getEntries(i,u),t=this._getHeaderEntries(i,u),n=(0,s.dp)(r)>0,e=t&&(0,s.dp)(t)>0;return!n&&!e},o.prototype.open=function(i,v,u){var r=this._getProviders(v);if(!i)throw new Error("Element is missing");if(!r||!r.length)throw new Error("No registered providers for: "+v);if(!u)throw new Error("the position argument is missing");this.isOpen()&&this.close(),this._emit("open");var t=this._current={className:v,element:i,position:u},n=this._getEntries(i,r),e=this._getHeaderEntries(i,r);t.entries=(0,s.f0)({},n,e),t.container=this._createContainer(),(0,s.dp)(e)&&t.container.appendChild(this._createEntries(e,"djs-popup-header")),(0,s.dp)(n)&&t.container.appendChild(this._createEntries(n,"djs-popup-body"));var a=this._canvas,f=a.getContainer();this._attachContainer(t.container,f,u.cursor),this._bindAutoClose()},o.prototype.close=function(){!this.isOpen()||(this._emit("close"),this._unbindAutoClose(),(0,E.Od)(this._current.container),this._current.container=null)},o.prototype.isOpen=function(){return!!this._current.container},o.prototype.trigger=function(i){i.preventDefault();var v=i.delegateTarget||i.target,u=(0,E.Lj)(v,g),r=this._getEntry(u);if(r.action)return r.action.call(null,i,r)},o.prototype._getProviders=function(i){var v=this._eventBus.createEvent({type:"popupMenu.getProviders."+i,providers:[]});return this._eventBus.fire(v),v.providers},o.prototype._getEntries=function(i,v){var u={};return(0,s.Ed)(v,function(r){if(!r.getPopupMenuEntries){(0,s.Ed)(r.getEntries(i),function(n){var e=n.id;if(!e)throw new Error("every entry must have the id property set");u[e]=(0,s.CE)(n,["id"])});return}var t=r.getPopupMenuEntries(i);(0,s.mf)(t)?u=t(u):(0,s.Ed)(t,function(n,e){u[e]=n})}),u},o.prototype._getHeaderEntries=function(i,v){var u={};return(0,s.Ed)(v,function(r){if(!r.getPopupMenuHeaderEntries){if(!r.getHeaderEntries)return;(0,s.Ed)(r.getHeaderEntries(i),function(n){var e=n.id;if(!e)throw new Error("every entry must have the id property set");u[e]=(0,s.CE)(n,["id"])});return}var t=r.getPopupMenuHeaderEntries(i);(0,s.mf)(t)?u=t(u):(0,s.Ed)(t,function(n,e){u[e]=n})}),u},o.prototype._getEntry=function(i){var v=this._current.entries[i];if(!v)throw new Error("entry not found");return v},o.prototype._emit=function(i){this._eventBus.fire("popupMenu."+i)},o.prototype._createContainer=function(){var i=(0,E.H6)('<div class="djs-popup">'),v=this._current.position,u=this._current.className;return(0,s.f0)(i.style,{position:"absolute",left:v.x+"px",top:v.y+"px",visibility:"hidden"}),(0,E.Sh)(i).add(u),i},o.prototype._attachContainer=function(i,v,u){var r=this;E.cl.bind(i,".entry","click",function(t){r.trigger(t)}),this._updateScale(i),v.appendChild(i),u&&this._assureIsInbounds(i,u)},o.prototype._updateScale=function(i){var v=this._canvas.zoom(),u=this._config.scale,r,t,n=v;u!==!0&&(u===!1?(r=1,t=1):(r=u.min,t=u.max),(0,s.$K)(r)&&v<r&&(n=r),(0,s.$K)(t)&&v>t&&(n=t)),c(i,"scale("+n+")")},o.prototype._assureIsInbounds=function(i,v){var u=this._canvas,r=u._container.getBoundingClientRect(),t=i.offsetLeft,n=i.offsetTop,e=i.scrollWidth,a=i.scrollHeight,f={},T,C,y={x:v.x-r.left,y:v.y-r.top};t+e>r.width&&(f.x=!0),n+a>r.height&&(f.y=!0),f.x&&f.y?(T=y.x-e+"px",C=y.y-a+"px"):f.x?(T=y.x-e+"px",C=y.y+"px"):f.y&&y.y<a?(T=y.x+"px",C=10+"px"):f.y&&(T=y.x+"px",C=y.y-a+"px"),(0,s.f0)(i.style,{left:T,top:C},{visibility:"visible","z-index":1e3})},o.prototype._createEntries=function(i,v){var u=(0,E.H6)("<div>"),r=this;return(0,E.Sh)(u).add(v),(0,s.Ed)(i,function(t,n){var e=r._createEntry(t,n);u.appendChild(e)}),u},o.prototype._createEntry=function(i,v){var u=(0,E.H6)("<div>"),r=(0,E.Sh)(u);if(r.add("entry"),i.className&&i.className.split(" ").forEach(function(n){r.add(n)}),(0,E.Lj)(u,g,v),i.label){var t=(0,E.H6)("<span>");t.textContent=i.label,u.appendChild(t)}return i.imageUrl&&u.appendChild((0,E.H6)('<img src="'+i.imageUrl+'" />')),i.active===!0&&r.add("active"),i.disabled===!0&&r.add("disabled"),i.title&&(u.title=i.title),u},o.prototype._bindAutoClose=function(){this._eventBus.once(_,this.close,this)},o.prototype._unbindAutoClose=function(){this._eventBus.off(_,this.close,this)};function c(i,v){i.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(u){i.style[u+"transform"]=v})}},42776:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>E});var s=m(41525);const E={__init__:["popupMenu"],popupMenu:["type",s.Z]}},40222:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>c});var s=m(2299),E=m(21537),g=m(9012),_=m(21202),p=["marker-start","marker-mid","marker-end"],o=["circle","ellipse","line","path","polygon","polyline","rect"];function c(t,n,e,a){this._elementRegistry=t,this._canvas=e,this._styles=a,this._clonedMarkers={};var f=this;n.on("drag.cleanup",function(){(0,s.Ed)(f._clonedMarkers,function(T){(0,E.Od)(T)}),f._clonedMarkers={}})}c.$inject=["elementRegistry","eventBus","canvas","styles"],c.prototype.getGfx=function(t){return this._elementRegistry.getGraphics(t)},c.prototype.addDragger=function(t,n,e){e=e||this.getGfx(t);var a=(0,E.d9)(e),f=e.getBoundingClientRect();return this._cloneMarkers((0,_.s)(a)),(0,E.Lj)(a,this._styles.cls("djs-dragger",[],{x:f.top,y:f.left})),(0,E.R3)(n,a),a},c.prototype.addFrame=function(t,n){var e=(0,E.Ue)("rect",{class:"djs-resize-overlay",width:t.width,height:t.height,x:t.x,y:t.y});return(0,E.R3)(n,e),e},c.prototype._cloneMarkers=function(t){var n=this;if(t.childNodes)for(var e=0;e<t.childNodes.length;e++)n._cloneMarkers(t.childNodes[e]);!r(t)||p.forEach(function(a){if((0,E.Lj)(t,a)){var f=i(t,a,n._canvas.getContainer());n._cloneMarker(t,f,a)}})},c.prototype._cloneMarker=function(t,n,e){var a=n.id,f=this._clonedMarkers[a];if(!f){f=(0,E.d9)(n);var T=a+"-clone";f.id=T,(0,E.Sh)(f).add("djs-dragger").add("djs-dragger-marker"),this._clonedMarkers[a]=f;var C=(0,g.IO)("defs",this._canvas._svg);C||(C=(0,E.Ue)("defs"),(0,E.R3)(this._canvas._svg,C)),(0,E.R3)(C,f)}var y=u(this._clonedMarkers[a].id);(0,E.Lj)(t,e,y)};function i(t,n,e){var a=v((0,E.Lj)(t,n));return(0,g.IO)("marker#"+a,e||document)}function v(t){return t.match(/url\(['"]?#([^'"]*)['"]?\)/)[1]}function u(t){return"url(#"+t+")"}function r(t){return o.indexOf(t.nodeName)!==-1}},10009:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>E});var s=m(40222);const E={__init__:["previewSupport"],previewSupport:["type",s.Z]}},85081:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>p,e:()=>c});var s=m(2299),E=m(29337),g=m(86463),_=10;function p(v,u,r,t){this._dragging=t,this._rules=u;var n=this;function e(T,C){var y=T.shape,O=T.direction,A=T.resizeConstraints,D;T.delta=C,D=(0,E.zY)(y,O,C),T.newBounds=(0,E.QG)(D,A),T.canExecute=n.canResize(T)}function a(T){var C=T.resizeConstraints,y=T.minBounds;C===void 0&&(y===void 0&&(y=n.computeMinResizeBox(T)),T.resizeConstraints={min:(0,g.JA)(y)})}function f(T){var C=T.shape,y=T.canExecute,O=T.newBounds;if(y){if(O=(0,g.aR)(O),!o(C,O))return;r.resizeShape(C,O)}}v.on("resize.start",function(T){a(T.context)}),v.on("resize.move",function(T){var C={x:T.dx,y:T.dy};e(T.context,C)}),v.on("resize.end",function(T){f(T.context)})}p.prototype.canResize=function(v){var u=this._rules,r=(0,s.ei)(v,["newBounds","shape","delta","direction"]);return u.allowed("shape.resize",r)},p.prototype.activate=function(v,u,r){var t=this._dragging,n,e;if(typeof r=="string"&&(r={direction:r}),n=(0,s.f0)({shape:u},r),e=n.direction,!e)throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");t.init(v,c(u,e),"resize",{autoActivate:!0,cursor:i(e),data:{shape:u,context:n}})},p.prototype.computeMinResizeBox=function(v){var u=v.shape,r=v.direction,t,n;return t=v.minDimensions||{width:_,height:_},n=(0,E.gE)(u,v.childrenBoxPadding),(0,E.oN)(r,u,t,n)},p.$inject=["eventBus","rules","modeling","dragging"];function o(v,u){return v.x!==u.x||v.y!==u.y||v.width!==u.width||v.height!==u.height}function c(v,u){var r=(0,g.wS)(v),t=(0,g.JA)(v),n={x:r.x,y:r.y};return u.indexOf("n")!==-1?n.y=t.top:u.indexOf("s")!==-1&&(n.y=t.bottom),u.indexOf("e")!==-1?n.x=t.right:u.indexOf("w")!==-1&&(n.x=t.left),n}function i(v){var u="resize-";return v==="n"||v==="s"?u+"ns":v==="e"||v==="w"?u+"ew":v==="nw"||v==="se"?u+"nwse":u+"nesw"}},63343:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>t});var s=m(2299),E=m(21537),g=m(9012),_=m(98827),p=m(18872),o=m(85081),c=-6,i=4,v=20,u="djs-resizer",r=["n","w","s","e","nw","ne","se","sw"];function t(e,a,f,T){this._resize=T,this._canvas=a;var C=this;e.on("selection.changed",function(y){var O=y.newSelection;C.removeResizers(),O.length===1&&(0,s.Ed)(O,(0,s.ak)(C.addResizer,C))}),e.on("shape.changed",function(y){var O=y.element;f.isSelected(O)&&(C.removeResizers(),C.addResizer(O))})}t.prototype.makeDraggable=function(e,a,f){var T=this._resize;function C(y){(0,_.Id)(y)&&T.activate(y,e,f)}g.B.bind(a,"mousedown",C),g.B.bind(a,"touchstart",C)},t.prototype._createResizer=function(e,a,f,T){var C=this._getResizersParent(),y=n(T),O=(0,E.Ue)("g");(0,E.Sh)(O).add(u),(0,E.Sh)(O).add(u+"-"+e.id),(0,E.Sh)(O).add(u+"-"+T),(0,E.R3)(C,O);var A=(0,E.Ue)("rect");(0,E.Lj)(A,{x:-i/2+y.x,y:-i/2+y.y,width:i,height:i}),(0,E.Sh)(A).add(u+"-visual"),(0,E.R3)(O,A);var D=(0,E.Ue)("rect");return(0,E.Lj)(D,{x:-v/2+y.x,y:-v/2+y.y,width:v,height:v}),(0,E.Sh)(D).add(u+"-hit"),(0,E.R3)(O,D),(0,p.vs)(O,a,f),O},t.prototype.createResizer=function(e,a){var f=(0,o.e)(e,a),T=this._createResizer(e,f.x,f.y,a);this.makeDraggable(e,T,a)},t.prototype.addResizer=function(e){var a=this,f=this._resize;!f.canResize({shape:e})||(0,s.Ed)(r,function(T){a.createResizer(e,T)})},t.prototype.removeResizers=function(){var e=this._getResizersParent();(0,E.ZH)(e)},t.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")},t.$inject=["eventBus","canvas","selection","resize"];function n(e){var a={x:0,y:0};return e.indexOf("e")!==-1?a.x=-c:e.indexOf("w")!==-1&&(a.x=c),e.indexOf("s")!==-1?a.y=-c:e.indexOf("n")!==-1&&(a.y=c),a}},76795:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>p});var s=m(21537),E="djs-resizing",g="resize-not-ok",_=500;function p(o,c,i){function v(r){var t=r.shape,n=r.newBounds,e=r.frame;e||(e=r.frame=i.addFrame(t,c.getDefaultLayer()),c.addMarker(t,E)),n.width>5&&(0,s.Lj)(e,{x:n.x,width:n.width}),n.height>5&&(0,s.Lj)(e,{y:n.y,height:n.height}),r.canExecute?(0,s.Sh)(e).remove(g):(0,s.Sh)(e).add(g)}function u(r){var t=r.shape,n=r.frame;n&&(0,s.Od)(r.frame),c.removeMarker(t,E)}o.on("resize.move",_,function(r){v(r.context)}),o.on("resize.cleanup",function(r){u(r.context)})}p.$inject=["eventBus","canvas","previewSupport"]},29337:(rt,G,m)=>{"use strict";m.d(G,{QG:()=>t,gE:()=>T,oN:()=>n,zY:()=>i});var s=m(2299),E=m(64960),g=m(86463),_=Math.max,p=Math.min,o=20;function c(C,y){return{top:C.top-y.top,right:C.right-y.right,bottom:C.bottom-y.bottom,left:C.left-y.left}}function i(C,y,O){var A=O.x,D=O.y,I={x:C.x,y:C.y,width:C.width,height:C.height};return y.indexOf("n")!==-1?(I.y=C.y+D,I.height=C.height-D):y.indexOf("s")!==-1&&(I.height=C.height+D),y.indexOf("e")!==-1?I.width=C.width+A:y.indexOf("w")!==-1&&(I.x=C.x+A,I.width=C.width-A),I}function v(C,y){return{x:C.x+(y.left||0),y:C.y+(y.top||0),width:C.width-(y.left||0)+(y.right||0),height:C.height-(y.top||0)+(y.bottom||0)}}function u(C,y,O){var A=C.width/y.width,D=C.height/y.height;return{x:Math.round(y.x+y.width/2)-Math.floor((C.x+C.width/2-O.x)/A),y:Math.round(y.y+y.height/2)-Math.floor((C.y+C.height/2-O.y)/D)}}function r(C,y,O){var A=y[C],D=O.min&&O.min[C],I=O.max&&O.max[C];return(0,s.hj)(D)&&(A=(/top|left/.test(C)?p:_)(A,D)),(0,s.hj)(I)&&(A=(/top|left/.test(C)?_:p)(A,I)),A}function t(C,y){if(!y)return C;var O=(0,g.JA)(C);return(0,g.z_)({top:r("top",O,y),right:r("right",O,y),bottom:r("bottom",O,y),left:r("left",O,y)})}function n(C,y,O,A){var D=(0,g.JA)(y),I={top:/n/.test(C)?D.bottom-O.height:D.top,left:/w/.test(C)?D.right-O.width:D.left,bottom:/s/.test(C)?D.top+O.height:D.bottom,right:/e/.test(C)?D.left+O.width:D.right},U=A?(0,g.JA)(A):I,L={top:p(I.top,U.top),left:p(I.left,U.left),bottom:_(I.bottom,U.bottom),right:_(I.right,U.right)};return(0,g.z_)(L)}function e(C,y){return typeof C<"u"?C:o}function a(C,y){var O,A,D,I;return typeof y=="object"?(O=e(y.left),A=e(y.right),D=e(y.top),I=e(y.bottom)):O=A=D=I=e(y),{x:C.x-O,y:C.y-D,width:C.width+O+A,height:C.height+D+I}}function f(C){return!(C.waypoints||C.type==="label")}function T(C,y){var O;if(C.length===void 0?O=(0,s.hX)(C.children,f):O=C,O.length)return a((0,E.jY)(O),y)}},61788:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>_});var s=m(59879),E=m.n(s),g=m(91658);function _(p){g.Z.call(this,p),this.init()}_.$inject=["eventBus"],E()(_,g.Z),_.prototype.addRule=function(p,o,c){var i=this;typeof p=="string"&&(p=[p]),p.forEach(function(v){i.canExecute(v,o,function(u,r,t){return c(u)},!0)})},_.prototype.init=function(){}},67989:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>E});function s(g){this._commandStack=g.get("commandStack",!1)}s.$inject=["injector"],s.prototype.allowed=function(g,_){var p=!0,o=this._commandStack;return o&&(p=o.canExecute(g,_)),p===void 0?!0:p};const E={__init__:["rules"],rules:["type",s]}},42893:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>E});var s=m(2299);function E(g){this._eventBus=g,this._selectedElements=[];var _=this;g.on(["shape.remove","connection.remove"],function(p){var o=p.element;_.deselect(o)}),g.on(["diagram.clear"],function(p){_.select(null)})}E.$inject=["eventBus"],E.prototype.deselect=function(g){var _=this._selectedElements,p=_.indexOf(g);if(p!==-1){var o=_.slice();_.splice(p,1),this._eventBus.fire("selection.changed",{oldSelection:o,newSelection:_})}},E.prototype.get=function(){return this._selectedElements},E.prototype.isSelected=function(g){return this._selectedElements.indexOf(g)!==-1},E.prototype.select=function(g,_){var p=this._selectedElements,o=p.slice();(0,s.kJ)(g)||(g=g?[g]:[]),_?(0,s.Ed)(g,function(c){p.indexOf(c)===-1&&p.push(c)}):this._selectedElements=p=g.slice(),this._eventBus.fire("selection.changed",{oldSelection:o,newSelection:p})}},42226:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>r});var s=m(85637),E=m(4828),g=m(42893),_=m(2299),p="hover",o="selected";function c(t,n,e,a){this._multiSelectionBox=null;function f(C,y){n.addMarker(C,y)}function T(C,y){n.removeMarker(C,y)}t.on("element.hover",function(C){f(C.element,p)}),t.on("element.out",function(C){T(C.element,p)}),t.on("selection.changed",function(C){function y(I){T(I,o)}function O(I){f(I,o)}var A=C.oldSelection,D=C.newSelection;(0,_.Ed)(A,function(I){D.indexOf(I)===-1&&y(I)}),(0,_.Ed)(D,function(I){A.indexOf(I)===-1&&O(I)})})}c.$inject=["eventBus","canvas","selection","styles"];var i=m(98827);function v(t,n,e,a){t.on("create.end",500,function(f){var T=f.context,C=T.canExecute,y=T.elements,O=T.hints||{},A=O.autoSelect;if(C){if(A===!1)return;(0,_.kJ)(A)?n.select(A):n.select(y.filter(u))}}),t.on("connect.end",500,function(f){f.context.canExecute&&f.context.connection&&n.select(f.context.connection)}),t.on("shape.move.end",500,function(f){var T=f.previousSelection||[],C=a.get(f.context.shape.id),y=(0,_.sE)(T,function(O){return C.id===O.id});y||n.select(C)}),t.on("element.click",function(f){var T=f.element;T===e.getRootElement()&&(T=null);var C=n.isSelected(T),y=n.get().length>1,O=(0,i.RJ)(f);if(C&&y)return O?n.deselect(T):n.select(T);C||n.select(T,O)})}v.$inject=["eventBus","selection","canvas","elementRegistry"];function u(t){return!t.hidden}const r={__init__:["selectionVisuals","selectionBehavior"],__depends__:[s.Z,E.Z],selection:["type",g.Z],selectionVisuals:["type",c],selectionBehavior:["type",v]}},44610:(rt,G,m)=>{"use strict";m.d(G,{By:()=>g,G:()=>r,Pi:()=>i,U:()=>u,Wn:()=>v,hT:()=>c,w3:()=>_});var s=Math.abs,E=Math.round;function g(t,n,e){e=e===void 0?10:e;var a,f;for(a=0;a<n.length;a++)if(f=n[a],s(f-t)<=e)return f}function _(t){return{x:t.x,y:t.y}}function p(t){return{x:t.x+t.width,y:t.y}}function o(t){return{x:t.x,y:t.y+t.height}}function c(t){return{x:t.x+t.width,y:t.y+t.height}}function i(t,n){return!t||isNaN(t.x)||isNaN(t.y)?n:{x:E(t.x+t.width/2),y:E(t.y+t.height/2)}}function v(t,n){var e=t.snapped;return e?typeof n=="string"?e[n]:e.x&&e.y:!1}function u(t,n,e){if(typeof n!="string")throw new Error("axis must be in [x, y]");if(typeof e!="number"&&e!==!1)throw new Error("value must be Number or false");var a,f=t[n],T=t.snapped=t.snapped||{};return e===!1?T[n]=!1:(T[n]=!0,a=e-f,t[n]+=a,t["d"+n]+=a),f}function r(t){return t.children||[]}},28605:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>o});var s=m(2299),E=m(44610),g=m(21537),_=7,p=1e3;function o(c){this._canvas=c,this._asyncHide=(0,s.Ds)((0,s.ak)(this.hide,this),p)}o.$inject=["canvas"],o.prototype.snap=function(c,i){var v=c.context,u=v.snapContext,r=u.getSnapLocations(),t={x:(0,E.Wn)(c,"x"),y:(0,E.Wn)(c,"y")};(0,s.Ed)(r,function(n){var e=u.getSnapOrigin(n),a={x:c.x+e.x,y:c.y+e.y};if((0,s.Ed)(["x","y"],function(f){var T;t[f]||(T=i.snap(a,n,f,_),T!==void 0&&(t[f]={value:T,originValue:T-e[f]}))}),t.x&&t.y)return!1}),this.showSnapLine("vertical",t.x&&t.x.value),this.showSnapLine("horizontal",t.y&&t.y.value),(0,s.Ed)(["x","y"],function(n){var e=t[n];(0,s.Kn)(e)&&(0,E.U)(c,n,e.originValue)})},o.prototype._createLine=function(c){var i=this._canvas.getLayer("snap"),v=(0,g.Ue)("path");return(0,g.Lj)(v,{d:"M0,0 L0,0"}),(0,g.Sh)(v).add("djs-snap-line"),(0,g.R3)(i,v),{update:function(u){(0,s.hj)(u)?c==="horizontal"?(0,g.Lj)(v,{d:"M-100000,"+u+" L+100000,"+u,display:""}):(0,g.Lj)(v,{d:"M "+u+",-100000 L "+u+", +100000",display:""}):(0,g.Lj)(v,{display:"none"})}}},o.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine("horizontal"),vertical:this._createLine("vertical")}},o.prototype.showSnapLine=function(c,i){var v=this.getSnapLine(c);v&&v.update(i),this._asyncHide()},o.prototype.getSnapLine=function(c){return this._snapLines||this._createSnapLines(),this._snapLines[c]},o.prototype.hide=function(){(0,s.Ed)(this._snapLines,function(c){c.update()})}},16860:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>D});var s=m(2299),E=m(44610);function g(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}g.prototype.getSnapOrigin=function(I){return this._snapOrigins[I]},g.prototype.setSnapOrigin=function(I,U){this._snapOrigins[I]=U,this._snapLocations.indexOf(I)===-1&&this._snapLocations.push(I)},g.prototype.addDefaultSnap=function(I,U){var L=this._defaultSnaps[I];L||(L=this._defaultSnaps[I]=[]),L.push(U)},g.prototype.getSnapLocations=function(){return this._snapLocations},g.prototype.setSnapLocations=function(I){this._snapLocations=I},g.prototype.pointsForTarget=function(I){var U=I.id||I,L=this._targets[U];return L||(L=this._targets[U]=new _,L.initDefaults(this._defaultSnaps)),L};function _(I){this._snapValues={}}_.prototype.add=function(I,U){var L=this._snapValues[I];L||(L=this._snapValues[I]={x:[],y:[]}),L.x.indexOf(U.x)===-1&&L.x.push(U.x),L.y.indexOf(U.y)===-1&&L.y.push(U.y)},_.prototype.snap=function(I,U,L,N){var Y=this._snapValues[U];return Y&&(0,E.By)(I[L],Y[L],N)},_.prototype.initDefaults=function(I){var U=this;(0,s.Ed)(I||{},function(L,N){(0,s.Ed)(L,function(Y){U.add(N,Y)})})};var p=m(28229),o=1250;function c(I,U,L){var N=this;this._elementRegistry=I,U.on(["create.start","shape.move.start"],function(Y){N.initSnap(Y)}),U.on(["create.move","create.end","shape.move.move","shape.move.end"],o,function(Y){var Q=Y.context,it=Q.shape,tt=Q.snapContext,$=Q.target;if(!(Y.originalEvent&&(0,p.JS)(Y.originalEvent))&&!((0,E.Wn)(Y)||!$)){var W=tt.pointsForTarget($);W.initialized||(W=N.addSnapTargetPoints(W,it,$),W.initialized=!0),L.snap(Y,W)}}),U.on(["create.cleanup","shape.move.cleanup"],function(){L.hide()})}c.$inject=["elementRegistry","eventBus","snapping"],c.prototype.initSnap=function(I){var U=this._elementRegistry,L=I.context,N=L.shape,Y=L.snapContext;Y||(Y=L.snapContext=new g);var Q;U.get(N.id)?Q=(0,E.Pi)(N,I):Q={x:I.x+(0,E.Pi)(N).x,y:I.y+(0,E.Pi)(N).y};var it={x:Q.x-N.width/2,y:Q.y-N.height/2},tt={x:Q.x+N.width/2,y:Q.y+N.height/2};return Y.setSnapOrigin("mid",{x:Q.x-I.x,y:Q.y-I.y}),u(N)||(Y.setSnapOrigin("top-left",{x:it.x-I.x,y:it.y-I.y}),Y.setSnapOrigin("bottom-right",{x:tt.x-I.x,y:tt.y-I.y})),Y},c.prototype.addSnapTargetPoints=function(I,U,L){var N=this.getSnapTargets(U,L);return(0,s.Ed)(N,function(Y){if(u(Y)){u(U)&&I.add("mid",(0,E.Pi)(Y));return}if(i(Y)){if(Y.waypoints.length<3)return;var Q=Y.waypoints.slice(1,-1);(0,s.Ed)(Q,function(it){I.add("mid",it)});return}I.add("mid",(0,E.Pi)(Y))}),!(0,s.hj)(U.x)||!(0,s.hj)(U.y)||this._elementRegistry.get(U.id)&&I.add("mid",(0,E.Pi)(U)),I},c.prototype.getSnapTargets=function(I,U){return(0,E.G)(U).filter(function(L){return!v(L)})};function i(I){return!!I.waypoints}function v(I){return!!I.hidden}function u(I){return!!I.labelTarget}var r=m(86463),t=1250;function n(I,U){var L=this;I.on(["resize.start"],function(N){L.initSnap(N)}),I.on(["resize.move","resize.end"],t,function(N){var Y=N.context,Q=Y.shape,it=Q.parent,tt=Y.direction,$=Y.snapContext;if(!(N.originalEvent&&(0,p.JS)(N.originalEvent))&&!(0,E.Wn)(N)){var W=$.pointsForTarget(it);W.initialized||(W=L.addSnapTargetPoints(W,Q,it,tt),W.initialized=!0),y(tt)&&(0,E.U)(N,"x",N.x),O(tt)&&(0,E.U)(N,"y",N.y),U.snap(N,W)}}),I.on(["resize.cleanup"],function(){U.hide()})}n.prototype.initSnap=function(I){var U=I.context,L=U.shape,N=U.direction,Y=U.snapContext;Y||(Y=U.snapContext=new g);var Q=e(L,N);return Y.setSnapOrigin("corner",{x:Q.x-I.x,y:Q.y-I.y}),Y},n.prototype.addSnapTargetPoints=function(I,U,L,N){var Y=this.getSnapTargets(U,L);return(0,s.Ed)(Y,function(Q){I.add("corner",(0,E.hT)(Q)),I.add("corner",(0,E.w3)(Q))}),I.add("corner",e(U,N)),I},n.$inject=["eventBus","snapping"],n.prototype.getSnapTargets=function(I,U){return(0,E.G)(U).filter(function(L){return!a(L,I)&&!f(L)&&!T(L)&&!C(L)})};function e(I,U){var L=(0,r.wS)(I),N=(0,r.JA)(I),Y={x:L.x,y:L.y};return U.indexOf("n")!==-1?Y.y=N.top:U.indexOf("s")!==-1&&(Y.y=N.bottom),U.indexOf("e")!==-1?Y.x=N.right:U.indexOf("w")!==-1&&(Y.x=N.left),Y}function a(I,U){return I.host===U}function f(I){return!!I.waypoints}function T(I){return!!I.hidden}function C(I){return!!I.labelTarget}function y(I){return I==="n"||I==="s"}function O(I){return I==="e"||I==="w"}var A=m(28605);const D={__init__:["createMoveSnapping","resizeSnapping","snapping"],createMoveSnapping:["type",c],resizeSnapping:["type",n],snapping:["type",A.Z]}},19304:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>a});var s=m(2299),E=m(86463),g=m(64960),_=m(26737),p=m(98827),o=m(63253),c=Math.abs,i=Math.round,v={x:"width",y:"height"},u="crosshair",r={n:"top",w:"left",s:"bottom",e:"right"},t=1500,n={n:"s",w:"e",s:"n",e:"w"},e=20;function a(D,I,U,L,N,Y){this._canvas=D,this._dragging=I,this._eventBus=U,this._modeling=L,this._rules=N,this._toolManager=Y;var Q=this;Y.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),U.on("spaceTool.selection.end",function(it){U.once("spaceTool.selection.ended",function(){Q.activateMakeSpace(it.originalEvent)})}),U.on("spaceTool.move",t,function(it){var tt=it.context,$=tt.initialized;$||($=tt.initialized=Q.init(it,tt)),$&&T(it)}),U.on("spaceTool.end",function(it){var tt=it.context,$=tt.direction,W=tt.movingShapes,P=tt.resizingShapes,l=tt.start;if(!!tt.initialized){T(it);var x=Q.getDelta(it);Q.makeSpace(W,P,x,$,l),U.once("spaceTool.ended",function(h){Q.activateSelection(h.originalEvent,!0,!0)})}})}a.$inject=["canvas","dragging","eventBus","modeling","rules","toolManager"],a.prototype.activateSelection=function(D,I,U){this._dragging.init(D,"spaceTool.selection",{autoActivate:I,cursor:u,data:{context:{reactivate:U}},trapClick:!1})},a.prototype.activateMakeSpace=function(D){this._dragging.init(D,"spaceTool",{autoActivate:!0,cursor:u,data:{context:{}}})},a.prototype.makeSpace=function(D,I,U,L,N){return this._modeling.createSpace(D,I,U,L,N)},a.prototype.init=function(D,I){var U=c(D.dx)>c(D.dy)?"x":"y",L=D["d"+U],N=D[U]-L;if(c(L)<5)return!1;L<0&&(L*=-1),(0,p.RJ)(D)&&(L*=-1);var Y=(0,_.Mg)(U,L),Q=this._canvas.getRootElement(),it=(0,g.PB)(Q,!0),tt=this.calculateAdjustments(it,U,L,N),$=this._eventBus.fire("spaceTool.getMinDimensions",{shapes:tt.resizingShapes}),W=C(tt,U,Y,N,$);return(0,s.f0)(I,tt,{axis:U,direction:Y,spaceToolConstraints:W,start:N}),(0,o.t8)("resize-"+(U==="x"?"ew":"ns")),!0},a.prototype.calculateAdjustments=function(D,I,U,L){var N=this._rules,Y=[],Q=[];return(0,s.Ed)(D,function(it){if(!(!it.parent||O(it))){var tt=it[I],$=tt+it[v[I]];if(U>0&&tt>L||U<0&&$<L)return Y.push(it);if(tt<L&&$>L&&N.allowed("shape.resize",{shape:it}))return Q.push(it)}}),{movingShapes:Y,resizingShapes:Q}},a.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateSelection()},a.prototype.isActive=function(){var D=this._dragging.context();return D&&/^spaceTool/.test(D.prefix)},a.prototype.getDelta=function(D){var I=D.context,U=I.axis,L={x:0,y:0};return L[U]=i(D["d"+U]),L};function f(D){return{top:D.top-e,right:D.right+e,bottom:D.bottom+e,left:D.left-e}}function T(D){var I=D.context,U=I.spaceToolConstraints;if(!!U){var L,N;(0,s.hj)(U.left)&&(L=Math.max(D.x,U.left),D.dx=D.dx+L-D.x,D.x=L),(0,s.hj)(U.right)&&(L=Math.min(D.x,U.right),D.dx=D.dx+L-D.x,D.x=L),(0,s.hj)(U.top)&&(N=Math.max(D.y,U.top),D.dy=D.dy+N-D.y,D.y=N),(0,s.hj)(U.bottom)&&(N=Math.min(D.y,U.bottom),D.dy=D.dy+N-D.y,D.y=N)}}function C(D,I,U,L,N){var Y=D.movingShapes,Q=D.resizingShapes;if(!!Q.length){var it={},tt,$;return(0,s.Ed)(Q,function(W){var P=(0,E.JA)(W),l=(0,s.hX)(W.children,function(j){return!O(j)&&!A(j)&&!y(Y,j)&&!y(Q,j)}),x=(0,s.hX)(W.children,function(j){return!O(j)&&!A(j)&&y(Y,j)}),h,d,S;l.length&&(d=f((0,E.JA)((0,g.jY)(l))),h=L-P[r[U]]+d[r[U]],U==="n"?it.bottom=$=(0,s.hj)($)?Math.min($,h):h:U==="w"?it.right=$=(0,s.hj)($)?Math.min($,h):h:U==="s"?it.top=tt=(0,s.hj)(tt)?Math.max(tt,h):h:U==="e"&&(it.left=tt=(0,s.hj)(tt)?Math.max(tt,h):h)),x.length&&(S=f((0,E.JA)((0,g.jY)(x))),h=L-S[r[n[U]]]+P[r[n[U]]],U==="n"?it.bottom=$=(0,s.hj)($)?Math.min($,h):h:U==="w"?it.right=$=(0,s.hj)($)?Math.min($,h):h:U==="s"?it.top=tt=(0,s.hj)(tt)?Math.max(tt,h):h:U==="e"&&(it.left=tt=(0,s.hj)(tt)?Math.max(tt,h):h));var M=N&&N[W.id];M&&(U==="n"?(h=L+W[v[I]]-M[v[I]],it.bottom=$=(0,s.hj)($)?Math.min($,h):h):U==="w"?(h=L+W[v[I]]-M[v[I]],it.right=$=(0,s.hj)($)?Math.min($,h):h):U==="s"?(h=L-W[v[I]]+M[v[I]],it.top=tt=(0,s.hj)(tt)?Math.max(tt,h):h):U==="e"&&(h=L-W[v[I]]+M[v[I]],it.left=tt=(0,s.hj)(tt)?Math.max(tt,h):h))}),it}}function y(D,I){return D.indexOf(I)!==-1}function O(D){return!!D.waypoints}function A(D){return!!D.labelTarget}},98080:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>i});var s=m(2299),E=m(21537),g=m(18872),_="djs-dragging",p="djs-resizing",o=250,c=Math.max;function i(u,r,t,n,e){var a=this;function f(T,C){(0,s.Ed)(T,function(y){e.addDragger(y,C),t.addMarker(y,_)})}u.on("spaceTool.selection.start",function(T){var C=t.getLayer("space"),y=T.context,O={x:"M 0,-10000 L 0,10000",y:"M -10000,0 L 10000,0"},A=(0,E.Ue)("g");(0,E.Lj)(A,n.cls("djs-crosshair-group",["no-events"])),(0,E.R3)(C,A);var D=(0,E.Ue)("path");(0,E.Lj)(D,"d",O.x),(0,E.Sh)(D).add("djs-crosshair"),(0,E.R3)(A,D);var I=(0,E.Ue)("path");(0,E.Lj)(I,"d",O.y),(0,E.Sh)(I).add("djs-crosshair"),(0,E.R3)(A,I),y.crosshairGroup=A}),u.on("spaceTool.selection.move",function(T){var C=T.context.crosshairGroup;(0,g.Iu)(C,T.x,T.y)}),u.on("spaceTool.selection.cleanup",function(T){var C=T.context,y=C.crosshairGroup;y&&(0,E.Od)(y)}),u.on("spaceTool.move",o,function(T){var C=T.context,y=C.line,O=C.axis,A=C.movingShapes,D=C.resizingShapes;if(!!C.initialized){if(!C.dragGroup){var I=t.getLayer("space");y=(0,E.Ue)("path"),(0,E.Lj)(y,"d","M0,0 L0,0"),(0,E.Sh)(y).add("djs-crosshair"),(0,E.R3)(I,y),C.line=y;var U=(0,E.Ue)("g");(0,E.Lj)(U,n.cls("djs-drag-group",["no-events"])),(0,E.R3)(t.getDefaultLayer(),U),f(A,U);var L=C.movingConnections=r.filter(function(tt){var $=!1;(0,s.Ed)(A,function(x){(0,s.Ed)(x.outgoing,function(h){tt===h&&($=!0)})});var W=!1;(0,s.Ed)(A,function(x){(0,s.Ed)(x.incoming,function(h){tt===h&&(W=!0)})});var P=!1;(0,s.Ed)(D,function(x){(0,s.Ed)(x.outgoing,function(h){tt===h&&(P=!0)})});var l=!1;return(0,s.Ed)(D,function(x){(0,s.Ed)(x.incoming,function(h){tt===h&&(l=!0)})}),v(tt)&&($||P)&&(W||l)});f(L,U),C.dragGroup=U}if(!C.frameGroup){var N=(0,E.Ue)("g");(0,E.Lj)(N,n.cls("djs-frame-group",["no-events"])),(0,E.R3)(t.getDefaultLayer(),N);var Y=[];(0,s.Ed)(D,function(tt){var $=e.addFrame(tt,N),W=$.getBBox();Y.push({element:$,initialBounds:W}),t.addMarker(tt,p)}),C.frameGroup=N,C.frames=Y}var Q={x:"M"+T.x+", -10000 L"+T.x+", 10000",y:"M -10000, "+T.y+" L 10000, "+T.y};(0,E.Lj)(y,{d:Q[O]});var it=a.getDelta(T);(0,g.Iu)(C.dragGroup,it.x,it.y),(0,s.Ed)(C.frames,function(tt){var $=tt.element,W=tt.initialBounds,P,l;C.direction==="e"?(0,E.Lj)($,{width:c(W.width+it.x,5)}):(P=c(W.width-it.x,5),(0,E.Lj)($,{width:P,x:W.x+W.width-P})),C.direction==="s"?(0,E.Lj)($,{height:c(W.height+it.y,5)}):(l=c(W.height-it.y,5),(0,E.Lj)($,{height:l,y:W.y+W.height-l}))})}}),u.on("spaceTool.cleanup",function(T){var C=T.context,y=C.movingShapes,O=C.movingConnections,A=C.resizingShapes,D=C.line,I=C.dragGroup,U=C.frameGroup;(0,s.Ed)(y,function(L){t.removeMarker(L,_)}),(0,s.Ed)(O,function(L){t.removeMarker(L,_)}),I&&((0,E.Od)(D),(0,E.Od)(I)),(0,s.Ed)(A,function(L){t.removeMarker(L,p)}),U&&(0,E.Od)(U)})}i.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];function v(u){return u.waypoints}i.prototype.getDelta=function(u){var r=u.context,t={x:"y",y:"x"},n={x:u.dx,y:u.dy};return n[t[r.axis]]=0,n}},26737:(rt,G,m)=>{"use strict";m.d(G,{Mg:()=>E,wb:()=>g,zY:()=>p});var s=m(2299);function E(o,c){if(o==="x"){if(c>0)return"e";if(c<0)return"w"}if(o==="y"){if(c>0)return"s";if(c<0)return"n"}return null}function g(o,c){var i=[];return(0,s.Ed)(o,function(v){var u=v.incoming,r=v.outgoing;(0,s.Ed)(u.concat(r),function(t){var n=t.source,e=t.target;(_(o,n)||_(o,e)||_(c,n)||_(c,e))&&(_(i,t)||i.push(t))})}),i}function _(o,c){return o.indexOf(c)!==-1}function p(o,c,i){var v=o.x,u=o.y,r=o.width,t=o.height,n=i.x,e=i.y;switch(c){case"n":return{x:v,y:u+e,width:r,height:t-e};case"s":return{x:v,y:u,width:r,height:t+e};case"w":return{x:v+n,y:u,width:r-n,height:t};case"e":return{x:v,y:u,width:r+n,height:t};default:throw new Error("unknown direction: "+c)}}},83208:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>r});var s=m(2299),E=m(9012),g=m(50296),_=new g.Z("tt");function p(t){var n=(0,E.H6)('<div class="djs-tooltip-container" style="position: absolute; width: 0; height: 0;" />');return t.insertBefore(n,t.firstChild),n}function o(t,n,e){(0,s.f0)(t.style,{left:n+"px",top:e+"px"})}function c(t,n){t.style.display=n===!1?"none":""}var i="djs-tooltip",v="."+i;function u(t,n){this._eventBus=t,this._canvas=n,this._ids=_,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=p(n.getContainer());var e=this;E.cl.bind(this._tooltipRoot,v,"mousedown",function(a){a.stopPropagation()}),E.cl.bind(this._tooltipRoot,v,"mouseover",function(a){e.trigger("mouseover",a)}),E.cl.bind(this._tooltipRoot,v,"mouseout",function(a){e.trigger("mouseout",a)}),this._init()}u.$inject=["eventBus","canvas"],u.prototype.add=function(t){if(!t.position)throw new Error("must specifiy tooltip position");if(!t.html)throw new Error("must specifiy tooltip html");var n=this._ids.next();return t=(0,s.f0)({},this._tooltipDefaults,t,{id:n}),this._addTooltip(t),t.timeout&&this.setTimeout(t),n},u.prototype.trigger=function(t,n){var e=n.delegateTarget||n.target,a=this.get((0,E.Lj)(e,"data-tooltip-id"));!a||(t==="mouseover"&&a.timeout&&this.clearTimeout(a),t==="mouseout"&&a.timeout&&(a.timeout=1e3,this.setTimeout(a)))},u.prototype.get=function(t){return typeof t!="string"&&(t=t.id),this._tooltips[t]},u.prototype.clearTimeout=function(t){if(t=this.get(t),!!t){var n=t.removeTimer;n&&(clearTimeout(n),t.removeTimer=null)}},u.prototype.setTimeout=function(t){if(t=this.get(t),!!t){this.clearTimeout(t);var n=this;t.removeTimer=setTimeout(function(){n.remove(t)},t.timeout)}},u.prototype.remove=function(t){var n=this.get(t);n&&((0,E.Od)(n.html),(0,E.Od)(n.htmlContainer),delete n.htmlContainer,delete this._tooltips[n.id])},u.prototype.show=function(){c(this._tooltipRoot)},u.prototype.hide=function(){c(this._tooltipRoot,!1)},u.prototype._updateRoot=function(t){var n=t.scale||1,e=t.scale||1,a="matrix("+n+",0,0,"+e+","+-1*t.x*n+","+-1*t.y*e+")";this._tooltipRoot.style.transform=a,this._tooltipRoot.style["-ms-transform"]=a},u.prototype._addTooltip=function(t){var n=t.id,e=t.html,a,f=this._tooltipRoot;e.get&&e.constructor.prototype.jquery&&(e=e.get(0)),(0,s.HD)(e)&&(e=(0,E.H6)(e)),a=(0,E.H6)('<div data-tooltip-id="'+n+'" class="'+i+'" style="position: absolute">'),a.appendChild(e),t.type&&(0,E.Sh)(a).add("djs-tooltip-"+t.type),t.className&&(0,E.Sh)(a).add(t.className),t.htmlContainer=a,f.appendChild(a),this._tooltips[n]=t,this._updateTooltip(t)},u.prototype._updateTooltip=function(t){var n=t.position,e=t.htmlContainer;o(e,n.x,n.y)},u.prototype._updateTooltipVisibilty=function(t){(0,s.Ed)(this._tooltips,function(n){var e=n.show,a=n.htmlContainer,f=!0;e&&((e.minZoom>t.scale||e.maxZoom<t.scale)&&(f=!1),c(a,f))})},u.prototype._init=function(){var t=this;function n(e){t._updateRoot(e),t._updateTooltipVisibilty(e),t.show()}this._eventBus.on("canvas.viewbox.changing",function(e){t.hide()}),this._eventBus.on("canvas.viewbox.changed",function(e){n(e.viewbox)})};const r={__init__:["tooltips"],tooltips:["type",u]}},279:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>E});var s=m(86463);function E(){}E.prototype.layoutConnection=function(g,_){return _=_||{},[_.connectionStart||(0,s.wS)(_.source||g.source),_.connectionEnd||(0,s.wS)(_.target||g.target)]}},70734:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>_});var s=m(2299),E=m(86463);function g(p){return(0,s.f0)({original:p.point.original||p.point},p.actual)}function _(p,o){this._elementRegistry=p,this._graphicsFactory=o}_.$inject=["elementRegistry","graphicsFactory"],_.prototype.getCroppedWaypoints=function(p,o,c){o=o||p.source,c=c||p.target;var i=this.getDockingPoint(p,o,!0),v=this.getDockingPoint(p,c),u=p.waypoints.slice(i.idx+1,v.idx);return u.unshift(g(i)),u.push(g(v)),u},_.prototype.getDockingPoint=function(p,o,c){var i=p.waypoints,v,u,r;return v=c?0:i.length-1,u=i[v],r=this._getIntersection(o,p,c),{point:u,actual:r||u,idx:v}},_.prototype._getIntersection=function(p,o,c){var i=this._getShapePath(p),v=this._getConnectionPath(o);return(0,E.Hz)(i,v,c)},_.prototype._getConnectionPath=function(p){return this._graphicsFactory.getConnectionPath(p)},_.prototype._getShapePath=function(p){return this._graphicsFactory.getShapePath(p)},_.prototype._getGfx=function(p){return this._elementRegistry.getGraphics(p)}},86463:(rt,G,m)=>{"use strict";m.d(G,{Hz:()=>r,JA:()=>c,Re:()=>n,T8:()=>u,aR:()=>p,ex:()=>o,wS:()=>v,z_:()=>i});var s=m(2299),E=m(41741),g=m(7502),_=m.n(g);function p(e){return{x:Math.round(e.x),y:Math.round(e.y),width:Math.round(e.width),height:Math.round(e.height)}}function o(e){return{x:Math.round(e.x),y:Math.round(e.y)}}function c(e){return{top:e.y,right:e.x+(e.width||0),bottom:e.y+(e.height||0),left:e.x}}function i(e){return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}}function v(e){return o({x:e.x+(e.width||0)/2,y:e.y+(e.height||0)/2})}function u(e,a,f){f=f||0,(0,s.Kn)(f)||(f={x:f,y:f});var T=c(e),C=c(a),y=T.bottom+f.y<=C.top,O=T.left-f.x>=C.right,A=T.top-f.y>=C.bottom,D=T.right+f.x<=C.left,I=y?"top":A?"bottom":null,U=D?"left":O?"right":null;return U&&I?I+"-"+U:U||I||"intersect"}function r(e,a,f){var T=t(e,a);return T.length===1||T.length===2&&(0,E.tW)(T[0],T[1])<1?o(T[0]):T.length>1?(T=(0,s.MR)(T,function(C){var y=Math.floor(C.t2*100)||1;return y=100-y,y=(y<10?"0":"")+y,C.segment2+"#"+y}),o(T[f?0:T.length-1])):null}function t(e,a){return _()(e,a)}function n(e){e=e.slice();for(var a=0,f,T,C;e[a];)f=e[a],T=e[a-1],C=e[a+1],(0,E.tW)(f,C)===0||(0,E.ZS)(T,C,f)?e.splice(a,1):a++;return e}},71709:(rt,G,m)=>{"use strict";m.d(G,{Fb:()=>W,I6:()=>y,ju:()=>O});var s=m(2299),E=m(86463),g=m(41741),_=20,p=5,o=Math.round,c=20,i={"h:h":20,"v:v":20,"h:v":-10,"v:h":-10};function v(P,l){return!{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/./,v:/./}[l].test(P)}function u(P,l){return{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/left|right/,v:/top|bottom/}[P].test(l)}function r(P,l,x){var h=(0,E.T8)(l,P,p),d=x.split(":")[0],S=o((l.x-P.x)/2+P.x),M=o((l.y-P.y)/2+P.y),j,B,F=u(d,h),V=/h|r|l/.test(d),X=!1,q=!1;return F?(j=V?{x:S,y:P.y}:{x:P.x,y:M},B=V?"h:h":"v:v"):(X=v(h,d),B=V?"h:v":"v:h",X?V?(q=M===P.y,j={x:P.x+_*(/l/.test(d)?-1:1),y:q?M+_:M}):(q=S===P.x,j={x:q?S+_:S,y:P.y+_*(/t/.test(d)?-1:1)}):j={x:S,y:M}),{waypoints:T(P,j,B).concat(j),directions:B,turnNextDirections:q}}function t(P,l,x){return r(P,l,x)}function n(P,l,x){var h=r(l,P,a(x));return{waypoints:h.waypoints.slice().reverse(),directions:a(h.directions),turnNextDirections:h.turnNextDirections}}function e(P,l){var x=P.directions.split(":")[1],h=l.directions.split(":")[0];P.turnNextDirections&&(x=x=="h"?"v":"h"),l.turnNextDirections&&(h=h=="h"?"v":"h");var d=x+":"+h,S=T(P.waypoints[P.waypoints.length-1],l.waypoints[0],d);return{waypoints:S,directions:d}}function a(P){return P.split(":").reverse().join(":")}function f(P,l,x){var h=o((l.x-P.x)/2+P.x),d=o((l.y-P.y)/2+P.y);if(x==="h:v")return[{x:l.x,y:P.y}];if(x==="v:h")return[{x:P.x,y:l.y}];if(x==="h:h")return[{x:h,y:P.y},{x:h,y:l.y}];if(x==="v:v")return[{x:P.x,y:d},{x:l.x,y:d}];throw new Error("invalid directions: can only handle varians of [hv]:[hv]")}function T(P,l,x){if(x=x||"h:h",!Q(x))throw new Error("unknown directions: <"+x+">: must be specified as <start>:<end> with start/end in { h,v,t,r,b,l }");if(it(x)){var h=t(P,l,x),d=n(P,l,x),S=e(h,d);return[].concat(h.waypoints,S.waypoints,d.waypoints)}return f(P,l,x)}function C(P,l,x){var h=T(P,l,x);return h.unshift(P),h.push(l),W(h)}function y(P,l,x,h,d){var S=d&&d.preferredLayouts||[],M=(0,s.zu)(S,"straight")[0]||"h:h",j=i[M]||0,B=(0,E.T8)(P,l,j),F=Y(B,M);x=x||(0,E.wS)(P),h=h||(0,E.wS)(l);var V=F.split(":"),X=$(x,P,V[0],tt(B)),q=$(h,l,V[1],B);return C(X,q,F)}function O(P,l,x,h,d,S){(0,s.kJ)(x)&&(d=x,S=h,x=(0,E.wS)(P),h=(0,E.wS)(l)),S=(0,s.f0)({preferredLayouts:[]},S),d=d||[];var M=S.preferredLayouts,j=M.indexOf("straight")!==-1,B;return B=j&&I(P,l,x,h,S),B||(B=S.connectionEnd&&L(l,P,h,d),B)||(B=S.connectionStart&&U(P,l,x,d),B)?B:!S.connectionStart&&!S.connectionEnd&&d&&d.length?d:y(P,l,x,h,S)}function A(P,l,x){return P>=l&&P<=x}function D(P,l,x){var h={x:"width",y:"height"};return A(l[P],x[P],x[P]+x[h[P]])}function I(P,l,x,h,d){var S={},M,j;return j=(0,E.T8)(P,l),/^(top|bottom|left|right)$/.test(j)?(/top|bottom/.test(j)&&(M="x"),/left|right/.test(j)&&(M="y"),d.preserveDocking==="target"?D(M,h,P)?(S[M]=h[M],[{x:S.x!==void 0?S.x:x.x,y:S.y!==void 0?S.y:x.y,original:{x:S.x!==void 0?S.x:x.x,y:S.y!==void 0?S.y:x.y}},{x:h.x,y:h.y}]):null:D(M,x,l)?(S[M]=x[M],[{x:x.x,y:x.y},{x:S.x!==void 0?S.x:h.x,y:S.y!==void 0?S.y:h.y,original:{x:S.x!==void 0?S.x:h.x,y:S.y!==void 0?S.y:h.y}}]):null):null}function U(P,l,x,h){return N(P,l,x,h)}function L(P,l,x,h){var d=h.slice().reverse();return d=N(P,l,x,d),d?d.reverse():null}function N(P,l,x,h){function d(V){return V.length<3?!0:V.length>4?!1:!!(0,s.sE)(V,function(X,q){var nt=V[q-1];return nt&&(0,g.tW)(X,nt)<3})}function S(V,X,q){var nt=(0,g.Or)(X,V);switch(nt){case"v":return{x:q.x,y:V.y};case"h":return{x:V.x,y:q.y}}return{x:V.x,y:V.y}}function M(V,X,q){var nt;for(nt=V.length-2;nt!==0;nt--)if((0,g.qr)(V[nt],X,c)||(0,g.qr)(V[nt],q,c))return V.slice(nt);return V}if(d(h))return null;var j=h[0],B=h.slice(),F;return B[0]=x,B[1]=S(B[1],j,x),F=M(B,P,l),F!==B&&(B=N(P,l,x,F)),B&&(0,g.Or)(B)?null:B}function Y(P,l){if(it(l))return l;switch(P){case"intersect":return"t:t";case"top":case"bottom":return"v:v";case"left":case"right":return"h:h";default:return l}}function Q(P){return P&&/^h|v|t|r|b|l:h|v|t|r|b|l$/.test(P)}function it(P){return P&&/t|r|b|l/.test(P)}function tt(P){return{top:"bottom",bottom:"top",left:"right",right:"left","top-left":"bottom-right","bottom-right":"top-left","top-right":"bottom-left","bottom-left":"top-right"}[P]}function $(P,l,x,h){if(x==="h"&&(x=/left/.test(h)?"l":"r"),x==="v"&&(x=/top/.test(h)?"t":"b"),x==="t")return{original:P,x:P.x,y:l.y};if(x==="r")return{original:P,x:l.x+l.width,y:P.y};if(x==="b")return{original:P,x:P.x,y:l.y+l.height};if(x==="l")return{original:P,x:l.x,y:P.y};throw new Error("unexpected dockingDirection: <"+x+">")}function W(P){return P.reduce(function(l,x,h){var d=l[l.length-1],S=P[h+1];return(0,g.ZS)(d,S,x,0)||l.push(x),l},[])}},83962:(rt,G,m)=>{"use strict";m.d(G,{Ue:()=>T,XY:()=>r,fC:()=>n});var s=m(2299),E=m(59879),g=m.n(E),_=m(19891),p=m.n(_),o=new(p())({name:"children",enumerable:!0,collection:!0},{name:"parent"}),c=new(p())({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),i=new(p())({name:"attachers",collection:!0},{name:"host"}),v=new(p())({name:"outgoing",collection:!0},{name:"source"}),u=new(p())({name:"incoming",collection:!0},{name:"target"});function r(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(C){var y=this.label,O=this.labels;!C&&y?O.remove(y):O.add(C,0)}}),o.bind(this,"parent"),c.bind(this,"labels"),v.bind(this,"outgoing"),u.bind(this,"incoming")}function t(){r.call(this),o.bind(this,"children"),i.bind(this,"host"),i.bind(this,"attachers")}g()(t,r);function n(){t.call(this)}g()(n,t);function e(){t.call(this),c.bind(this,"labelTarget")}g()(e,t);function a(){r.call(this),v.bind(this,"source"),u.bind(this,"target")}g()(a,r);var f={connection:a,shape:t,label:e,root:n};function T(C,y){var O=f[C];if(!O)throw new Error("unknown type: <"+C+">");return(0,s.f0)(new O,y)}},67859:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>v});var s=m(63253),E=m(19863),g=m(43273),_=m(9012),p=m(46534),o=15;function c(u,r){var t;u.on("element.mousedown",500,function(f){return a(f.originalEvent)});function n(f){var T=t.start,C=(0,p.jt)(f),y=(0,g.p)(C,T);if(!t.dragging&&i(y)>o&&(t.dragging=!0,(0,E.N)(u),(0,s.t8)("grab")),t.dragging){var O=t.last||t.start;y=(0,g.p)(C,O),r.scroll({dx:y.x,dy:y.y}),t.last=C}f.preventDefault()}function e(f){_.B.unbind(document,"mousemove",n),_.B.unbind(document,"mouseup",e),t=null,(0,s.zN)()}function a(f){if(!(0,_.oq)(f.target,".djs-draggable")&&!(f.button||f.ctrlKey||f.shiftKey||f.altKey))return t={start:(0,p.jt)(f)},_.B.bind(document,"mousemove",n),_.B.bind(document,"mouseup",e),!0}}c.$inject=["eventBus","canvas"];function i(u){return Math.sqrt(Math.pow(u.x,2)+Math.pow(u.y,2))}const v={__init__:["moveCanvas"],moveCanvas:["type",c]}},52232:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>C});var s=m(85637),E=m(2299),g=m(9012),_=m(11524),p=m.n(_),o=m(46534),c=.2,i=4,v=["mousedown","mouseup","mouseover","mouseout","click","dblclick"];function u(){}function r(y,O){return O.get(y,!1)}function t(y){y.preventDefault(),y.stopPropagation(),typeof y.stopImmediatePropagation=="function"&&y.stopImmediatePropagation()}function n(y){function O(Q){(0,E.Ed)(v,function(it){g.B.bind(y,it,t,!0)})}function A(Q){setTimeout(function(){(0,E.Ed)(v,function(it){g.B.unbind(y,it,t,!0)})},500)}g.B.bind(y,"touchstart",O,!0),g.B.bind(y,"touchend",A,!0),g.B.bind(y,"touchcancel",A,!0);var D=new(p()).Manager(y,{inputClass:p().TouchInput,recognizers:[]}),I=new(p()).Tap,U=new(p()).Pan({threshold:10}),L=new(p()).Press,N=new(p()).Pinch,Y=new(p()).Tap({event:"doubletap",taps:2});return N.requireFailure(U),N.requireFailure(L),D.add([U,L,N,Y,I]),D.reset=function(Q){var it=this.recognizers,tt=this.session;tt.stopped||(D.stop(Q),setTimeout(function(){var $,W;for($=0;W=it[$];$++)W.reset(),W.state=8;tt.curRecognizer=null},0))},D.on("hammer.input",function(Q){Q.srcEvent.defaultPrevented&&D.reset(!0)}),D}function e(y,O,A,D,I){var U=r("dragging",y),L=r("move",y),N=r("contextPad",y),Y=r("palette",y),Q;function it(W){return function(P){I.fire(W,P)}}function tt(W){var P=(0,g.oq)(W,"svg, .djs-element",!0);return P}function $(W){Q=n(W),Q.on("doubletap",it("element.dblclick")),Q.on("tap",it("element.click"));function P(h){var d=0,S=0;function M(B){var F=B.deltaX-d,V=B.deltaY-S;O.scroll({dx:F,dy:V}),d=B.deltaX,S=B.deltaY}function j(B){Q.off("panmove",M),Q.off("panend",j),Q.off("pancancel",j)}Q.on("panmove",M),Q.on("panend",j),Q.on("pancancel",j)}function l(h){var d=tt(h.target),S=d&&D.get(d);if(L&&O.getRootElement()!==S)return L.start(h,S,!0);P(h)}function x(h){var d=O.zoom(),S=h.center;function M(B){var F=1-(1-B.scale)/1.5,V=Math.max(c,Math.min(i,F*d));O.zoom(V,S),t(B)}function j(B){Q.off("pinchmove",M),Q.off("pinchend",j),Q.off("pinchcancel",j),Q.reset(!0)}Q.on("pinchmove",M),Q.on("pinchend",j),Q.on("pinchcancel",j)}Q.on("panstart",l),Q.on("press",l),Q.on("pinchstart",x)}U&&A.on("drag.move",function(W){var P=W.originalEvent;if(!(!P||P instanceof MouseEvent)){var l=(0,o.jt)(P),x=document.elementFromPoint(l.x,l.y),h=tt(x),d=h&&D.get(h);d!==W.hover&&(W.hover&&U.out(W),d&&(U.hover({element:d,gfx:h}),W.hover=d,W.hoverGfx=h))}}),N&&A.on("contextPad.create",function(W){var P=W.pad.html,l=n(P);l.on("panstart",function(x){N.trigger("dragstart",x,!0)}),l.on("press",function(x){N.trigger("dragstart",x,!0)}),l.on("tap",function(x){N.trigger("click",x)})}),Y&&A.on("palette.create",function(W){var P=W.container,l=n(P);l.on("panstart",function(x){Y.trigger("dragstart",x,!0)}),l.on("press",function(x){Y.trigger("dragstart",x,!0)}),l.on("tap",function(x){Y.trigger("click",x)})}),A.on("canvas.init",function(W){$(W.svg)})}e.$inject=["injector","canvas","eventBus","elementRegistry","interactionEvents","touchFix"];var a=m(21537);function f(y,O){var A=this;O.on("canvas.init",function(D){A.addBBoxMarker(D.svg)})}f.$inject=["canvas","eventBus"],f.prototype.addBBoxMarker=function(y){var O={fill:"none",class:"outer-bound-marker"},A=(0,a.Ue)("rect");(0,a.Lj)(A,{x:-1e4,y:1e4,width:10,height:10}),(0,a.Lj)(A,O),(0,a.R3)(y,A);var D=(0,a.Ue)("rect");(0,a.Lj)(D,{x:1e4,y:1e4,width:10,height:10}),(0,a.Lj)(D,O),(0,a.R3)(y,D)};const C={__depends__:[{__depends__:[s.Z],__init__:["touchInteractionEvents"],touchInteractionEvents:["type",e],touchFix:["type",f]}]}},89851:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>u});var s=m(9012),E=m(25128),g=m(26001),_=m(2299),p=Math.sign||function(r){return r>=0?1:-1},o={min:.2,max:4},c=10,i=.1,v=.75;function u(r,t,n){r=r||{},this._enabled=!1,this._canvas=n,this._container=n._container,this._handleWheel=(0,_.ak)(this._handleWheel,this),this._totalDelta=0,this._scale=r.scale||v;var e=this;t.on("canvas.init",function(a){e._init(r.enabled!==!1)})}u.$inject=["config.zoomScroll","eventBus","canvas"],u.prototype.scroll=function(t){this._canvas.scroll(t)},u.prototype.reset=function(){this._canvas.zoom("fit-viewport")},u.prototype.zoom=function(t,n){var e=(0,E.K)(o,c*2);this._totalDelta+=t,Math.abs(this._totalDelta)>i&&(this._zoom(t,n,e),this._totalDelta=0)},u.prototype._handleWheel=function(t){if(!(0,s.oq)(t.target,".djs-scrollable",!0)){var n=this._container;t.preventDefault();var e=t.ctrlKey,a=t.shiftKey,f=-1*this._scale,T;if(e?f*=t.deltaMode===0?.02:.32:f*=t.deltaMode===0?1:16,e){var C=n.getBoundingClientRect(),y={x:t.clientX-C.left,y:t.clientY-C.top};T=Math.sqrt(Math.pow(t.deltaY,2)+Math.pow(t.deltaX,2))*p(t.deltaY)*f,this.zoom(T,y)}else a?T={dx:f*t.deltaY,dy:0}:T={dx:f*t.deltaX,dy:f*t.deltaY},this.scroll(T)}},u.prototype.stepZoom=function(t,n){var e=(0,E.K)(o,c);this._zoom(t,n,e)},u.prototype._zoom=function(r,t,n){var e=this._canvas,a=r>0?1:-1,f=(0,g.m)(e.zoom()),T=Math.round(f/n)*n;T+=n*a;var C=Math.pow(10,T);e.zoom((0,E.T)(o,C),t)},u.prototype.toggle=function(t){var n=this._container,e=this._handleWheel,a=this._enabled;return typeof t>"u"&&(t=!a),a!==t&&s.B[t?"bind":"unbind"](n,"wheel",e,!1),this._enabled=t,t},u.prototype._init=function(r){this.toggle(r)}},25128:(rt,G,m)=>{"use strict";m.d(G,{K:()=>E,T:()=>g});var s=m(26001);function E(_,p){var o=(0,s.m)(_.min),c=(0,s.m)(_.max),i=Math.abs(o)+Math.abs(c);return i/p}function g(_,p){return Math.max(_.min,Math.min(_.max,p))}},5206:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>E});var s=m(89851);const E={__init__:["zoomScroll"],zoomScroll:["type",s.Z]}},19863:(rt,G,m)=>{"use strict";m.d(G,{N:()=>E});var s=5e3;function E(g,_){_=_||"element.click";function p(){return!1}return g.once(_,s,p),function(){g.off(_,p)}}},91499:(rt,G,m)=>{"use strict";m.d(G,{IH:()=>E,Od:()=>s,cq:()=>g});function s(_,p){if(!_||!p)return-1;var o=_.indexOf(p);return o!==-1&&_.splice(o,1),o}function E(_,p,o){if(!(!_||!p)){typeof o!="number"&&(o=-1);var c=_.indexOf(p);if(c!==-1){if(c===o)return;if(o!==-1)_.splice(c,1);else return}o!==-1?_.splice(o,0,p):_.push(p)}}function g(_,p){return!_||!p?-1:_.indexOf(p)}},63253:(rt,G,m)=>{"use strict";m.d(G,{t8:()=>g,zN:()=>_});var s=m(9012),E=/^djs-cursor-.*$/;function g(o){var c=(0,s.Sh)(document.body);c.removeMatching(E),o&&c.add("djs-cursor-"+o)}function _(){g(null)}function p(o){var c=domClasses(document.body);return c.has("djs-cursor-"+o)}},64960:(rt,G,m)=>{"use strict";m.d(G,{He:()=>n,PB:()=>i,RH:()=>r,cd:()=>E,jY:()=>u,oL:()=>t,om:()=>p,vA:()=>v});var s=m(2299);function E(a){return(0,s.hX)(a,function(f){return!(0,s.sE)(a,function(T){return T!==f&&g(f,T)})})}function g(a,f){if(!!f){if(a===f)return f;if(!!a.parent)return g(a.parent,f)}}function _(a,f,T){var C=!T||a.indexOf(f)===-1;return C&&a.push(f),C}function p(a,f,T){T=T||0,(0,s.kJ)(a)||(a=[a]),(0,s.Ed)(a,function(C,y){var O=f(C,y,T);(0,s.kJ)(O)&&O.length&&p(O,f,T+1)})}function o(a,f,T){var C=[],y=[];return p(a,function(O,A,D){_(C,O,f);var I=O.children;if((T===-1||D<T)&&I&&_(y,I,f))return I}),C}function c(a,f){return o(a,!f,1)}function i(a,f){return o(a,!f,-1)}function v(a,f,T){(0,s.o8)(f)&&(f=!0),(0,s.Kn)(f)&&(T=f,f=!0),T=T||{};var C=e(T.allShapes),y=e(T.allConnections),O=e(T.enclosedElements),A=e(T.enclosedConnections),D=e(T.topLevel,f&&(0,s.vM)(a,function(L){return L.id}));function I(L){D[L.source.id]&&D[L.target.id]&&(D[L.id]=[L]),C[L.source.id]&&C[L.target.id]&&(A[L.id]=O[L.id]=L),y[L.id]=L}function U(L){if(O[L.id]=L,L.waypoints)A[L.id]=y[L.id]=L;else return C[L.id]=L,(0,s.Ed)(L.incoming,I),(0,s.Ed)(L.outgoing,I),L.children}return p(a,U),{allShapes:C,allConnections:y,topLevel:D,enclosedConnections:A,enclosedElements:O}}function u(a,f){f=!!f,(0,s.kJ)(a)||(a=[a]);var T,C,y,O;return(0,s.Ed)(a,function(A){var D=A;A.waypoints&&!f&&(D=u(A.waypoints,!0));var I=D.x,U=D.y,L=D.height||0,N=D.width||0;(I<T||T===void 0)&&(T=I),(U<C||C===void 0)&&(C=U),(I+N>y||y===void 0)&&(y=I+N),(U+L>O||O===void 0)&&(O=U+L)}),{x:T,y:C,height:O-C,width:y-T}}function r(a,f){var T={};return(0,s.Ed)(a,function(C){var y=C;y.waypoints&&(y=u(y)),!(0,s.hj)(f.y)&&y.x>f.x&&(T[C.id]=C),!(0,s.hj)(f.x)&&y.y>f.y&&(T[C.id]=C),y.x>f.x&&y.y>f.y&&((0,s.hj)(f.width)&&(0,s.hj)(f.height)&&y.width+y.x<f.width+f.x&&y.height+y.y<f.height+f.y||!(0,s.hj)(f.width)||!(0,s.hj)(f.height))&&(T[C.id]=C)}),T}function t(a){return"waypoints"in a?"connection":"x"in a?"shape":"root"}function n(a){return!!(a&&a.isFrame)}function e(a,f){return(0,s.f0)({},a||{},f||{})}},46534:(rt,G,m)=>{"use strict";m.d(G,{Ku:()=>E,UW:()=>g,jt:()=>_});function s(p){!p||typeof p.stopPropagation!="function"||p.stopPropagation()}function E(p){return p.originalEvent||p.srcEvent}function g(p,o){s(p,o),s(E(p),o)}function _(p){return p.pointers&&p.pointers.length&&(p=p.pointers[0]),p.touches&&p.touches.length&&(p=p.touches[0]),p?{x:p.clientX,y:p.clientY}:null}},41741:(rt,G,m)=>{"use strict";m.d(G,{Or:()=>p,SO:()=>v,ZS:()=>g,qr:()=>i,tW:()=>E});var s=m(2299);function E(u,r){return!u||!r?-1:Math.sqrt(Math.pow(u.x-r.x,2)+Math.pow(u.y-r.y,2))}function g(u,r,t,n){if(typeof n>"u"&&(n=5),!u||!r||!t)return!1;var e=(r.x-u.x)*(t.y-u.y)-(r.y-u.y)*(t.x-u.x),a=E(u,r);return Math.abs(e/a)<=n}var _=2;function p(u,r){var t;return(0,s.kJ)(u)?t=u:t=[u,r],o(t)?"h":c(t)?"v":!1}function o(u,r){var t;(0,s.kJ)(u)?t=u:t=[u,r];var n=t.slice().shift();return(0,s.yW)(t,function(e){return Math.abs(n.y-e.y)<=_})}function c(u,r){var t;(0,s.kJ)(u)?t=u:t=[u,r];var n=t.slice().shift();return(0,s.yW)(t,function(e){return Math.abs(n.x-e.x)<=_})}function i(u,r,t){return t=t||0,u.x>r.x-t&&u.y>r.y-t&&u.x<r.x+r.width+t&&u.y<r.y+r.height+t}function v(u,r){return{x:Math.round(u.x+(r.x-u.x)/2),y:Math.round(u.y+(r.y-u.y)/2)}}},21202:(rt,G,m)=>{"use strict";m.d(G,{G:()=>E,s:()=>s});function s(g){return g.childNodes[0]}function E(g){return g.parentNode.childNodes[1]}},50296:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>s});function s(E){this._counter=0,this._prefix=(E?E+"-":"")+Math.floor(Math.random()*1e9)+"-"}s.prototype.next=function(){return this._prefix+ ++this._counter}},26001:(rt,G,m)=>{"use strict";m.d(G,{m:()=>s});function s(E){return Math.log(E)/Math.log(10)}},98827:(rt,G,m)=>{"use strict";m.d(G,{RJ:()=>_,Dw:()=>p,Id:()=>g});var s=m(46534);function E(){return/mac/i.test(navigator.platform)}function g(o){return!((0,s.Ku)(o)||o).button}function _(o){var c=(0,s.Ku)(o)||o;return g(o)?E()?c.metaKey:c.ctrlKey:!1}function p(o){var c=(0,s.Ku)(o)||o;return g(o)&&c.shiftKey}},43273:(rt,G,m)=>{"use strict";m.d(G,{b:()=>s,p:()=>E});function s(g){return{x:g.x+g.width/2,y:g.y+g.height/2}}function E(g,_){return{x:g.x-_.x,y:g.y-_.y}}},80352:(rt,G,m)=>{"use strict";m.d(G,{r:()=>s});function s(E,g){if(typeof g!="function")throw new Error("removeFn iterator must be a function");if(!!E){for(var _;_=E[0];)g(_);return E}}},7824:(rt,G,m)=>{"use strict";m.d(G,{KO:()=>E,W5:()=>_,cq:()=>p});var s=m(21537);function E(o){return o.join(",").replace(/,?([A-z]),?/g,"$1")}function g(o){for(var c="",i=0,v;v=o[i];i++)c+=v.x+","+v.y+" ";return c}function _(o,c){var i=(0,s.Ue)("polyline");return(0,s.Lj)(i,{points:g(o)}),c&&(0,s.Lj)(i,c),i}function p(o,c){return(0,s.Lj)(o,{points:g(c)}),o}},18872:(rt,G,m)=>{"use strict";m.d(G,{Iu:()=>g,U1:()=>_,vs:()=>E});var s=m(21537);function E(o,c,i,v,u){var r=(0,s.pH)();r.setTranslate(c,i);var t=(0,s.pH)();t.setRotate(v||0,0,0);var n=(0,s.pH)();n.setScale(u||1,u||1),(0,s.vs)(o,[r,t,n])}function g(o,c,i){var v=(0,s.pH)();v.setTranslate(c,i),(0,s.vs)(o,v)}function _(o,c){var i=(0,s.pH)();i.setRotate(c,0,0),(0,s.vs)(o,i)}function p(o,c){var i=createTransform();i.setScale(c,c),svgTransform(o,i)}},23583:(rt,G,m)=>{"use strict";m.d(G,{Z:()=>n});var s=m(2299),E=m(21537),g=0,_={width:150,height:50};function p(a){var f=a.split("-");return{horizontal:f[0]||"center",vertical:f[1]||"top"}}function o(a){return(0,s.Kn)(a)?(0,s.f0)({top:0,left:0,right:0,bottom:0},a):{top:a,left:a,right:a,bottom:a}}function c(a,f){f.textContent=a;var T;try{var C,y=a==="";return f.textContent=y?"dummy":a,T=f.getBBox(),C={width:T.width+T.x*2,height:T.height},y&&(C.width=0),C}catch{return{width:0,height:0}}}function i(a,f,T){for(var C=a.shift(),y=C,O;;){if(O=c(y,T),O.width=y?O.width:0,y===" "||y===""||Math.round(O.width)<=Math.round(f)||y.length<2)return v(a,y,C,O);y=r(y,O.width,f)}}function v(a,f,T,C){if(f.length<T.length){var y=T.slice(f.length).trim();a.unshift(y)}return{width:C.width,height:C.height,text:f}}function u(a,f){var T=a.split(/(\s|-)/g),C,y=[],O=0;if(T.length>1)for(;C=T.shift();)if(C.length+O<f)y.push(C),O+=C.length;else{C==="-"&&y.pop();break}return y.join("")}function r(a,f,T){var C=Math.max(a.length*(T/f),1),y=u(a,C);return y||(y=a.slice(0,Math.max(Math.round(C-1),1))),y}function t(){var a=document.getElementById("helper-svg");return a||(a=(0,E.Ue)("svg"),(0,E.Lj)(a,{id:"helper-svg",width:0,height:0,style:"visibility: hidden; position: fixed"}),document.body.appendChild(a)),a}function n(a){this._config=(0,s.f0)({},{size:_,padding:g,style:{},align:"center-top"},a||{})}n.prototype.createText=function(a,f){return this.layoutText(a,f).element},n.prototype.getDimensions=function(a,f){return this.layoutText(a,f).dimensions},n.prototype.layoutText=function(a,f){var T=(0,s.f0)({},this._config.size,f.box),C=(0,s.f0)({},this._config.style,f.style),y=p(f.align||this._config.align),O=o(f.padding!==void 0?f.padding:this._config.padding),A=f.fitBox||!1,D=e(C),I=a.split(/\r?\n/g),U=[],L=T.width-O.left-O.right,N=(0,E.Ue)("text");(0,E.Lj)(N,{x:0,y:0}),(0,E.Lj)(N,C);var Y=t();for((0,E.R3)(Y,N);I.length;)U.push(i(I,L,N));y.vertical==="middle"&&(O.top=O.bottom=0);var Q=(0,s.u4)(U,function(P,l,x){return P+(D||l.height)},0)+O.top+O.bottom,it=(0,s.u4)(U,function(P,l,x){return l.width>P?l.width:P},0),tt=O.top;y.vertical==="middle"&&(tt+=(T.height-Q)/2),tt-=(D||U[0].height)/4;var $=(0,E.Ue)("text");(0,E.Lj)($,C),(0,s.Ed)(U,function(P){var l;switch(tt+=D||P.height,y.horizontal){case"left":l=O.left;break;case"right":l=(A?it:L)-O.right-P.width;break;default:l=Math.max(((A?it:L)-P.width)/2+O.left,0)}var x=(0,E.Ue)("tspan");(0,E.Lj)(x,{x:l,y:tt}),x.textContent=P.text,(0,E.R3)($,x)}),(0,E.Od)(N);var W={width:it,height:Q};return{dimensions:W,element:$}};function e(a){if("fontSize"in a&&"lineHeight"in a)return a.lineHeight*parseInt(a.fontSize,10)}},21537:(rt,G,m)=>{"use strict";m.d(G,{Lj:()=>v,Od:()=>f,R3:()=>g,Sh:()=>e,Ue:()=>I,ZH:()=>T,d9:()=>C,pH:()=>$,vs:()=>K,wz:()=>tt});function s(w,k){if(w.ownerDocument!==k.ownerDocument)try{return k.ownerDocument.importNode(w,!0)}catch{}return w}function E(w,k){return k.appendChild(s(w,k))}function g(w,k){return E(k,w),w}var _=2,p={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":_,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":_,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function o(w,k){return p[k]?w.style[k]:w.getAttributeNS(null,k)}function c(w,k,J){var ot=k.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),st=p[ot];st?(st===_&&typeof J=="number"&&(J=String(J)+"px"),w.style[ot]=J):w.setAttributeNS(null,k,J)}function i(w,k){var J=Object.keys(k),ot,st;for(ot=0,st;st=J[ot];ot++)c(w,st,k[st])}function v(w,k,J){if(typeof k=="string")if(J!==void 0)c(w,k,J);else return o(w,k);else i(w,k);return w}function u(w,k){if(w.indexOf)return w.indexOf(k);for(var J=0;J<w.length;++J)if(w[J]===k)return J;return-1}var r=/\s+/,t=Object.prototype.toString;function n(w){return typeof w<"u"}function e(w){return new a(w)}function a(w){if(!w||!w.nodeType)throw new Error("A DOM element reference is required");this.el=w,this.list=w.classList}a.prototype.add=function(w){if(this.list)return this.list.add(w),this;var k=this.array(),J=u(k,w);return~J||k.push(w),n(this.el.className.baseVal)?this.el.className.baseVal=k.join(" "):this.el.className=k.join(" "),this},a.prototype.remove=function(w){if(t.call(w)==="[object RegExp]")return this.removeMatching(w);if(this.list)return this.list.remove(w),this;var k=this.array(),J=u(k,w);return~J&&k.splice(J,1),this.el.className.baseVal=k.join(" "),this},a.prototype.removeMatching=function(w){for(var k=this.array(),J=0;J<k.length;J++)w.test(k[J])&&this.remove(k[J]);return this},a.prototype.toggle=function(w,k){return this.list?(n(k)?k!==this.list.toggle(w,k)&&this.list.toggle(w):this.list.toggle(w),this):(n(k)?k?this.add(w):this.remove(w):this.has(w)?this.remove(w):this.add(w),this)},a.prototype.array=function(){var w=this.el.getAttribute("class")||"",k=w.replace(/^\s+|\s+$/g,""),J=k.split(r);return J[0]===""&&J.shift(),J},a.prototype.has=a.prototype.contains=function(w){return this.list?this.list.contains(w):!!~u(this.array(),w)};function f(w){var k=w.parentNode;return k&&k.removeChild(w),w}function T(w){for(var k;k=w.firstChild;)f(k);return w}function C(w){return w.cloneNode(!0)}var y={svg:"http://www.w3.org/2000/svg"},O='<svg xmlns="'+y.svg+'"';function A(w){var k=!1;w.substring(0,4)==="<svg"?w.indexOf(y.svg)===-1&&(w=O+w.substring(4)):(w=O+">"+w+"</svg>",k=!0);var J=D(w);if(!k)return J;for(var ot=document.createDocumentFragment(),st=J.firstChild;st.firstChild;)ot.appendChild(st.firstChild);return ot}function D(w){var k;return k=new DOMParser,k.async=!1,k.parseFromString(w,"text/xml")}function I(w,k){var J;return w.charAt(0)==="<"?(J=A(w).firstChild,J=document.importNode(J,!0)):J=document.createElementNS(y.svg,w),k&&v(J,k),J}function U(w,k,J,ot){w.addEventListener(k,J,ot)}function L(w,k,J,ot){w.removeEventListener(k,J,ot)}var N=null;function Y(){return N===null&&(N=I("svg")),N}function Q(w,k){var J,ot,st=Object.keys(k);for(J=0;ot=st[J];J++)w[ot]=k[ot];return w}function it(w,k){var J=Y().createSVGPoint();switch(arguments.length){case 0:return J;case 2:w={x:w,y:k};break}return Q(J,w)}function tt(w,k,J,ot,st,ut){var ft=Y().createSVGMatrix();switch(arguments.length){case 0:return ft;case 1:return Q(ft,w);case 6:return Q(ft,{a:w,b:k,c:J,d:ot,e:st,f:ut})}}function $(w){return w?Y().createSVGTransformFromMatrix(w):Y().createSVGTransform()}var W=/([&<>]{1})/g,P=/([\n\r"]{1})/g,l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function x(w,k){function J(ot,st){return l[st]||st}return w.replace(k,J)}function h(w,k){var J,ot,st,ut,ft;switch(w.nodeType){case 3:k.push(x(w.textContent,W));break;case 1:if(k.push("<",w.tagName),w.hasAttributes())for(st=w.attributes,J=0,ot=st.length;J<ot;++J)ut=st.item(J),k.push(" ",ut.name,'="',x(ut.value,P),'"');if(w.hasChildNodes()){for(k.push(">"),ft=w.childNodes,J=0,ot=ft.length;J<ot;++J)h(ft.item(J),k);k.push("</",w.tagName,">")}else k.push("/>");break;case 8:k.push("<!--",x(w.nodeValue,W),"-->");break;case 4:k.push("<![CDATA[",w.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+w.nodeType)}return k}function d(w,k){var J=A(k);if(T(w),!!k){M(J)||(J=J.documentElement);for(var ot=B(J.childNodes),st=0;st<ot.length;st++)E(ot[st],w)}}function S(w){for(var k=w.firstChild,J=[];k;)h(k,J),k=k.nextSibling;return J.join("")}function M(w){return w.nodeName==="#document-fragment"}function j(w,k){if(k!==void 0){try{d(w,k)}catch(J){throw new Error("error parsing SVG: "+J.message)}return w}else return S(w)}function B(w){return Array.prototype.slice.call(w)}function F(w,k){return w.querySelector(k)}function V(w,k){var J=w.querySelectorAll(k);return[].map.call(J,function(ot){return ot})}function X(w,k){return k.insertBefore(s(w,k),k.firstChild||null)}function q(w,k){return X(k,w),w}function nt(w,k){return w.parentNode.replaceChild(s(k,w),w),k}function H(w,k){return k instanceof SVGMatrix?w.createSVGTransformFromMatrix(k):k}function z(w,k){var J,ot;for(w.clear(),J=0;ot=k[J];J++)w.appendItem(H(w,ot))}function K(w,k){var J=w.transform.baseVal;return k&&(Array.isArray(k)||(k=[k]),z(J,k)),J.consolidate()}},66270:(rt,G,m)=>{"use strict";m.d(G,{Lj:()=>v,Od:()=>F,R3:()=>g,Sh:()=>r,Ue:()=>y,d9:()=>e,vs:()=>nt,wz:()=>N});function s(H,z){if(H.ownerDocument!==z.ownerDocument)try{return z.ownerDocument.importNode(H,!0)}catch{}return H}function E(H,z){return z.appendChild(s(H,z))}function g(H,z){return E(z,H),H}var _=2,p={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":_,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":_,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function o(H,z){return p[z]?H.style[z]:H.getAttributeNS(null,z)}function c(H,z,K){var w=z.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),k=p[w];k?(k===_&&typeof K=="number"&&(K=String(K)+"px"),H.style[w]=K):H.setAttributeNS(null,z,K)}function i(H,z){var K=Object.keys(z),w,k;for(w=0,k;k=K[w];w++)c(H,k,z[k])}function v(H,z,K){if(typeof z=="string")if(K!==void 0)c(H,z,K);else return o(H,z);else i(H,z);return H}const u=Object.prototype.toString;function r(H){return new t(H)}function t(H){if(!H||!H.nodeType)throw new Error("A DOM element reference is required");this.el=H,this.list=H.classList}t.prototype.add=function(H){return this.list.add(H),this},t.prototype.remove=function(H){return u.call(H)=="[object RegExp]"?this.removeMatching(H):(this.list.remove(H),this)},t.prototype.removeMatching=function(H){const z=this.array();for(let K=0;K<z.length;K++)H.test(z[K])&&this.remove(z[K]);return this},t.prototype.toggle=function(H,z){return typeof z<"u"?z!==this.list.toggle(H,z)&&this.list.toggle(H):this.list.toggle(H),this},t.prototype.array=function(){return Array.from(this.list)},t.prototype.has=t.prototype.contains=function(H){return this.list.contains(H)};function n(H){for(var z;z=H.firstChild;)H.removeChild(z);return H}function e(H){return H.cloneNode(!0)}var a={svg:"http://www.w3.org/2000/svg"},f='<svg xmlns="'+a.svg+'"';function T(H){var z=!1;H.substring(0,4)==="<svg"?H.indexOf(a.svg)===-1&&(H=f+H.substring(4)):(H=f+">"+H+"</svg>",z=!0);var K=C(H);if(!z)return K;for(var w=document.createDocumentFragment(),k=K.firstChild;k.firstChild;)w.appendChild(k.firstChild);return w}function C(H){var z;return z=new DOMParser,z.async=!1,z.parseFromString(H,"text/xml")}function y(H,z){var K;return H=H.trim(),H.charAt(0)==="<"?(K=T(H).firstChild,K=document.importNode(K,!0)):K=document.createElementNS(a.svg,H),z&&v(K,z),K}function O(H,z,K,w){H.addEventListener(z,K,w)}function A(H,z,K,w){H.removeEventListener(z,K,w)}var D=null;function I(){return D===null&&(D=y("svg")),D}function U(H,z){var K,w,k=Object.keys(z);for(K=0;w=k[K];K++)H[w]=z[w];return H}function L(H,z){var K=I().createSVGPoint();switch(arguments.length){case 0:return K;case 2:H={x:H,y:z};break}return U(K,H)}function N(H,z,K,w,k,J){var ot=I().createSVGMatrix();switch(arguments.length){case 0:return ot;case 1:return U(ot,H);case 6:return U(ot,{a:H,b:z,c:K,d:w,e:k,f:J})}}function Y(H){return H?I().createSVGTransformFromMatrix(H):I().createSVGTransform()}var Q=/([&<>]{1})/g,it=/([\n\r"]{1})/g,tt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function $(H,z){function K(w,k){return tt[k]||k}return H.replace(z,K)}function W(H,z){var K,w,k,J,ot;switch(H.nodeType){case 3:z.push($(H.textContent,Q));break;case 1:if(z.push("<",H.tagName),H.hasAttributes())for(k=H.attributes,K=0,w=k.length;K<w;++K)J=k.item(K),z.push(" ",J.name,'="',$(J.value,it),'"');if(H.hasChildNodes()){for(z.push(">"),ot=H.childNodes,K=0,w=ot.length;K<w;++K)W(ot.item(K),z);z.push("</",H.tagName,">")}else z.push("/>");break;case 8:z.push("<!--",$(H.nodeValue,Q),"-->");break;case 4:z.push("<![CDATA[",H.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+H.nodeType)}return z}function P(H,z){var K=T(z);if(n(H),!!z){x(K)||(K=K.documentElement);for(var w=d(K.childNodes),k=0;k<w.length;k++)E(w[k],H)}}function l(H){for(var z=H.firstChild,K=[];z;)W(z,K),z=z.nextSibling;return K.join("")}function x(H){return H.nodeName==="#document-fragment"}function h(H,z){if(z!==void 0){try{P(H,z)}catch(K){throw new Error("error parsing SVG: "+K.message)}return H}else return l(H)}function d(H){return Array.prototype.slice.call(H)}function S(H,z){return H.querySelector(z)}function M(H,z){var K=H.querySelectorAll(z);return[].map.call(K,function(w){return w})}function j(H,z){return z.insertBefore(s(H,z),z.firstChild||null)}function B(H,z){return j(z,H),H}function F(H){var z=H.parentNode;return z&&z.removeChild(H),H}function V(H,z){return H.parentNode.replaceChild(s(z,H),H),z}function X(H,z){return z instanceof SVGMatrix?H.createSVGTransformFromMatrix(z):z}function q(H,z){var K,w;for(H.clear(),K=0;w=z[K];K++)H.appendItem(X(H,w))}function nt(H,z){var K=H.transform.baseVal;return z&&(Array.isArray(z)||(z=[z]),q(K,z)),K.consolidate()}}}]);
