(self.webpackChunkapp_studio_enterprise_schema_view=self.webpackChunkapp_studio_enterprise_schema_view||[]).push([[3042,8239,5036,6118,7344,8160,1034,8056,1906,4501,1216,9256,9795,1006,7571,6025,9424,885,7709,6662,9669,9725],{93042:(b,f,s)=>{s.r(f),s.d(f,{GoogleServicesLoginHandler:()=>n,GoogleServicesLoginRequest:()=>v,SessionIdentifierService:()=>r});var _=s(18877),a=s(94450);class r{constructor(){this._storageKey="uniqueIdentifier",sessionStorage.removeItem(this._storageKey)}get identifier(){let e=sessionStorage.getItem(this._storageKey);return e||(e=(0,_.Z)(),sessionStorage.setItem(this._storageKey,e)),e}static#t=this.\u0275fac=function(o){return new(o||r)};static#e=this.\u0275prov=a.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"})}var p=s(8239),l=s(74742),i=s(75378),c=s(99293),w=s(33177),h=s(41307),d=s(49475),u=s(21322);class t{constructor(e,o,g){this.application=e,this.platform=o,this.websocketSessionId=g}}let n=class S extends i.BaseRequestHandler{constructor(e,o,g,y,I){super(),this.httpClient=e,this.notifyService=o,this.restErrorHandler=g,this.sessionIdentifierService=y,this.window=I,this._snackbarDuration=3e3}_validateRequest(e){return e.platform===void 0?(this._showMessage(this.getInvalidPlatformMessage()),!1):e.app===void 0?(this._showMessage(this.getInvalidApplicationMessage()),!1):!0}_getFlowUrl(e){const o=this.sessionIdentifierService.identifier,g=new t(e.app,e.platform,o);return this.restErrorHandler.handleRequest(this.httpClient.post("/rest/SocialOAuthProxyService/AuthenticateToPlatform",g,{responseType:"json"})).pipe((0,u.map)(y=>{if(y.body!=="")return new URL(y.body)}))}_showMessage(e){var o=this;return(0,p.Z)(function*(){yield o.notifyService.show({message:e,duration:o._snackbarDuration})})()}_showLoginWindow(e){const o="Login",I=window.screenLeft+(window.innerWidth-650)/2,x=window.screenTop+(window.innerHeight-650)/2,U=`width=${650},height=${650},left=${I},top=${x},
		  scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no`;this.window.open(e.toString(),o,U)}handle(e){var o=this;return(0,p.Z)(function*(){o._context=e.$context;const g=o._context.attributes.Connect_account_button_enabled;if(g&&g===!0){o._context.attributes.Connect_account_button_enabled=!1;try{if(!o._validateRequest(e))return;o._getFlowUrl(e).subscribe(y=>{y&&o._showLoginWindow(y)})}finally{o._context.attributes.Connect_account_button_enabled=!0,yield o.next?.handle(e)}}})()}static#t=this.\u0275fac=function(o){return new(o||S)(a.\u0275\u0275inject(h.HttpClientService),a.\u0275\u0275inject(c.NotifyService),a.\u0275\u0275inject(d.RestErrorHandler),a.\u0275\u0275inject(r),a.\u0275\u0275inject(Window))};static#e=this.\u0275prov=a.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac})};n=(0,l.__decorate)([(0,l.__param)(4,(0,i.CrtInject)(w.WINDOW_TOKEN)),(0,l.__metadata)("design:paramtypes",[h.HttpClientService,c.NotifyService,d.RestErrorHandler,r,Window])],n);class v extends i.BaseRequest{}},18877:(b,f,s)=>{s.d(f,{Z:()=>u});const a={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let r;const p=new Uint8Array(16);function l(){if(!r&&(r=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(p)}const i=[];for(let t=0;t<256;++t)i.push((t+256).toString(16).slice(1));function c(t,n=0){return i[t[n+0]]+i[t[n+1]]+i[t[n+2]]+i[t[n+3]]+"-"+i[t[n+4]]+i[t[n+5]]+"-"+i[t[n+6]]+i[t[n+7]]+"-"+i[t[n+8]]+i[t[n+9]]+"-"+i[t[n+10]]+i[t[n+11]]+i[t[n+12]]+i[t[n+13]]+i[t[n+14]]+i[t[n+15]]}function w(t,n=0){const v=c(t,n);if(!validate(v))throw TypeError("Stringified UUID is invalid");return v}const h=null;function d(t,n,v){if(a.randomUUID&&!n&&!t)return a.randomUUID();t=t||{};const m=t.random||(t.rng||l)();if(m[6]=m[6]&15|64,m[8]=m[8]&63|128,n){v=v||0;for(let e=0;e<16;++e)n[v+e]=m[e];return n}return c(m)}const u=d},8239:(b,f,s)=>{s.d(f,{Z:()=>a});function _(r,p,l,i,c,w,h){try{var d=r[w](h),u=d.value}catch(t){l(t);return}d.done?p(u):Promise.resolve(u).then(i,c)}function a(r){return function(){var p=this,l=arguments;return new Promise(function(i,c){var w=r.apply(p,l);function h(u){_(w,i,c,h,d,"next",u)}function d(u){_(w,i,c,h,d,"throw",u)}h(void 0)})}}}}]);
