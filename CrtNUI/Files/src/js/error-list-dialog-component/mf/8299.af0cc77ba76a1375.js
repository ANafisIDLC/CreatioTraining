(self.webpackChunkapp_studio_enterprise_error_list_dialog=self.webpackChunkapp_studio_enterprise_error_list_dialog||[]).push([[8299],{38299:(U,C,l)=>{l.r(C),l.d(C,{BaseEditableTableCellComponent:()=>p,BaseTableCellComponent:()=>u,BaseTableColumnDataSchema:()=>f,TableAllRowsSelectState:()=>T,TableCdkModule:()=>d,TableCellComponent:()=>m,TableColumnDataSchema:()=>O,TableCustomColumnDataSchema:()=>$,TableDataSchema:()=>R,TreeTableDataSchema:()=>A});var e=l(94450);class u{constructor(){this.getRegisteredEvents=()=>[]}set eventHandlers(t){this._eventHandlers=t,this._validateEventHandlers()}get eventHandlers(){return this._eventHandlers}_stringify(t){const n=[()=>JSON.stringify(t),()=>t.toString()];for(let a=0;a<n.length;a++){const o=n[a];try{return o()}catch{}}return""}_checkEventCanBeHandled(t){const n=this.getRegisteredEvents();if(!n||n.some(c=>c.name===t))return;const a=n.map(c=>c.name).join(", ");let o=`Handler for event "${t}" can not be specified because the event was not registered in table cell class. Registered table column events to subscribe: ${a}.`;throw this.columnDataSchema&&(o+=` Column name: "${this.columnDataSchema.name}".`),new Error(o)}_checkHandlerIsFunction(t,n){if(typeof n!="function")throw new TypeError(`Handler for event with name "${t}" must be a function, but actual is"${this._stringify(n)}".`)}_validateEventHandlers(){if(!this.eventHandlers)return;Object.keys(this.eventHandlers).forEach(n=>{this._checkEventCanBeHandled(n),this._checkHandlerIsFunction(n,this.eventHandlers[n])})}_checkEventDataType(t,n){return t instanceof n||t.constructor===n}_validateFiringEvent(t,n){const a=this._registeredEvents.find(c=>c.name===t);if(!a)throw new Error(`Event with name "${t}" is not registered in the cell class and can not be fired.`);const o=a.dataType;if(n&&(!o||!this._checkEventDataType(n,o)))throw new TypeError(`Type of the data in the event "${t}" must be "${o}", but actual data is "${this._stringify(n)}".`)}_getValidEventHandler(t){const n=this.eventHandlers&&this.eventHandlers[t];if(!!n)return this._checkHandlerIsFunction(t,n),n}isEmpty(){return!(this.columnDataSchema&&this.record)}fireEvent(t,n){this._validateFiringEvent(t,n);const a=this._getValidEventHandler(t);return a&&a(this.record,n)}ngOnInit(){this._registeredEvents=this.getRegisteredEvents()}getValue(){const t=this.record[this.columnDataSchema.name],n=this.columnDataSchema.formatter;return n?n(t,this.record):t}static#e=(()=>this.\u0275fac=function(n){return new(n||u)})();static#t=(()=>this.\u0275dir=e.\u0275\u0275defineDirective({type:u,inputs:{columnDataSchema:"columnDataSchema",record:"record",eventHandlers:"eventHandlers"}}))()}class p extends u{constructor(){super(...arguments),this.valueChange=new e.EventEmitter}setRecordValue(t){this.record[this.columnDataSchema.name]=t}setValue(t){this.setRecordValue(t),this.valueChange.emit(t)}static#e=(()=>this.\u0275fac=function(){let t;return function(a){return(t||(t=e.\u0275\u0275getInheritedFactory(p)))(a||p)}}())();static#t=(()=>this.\u0275dir=e.\u0275\u0275defineDirective({type:p,outputs:{valueChange:"valueChange"},features:[e.\u0275\u0275InheritDefinitionFeature]}))()}var i=l(75378),s=l(49475),g=l(31134),h=l(33569),_=l(57186);function S(r,t){if(r&1&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"a",7),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),r&2){const n=e.\u0275\u0275nextContext().$implicit,a=e.\u0275\u0275nextContext(2).$implicit,o=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("routerLink",o.getLinkUrl(n))("target",o.getLinkTarget(n)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(o.formatTextValue(a))}}function k(r,t){if(r&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",8),e.\u0275\u0275listener("click",function(o){e.\u0275\u0275restoreView(n);const c=e.\u0275\u0275nextContext().$implicit,B=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(B.onLinkClick(o,c))}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()}if(r&2){const n=e.\u0275\u0275nextContext().$implicit,a=e.\u0275\u0275nextContext(2).$implicit,o=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("href",o.getLinkUrl(n),e.\u0275\u0275sanitizeUrl)("target",o.getLinkTarget(n)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(o.formatTextValue(a))}}function L(r,t){if(r&1&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,S,3,3,"ng-container",4),e.\u0275\u0275template(2,k,2,3,"ng-template",null,6,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementContainerEnd()),r&2){const n=t.$implicit,a=e.\u0275\u0275reference(3),o=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.getIsRouterLink(n))("ngIfElse",a)}}function M(r,t){if(r&1&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),r&2){const n=e.\u0275\u0275nextContext(2).$implicit,a=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(a.formatTextValue(n))}}function I(r,t){if(r&1&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,L,4,2,"ng-container",4),e.\u0275\u0275template(2,M,2,1,"ng-template",null,5,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementContainerEnd()),r&2){const n=e.\u0275\u0275reference(3),a=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",a.getLink(a.record))("ngIfElse",n)}}function F(r,t){if(r&1&&e.\u0275\u0275element(0,"mat-checkbox",9),r&2){const n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("checked",!!n)}}function H(r,t){if(r&1&&(e.\u0275\u0275template(0,I,4,2,"ng-container",0),e.\u0275\u0275template(1,F,1,1,"mat-checkbox",3)),r&2){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngIf",n.isDisplayedAsText()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isDisplayedAsBoolean())}}const N=function(r){return{$implicit:r}};function j(r,t){if(r&1&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,H,2,2,"ng-template",1,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementContainerEnd()),r&2){const n=e.\u0275\u0275reference(2),a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(2,N,a.getValue()))("ngTemplateOutlet",n)}}class m extends u{constructor(t,n){super(),this.numberUtils=n,this._textValueTypes=[i.DataValueType.Guid].concat(s.DataValueTypeGroup.DateTime).concat(s.DataValueTypeGroup.Number).concat(s.DataValueTypeGroup.Text).concat(s.DataValueTypeGroup.Lookup),this.getRegisteredEvents=()=>[{name:"click"}],this.userCulture=t.cultureInfo.sysCultureName}getLink(t){return this.columnDataSchema.linkGenerator?this.columnDataSchema.linkGenerator(t):""}getLinkUrl(t){return typeof t=="string"?t:t.url}getLinkTarget(t){const n="_self";return typeof t=="string"?n:t.target||n}getIsRouterLink(t){return t?typeof t=="string"?!0:t.useRouterLink||!1:!1}onLinkClick(t,n){n&&typeof n!="string"&&n.preventDefaultClick===!0&&(t.preventDefault(),this.fireEvent("click"))}isDisplayedAsText(){return!this.columnDataSchema.valueType||this._textValueTypes.indexOf(this.columnDataSchema.valueType)!==-1}isDisplayedAsBoolean(){return this.columnDataSchema.valueType===i.DataValueType.Boolean}formatTextValue(t){if(t==null)return"";switch(this.columnDataSchema.valueType){case i.DataValueType.Date:return t.toLocaleDateString(this.userCulture);case i.DataValueType.Time:return t.toLocaleTimeString(this.userCulture);case i.DataValueType.DateTime:return t.toLocaleString(this.userCulture);case i.DataValueType.Integer:return this.numberUtils.formatNumberValue(t,new s.NumberFormatConfig({precision:0}));case i.DataValueType.Float:case i.DataValueType.Money:return this.numberUtils.formatNumberValue(t);case i.DataValueType.FLOAT1:return this.numberUtils.formatNumberValue(t,new s.NumberFormatConfig({precision:1}));case i.DataValueType.FLOAT2:return this.numberUtils.formatNumberValue(t,new s.NumberFormatConfig({precision:2}));case i.DataValueType.FLOAT3:return this.numberUtils.formatNumberValue(t,new s.NumberFormatConfig({precision:3}));case i.DataValueType.FLOAT4:return this.numberUtils.formatNumberValue(t,new s.NumberFormatConfig({precision:4}));case i.DataValueType.FLOAT8:return this.numberUtils.formatNumberValue(t,new s.NumberFormatConfig({precision:8}));case i.DataValueType.IMAGELOOKUP:case i.DataValueType.Lookup:{const a=t;return a?.displayValue||a?.value}case i.DataValueType.LOCALIZABLE_STRING:{const a=t;return a&&a.getValue(this.userCulture)}default:return t}}static#e=(()=>this.\u0275fac=function(n){return new(n||m)(e.\u0275\u0275directiveInject(s.UserInfo),e.\u0275\u0275directiveInject(s.NumberFormatUtility))})();static#t=(()=>this.\u0275cmp=e.\u0275\u0275defineComponent({type:m,selectors:[["ts-table-cell"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngTemplateOutletContext","ngTemplateOutlet"],["t",""],["disabled","true",3,"checked",4,"ngIf"],[4,"ngIf","ngIfElse"],["textBlock",""],["hyperlinkBlock",""],[3,"routerLink","target"],[3,"href","target","click"],["disabled","true",3,"checked"]],template:function(n,a){n&1&&e.\u0275\u0275template(0,j,3,4,"ng-container",0),n&2&&e.\u0275\u0275property("ngIf",!a.isEmpty())},dependencies:[g.NgIf,g.NgTemplateOutlet,h.MatLegacyCheckbox,_.RouterLink],encapsulation:2}))()}class f{constructor(t){Object.assign(this,t)}}class O extends f{constructor(t){super(t),this.externalLink=!1}}class $ extends f{}class R{}var T;(function(r){r.None="none",r.Intermediate="intermediate",r.All="all"})(T||(T={}));class A{}var y=l(55770),x=l(72856),v=l(14535),D=l(91521),b=l(30922),E=l(77207),V=l(70468);class d{static#e=(()=>this.\u0275fac=function(n){return new(n||d)})();static#t=(()=>this.\u0275mod=e.\u0275\u0275defineNgModule({type:d}))();static#n=(()=>this.\u0275inj=e.\u0275\u0275defineInjector({imports:[V.AngularTreeGridModule,g.CommonModule,y.DragDropModule,v.MatLegacyButtonModule,x.MatIconModule,h.MatLegacyCheckboxModule,b.MatSortModule,D.MatLegacyTableModule,_.RouterModule,E.TranslateModule]}))()}(function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(d,{declarations:[m],imports:[V.AngularTreeGridModule,g.CommonModule,y.DragDropModule,v.MatLegacyButtonModule,x.MatIconModule,h.MatLegacyCheckboxModule,b.MatSortModule,D.MatLegacyTableModule,_.RouterModule,E.TranslateModule],exports:[m]})})()}}]);
