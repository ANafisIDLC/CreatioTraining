(self.webpackChunkapp_studio_enterprise_duplicates_widget=self.webpackChunkapp_studio_enterprise_duplicates_widget||[]).push([[2889],{32889:(nt,j,l)=>{l.r(j),l.d(j,{AbstractHandler:()=>mt,BroadcastChannelFactory:()=>A,BroadcastChannelService:()=>Y,CONTAINS_EMAIL_PATTERN:()=>b,CONTAINS_EMAIL_REGEXP:()=>f,CURRENT_TAB_ID_PROVIDER:()=>xt,CURRENT_TAB_ID_TOKEN:()=>P,CrtHandlerChainAdapter:()=>bt,CrtLibTranslateModule:()=>E,CustomElementsBootstrapService:()=>R,CustomEventApplicationIdToken:()=>M,CustomEventService:()=>_,CustomEventServiceToken:()=>d,DOM_PURIFIER:()=>st,DOM_PURIFIER_DEFAULT_FORBID_CONTENTS:()=>V,EMAIL_PATTERN:()=>o,EMAIL_REGEXP:()=>a,Factory:()=>T,FactoryProvider:()=>It,I18N_TRANSLATES:()=>D,IdGenerator:()=>lt,Inject:()=>dt,LOCAL_STORAGE_SERVICE_CONFIG:()=>k,LocalStorageModule:()=>w,LocalStorageService:()=>O,LoggerService:()=>v,NAVIGATOR:()=>Mt,NameGenerator:()=>tt,ObservableUtils:()=>ft,SpeechRecognitionFactory:()=>Q,StorybookLibBadges:()=>gt,StorybookScopeBadges:()=>_t,TAB_ID_APP_INITIALIZER:()=>Ft,VoiceToTextApi:()=>I,WINDOW_PROVIDER:()=>Ct,WINDOW_TOKEN:()=>N,WindowStateService:()=>S,areAllRequestCompatibleAPIsSupported:()=>Ut,concatMapWith:()=>vt,containsEmail:()=>m,emptyFn:()=>ot,flattenObject:()=>z,getRandomArrayElement:()=>ct,getRandomString:()=>at,hexToRGBA:()=>Nt,isEmailAddress:()=>g,isRequestCompatibleAPIsSupported:()=>et,mergeMapWith:()=>Tt,mergeMapWithout:()=>St,ngxTranslateExtract:()=>pt.marker,randomInt:()=>X,replaceSubstring:()=>Et,runInZone:()=>Ot,runOutsideZone:()=>jt,splitAndReplaceSubstringToMacros:()=>q,switchMapWith:()=>Rt,switchMapWithout:()=>wt,tapOnce:()=>At,toArray:()=>rt,toObject:()=>it,windowFactory:()=>$});var G=l(31134),i=l(94450),c=l(21322),p=l(27049);const M=new i.InjectionToken("CustomEventApplicationIdToken"),d=new i.InjectionToken("CustomEventServiceToken");class _{constructor(t,e=null){this.document=t,this.appId=e,this.customEventName="TSCustomEventChannel",this.appId=e||Math.random().toString()}subscribe(t){return this.customEventObserver$=this.customEventObserver$||(0,c.fromEvent)(document,this.customEventName),this.customEventObserver$.pipe((0,p.filter)(e=>e.detail.eventName===t&&e.detail.sender!==this.appId),(0,p.map)(e=>e.detail.payload))}createOutboundChannel(t){const e=new c.Subject;return e.asObservable().subscribe(s=>{const r=new CustomEvent(this.customEventName,{detail:{eventName:t,sender:this.appId,payload:s}});this.document.dispatchEvent(r)}),e}getDataViaEvent(t,e={}){return new c.Observable(s=>{this.subscribe(t).pipe((0,p.first)()).subscribe(r=>{s.next(r),s.complete()}),this.createOutboundChannel(t).next(e)})}getDataStreamViaEvent(t,e={}){return new c.Observable(s=>{const r=this.subscribe(t).subscribe(u=>{s.next(u)},c.noop,()=>s.complete());return this.createOutboundChannel(t).next(e),()=>{r.unsubscribe()}})}static#t=this.\u0275fac=function(e){return new(e||_)(i.\u0275\u0275inject(G.DOCUMENT),i.\u0275\u0275inject(M,8))};static#e=this.\u0275prov=i.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac,providedIn:"root"})}const V=["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","title","video","xmp"];var K=l(89327),x=l.n(K);const b="[\u0430-\u044F\u0410-\u042Fa-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[\u0430-\u044F\u0410-\u042Fa-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[\u0430-\u044F\u0410-\u042Fa-zA-Z0-9](?:[\u0430-\u044F\u0410-\u042Fa-zA-Z0-9-]*[\u0430-\u044F\u0410-\u042Fa-zA-Z0-9])?\\.)+[\u0430-\u044F\u0410-\u042Fa-zA-Z0-9](?:[\u0430-\u044F\u0410-\u042Fa-zA-Z0-9-]*[\u0430-\u044F\u0410-\u042Fa-zA-Z0-9])?",o=`(?=^.{1,250}$)^${b}$`,a=()=>new RegExp(o,"g"),f=()=>new RegExp(b,"g");function g(n){return a().test(n)}function m(n){return f().test(n)}const H={name:"uponSanitizeElement",func:(n,t)=>{const e=t.tagName;g(e)&&n.insertAdjacentText("afterbegin",`<${e}>`)}},st=new i.InjectionToken("Represents a DOM purifier",{factory:()=>(x().addHook(H.name,H.func),x()),providedIn:"platform"});function rt(n){return n?Array.isArray(n)?n:[n]:[]}function it(n){return n||{}}function ot(){}function z(n,t){const e={};for(const s in n)if(!!Object.prototype.hasOwnProperty.call(n,s))if(typeof n[s]=="object"&&n[s]!==null){const r=z(n[s],t);for(const u in r)!Object.prototype.hasOwnProperty.call(r,u)||(e[s+t+u]=r[u])}else e[s]=n[s];return e}var J=l(75378);function X(n,t=0){return Math.floor(Math.random()*(n-t))+t}function at(n){if(n<=0)return"";const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",e=`${t.toLowerCase()}0123456789`;let s=t.charAt(Math.floor(Math.random()*t.length));for(let r=1;r<n;r++)s+=e.charAt(Math.floor(Math.random()*e.length));return s}function ct(n){J.ValidationUtilities.checkArrayEmpty("array",n);const t=X(n.length);return n[t]}var ut=l(18877);class lt{static generate(){return"_"+this.generateUUID()}static generateUUID(){return(0,ut.Z)()}}var pt=l(67231);function dt(n){return(t,e,s)=>{for((t.$inject===void 0||t.$inject instanceof Array&&!t.hasOwnProperty("$inject"))&&(t.$inject=[]);t.$inject.length<=s;)t.$inject.push(null);t.$inject[s]=n||e}}class Q{static create(t){return new t}}class I{constructor(){this.speechResult=new c.Subject,this.speechEnd=new c.Subject}static _getInternalApiClass(){return window.SpeechRecognition||window.webkitSpeechRecognition}static isSupported(){return I._getInternalApiClass()!==void 0}_subscribeEvents(){this._internalApi.addEventListener("result",this.onResult.bind(this)),this._internalApi.addEventListener("speechend",this.onSpeechEnd.bind(this))}_unsubscribeEvents(){this._internalApi.removeEventListener("result",this.onResult),this._internalApi.removeEventListener("speechend",this.onSpeechEnd)}init(t){const e=I._getInternalApiClass();this._internalApi=Q.create(e),this._internalApi.continuous=!0,this._internalApi.lang=t.lang||"en-US",this._subscribeEvents()}onResult(t){const{resultIndex:e,results:s}=t,r=s[e][0];if(!r)throw new Error("No results to transcript");this.speechResult.next(r.transcript)}onSpeechEnd(){this.speechEnd.next()}destroy(){this._unsubscribeEvents(),this._internalApi=null}startRecognition(){this._internalApi.start()}stopRecognition(){this._internalApi.stop()}static#t=this.\u0275fac=function(e){return new(e||I)};static#e=this.\u0275prov=i.\u0275\u0275defineInjectable({token:I,factory:I.\u0275fac})}var ht=l(68108);class Y{get messages$(){return this._messages$}constructor(t,e){this._ngZone=e;const s=new c.Subject;this._messages$=s.pipe(this._runInZone(this._ngZone)),this._broadcastChannel=new ht.BroadcastChannel(t),this._broadcastChannel.onmessage=r=>s.next(r)}_runInZone(t){return e=>new c.Observable(s=>{e.subscribe(r=>t.run(()=>s.next(r)))})}publish(t){return(0,c.from)(this._broadcastChannel.postMessage(t))}}class A{constructor(t){this._ngZone=t}createInstance(t){return new Y(t,this._ngZone)}static#t=this.\u0275fac=function(e){return new(e||A)(i.\u0275\u0275inject(i.NgZone))};static#e=this.\u0275prov=i.\u0275\u0275defineInjectable({token:A,factory:A.\u0275fac,providedIn:"root"})}class ft{static toColdObservable(t){return new c.Observable(e=>{t().subscribe(r=>{e.next(r),e.complete()})})}}class v{log(t,e,...s){console.log(t,...s)}warn(t,e,...s){console.warn(t,...s)}error(t,e,...s){console.error(t,...s)}exception(t,e,...s){(console.exception||console.error)(t,...s)}static#t=this.\u0275fac=function(e){return new(e||v)};static#e=this.\u0275prov=i.\u0275\u0275defineInjectable({token:v,factory:v.\u0275fac})}const gt={dataAccess:"data-access",feature:"feature",ui:"ui",util:"util",components:"components",deprecated:"deprecated"},_t={studioFree:"studio-free",studioEnterprise:"studio-enterprise",sdk:"sdk"};class T{constructor(t,e,s=null){this._injector=t,this._registrationMap=e,this._defaultInstanceType=s}_getInstance(t,e){return e?"injectable"in e&&e.injectable!=null?this._injector.get(e.injectable):"useFactory"in e&&typeof e.useFactory=="function"?e.useFactory(t):"useValue"in e?e.useValue:null:null}_getDefaultInstance(t){return this._getInstance(t,this._defaultInstanceType)}_getInstanceByType(t){if(this._registrationMap.has(t)){const e=this._registrationMap.get(t);return this._getInstance(t,e)}}_getInstanceByPredicate(t){for(const[e,s]of this._registrationMap)if(typeof e=="function"&&e(t))return this._getInstance(t,s)}create(t=null){return t==null?this._getDefaultInstance(t):this._getInstanceByType(t)??this._getInstanceByPredicate(t)??this._getDefaultInstance(t)}static#t=this.\u0275fac=function(e){i.\u0275\u0275invalidFactory()};static#e=this.\u0275prov=i.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac,providedIn:"root"})}var C=l(97600);class It{static _createMappings(t){const e=new Map;return t=t??[],t.forEach(s=>{const r=s.predicate,u=(0,C.omit)(s,"predicate");e.set(r,u)}),e}static create(t){const{mappings:e,default:s,token:r}=t??{};return{provide:r,useFactory:u=>{const h=this._createMappings(e);return new T(u,h,s)},deps:[i.Injector]}}}class mt{setNext(t){return this.nextHandler=t,t}handle(t){if(this.nextHandler)return this.nextHandler.handle(t)}}const D=new i.InjectionToken("I18nTranslatesToken");var L=l(77207);class y{constructor(t,e){this._translateService=t,this._i18nTranslates=e,this._destroyed$=new c.Subject,this._init()}_init(){this._subscribe(),this._initDefaultLanguage()}_initDefaultLanguage(){const t=this._translateService.currentLang,e=this._translateService.defaultLang,s=t||e;s&&this._addTranslates(s)}_subscribe(){(0,c.merge)(this._translateService.onLangChange,this._translateService.onDefaultLangChange).pipe((0,p.takeUntil)(this._destroyed$)).subscribe(t=>this._addTranslates(t.lang))}_addTranslates(t){const e=(0,C.uniq)(this._i18nTranslates),s=this._translateService.defaultLang;e.forEach(r=>{const u=r[t],h=r[s];this._translateService.setTranslation(t,u,!0),this._translateService.setTranslation(s,h,!0)})}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}static#t=this.\u0275fac=function(e){return new(e||y)(i.\u0275\u0275inject(L.TranslateService),i.\u0275\u0275inject(D))};static#e=this.\u0275prov=i.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac})}class E{constructor(t){this._crtLibTranslateService=t}static forRoot(t){return{ngModule:E,providers:[{multi:!0,provide:D,useValue:t.i18n},y]}}static#t=this.\u0275fac=function(e){return new(e||E)(i.\u0275\u0275inject(y))};static#e=this.\u0275mod=i.\u0275\u0275defineNgModule({type:E});static#n=this.\u0275inj=i.\u0275\u0275defineInjector({imports:[L.TranslateModule]})}(function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(E,{exports:[L.TranslateModule]})})();function F(n){return Array.isArray(n)?n:[n]}function yt(n,t){return t.forEach(({replaceMacros:e,replaceValue:s})=>{n=n.map(r=>r===e?s??"":r)}),n}function Et(n,t){if(!n)return"";if(!t)return n;let e=[n];return t=F(t),e=q(e,t),e=yt(e,t),e.join("")}function q(n,t){if(!n)return[];let e=F(n);if(!t)return e;const s=F(t),r=s.map(({replaceMacros:u})=>u);return s.forEach(({searchValue:u,replaceMacros:h})=>{if(u&&h){const B=new RegExp(`(${h})`,"g"),Pt=e.map(W=>r.includes(W)?W:W.split(u).join(h).split(B));e=(0,C.flatten)(Pt)}}),e}var $t=l(90093);function bt(n){return function(t){Reflect.defineMetadata("requestType",n.requestType,t)}}function At(n){return t=>{const e=t.pipe((0,p.share)()),s=e.pipe((0,p.tap)(n),(0,p.take)(1));return(0,c.concat)(s,e)}}function vt(n){return t=>t.pipe((0,p.concatMap)((e,s)=>n(e,s).pipe((0,p.map)(r=>[e,r]))))}function Tt(n){return t=>t.pipe((0,p.mergeMap)((e,s)=>n(e,s).pipe((0,p.map)(r=>[e,r]))))}function St(n){return t=>t.pipe((0,p.mergeMap)((e,s)=>n(e,s).pipe((0,p.map)(()=>e))))}function Rt(n){return t=>t.pipe((0,p.switchMap)((e,s)=>n(e,s).pipe((0,p.map)(r=>[e,r]))))}function wt(n){return t=>t.pipe((0,p.switchMap)((e,s)=>n(e,s).pipe((0,p.map)(()=>e))))}function Ot(n){return t=>new c.Observable(e=>{const s=h=>n.run(()=>e.next(h)),r=h=>n.run(()=>e.error(h)),u=()=>n.run(()=>e.complete());return t.subscribe({next:s,error:r,complete:u})})}function jt(n){return t=>new c.Observable(e=>{const s=h=>n.runOutsideAngular(()=>e.next(h)),r=h=>n.runOutsideAngular(()=>e.error(h)),u=()=>n.runOutsideAngular(()=>e.complete());return t.subscribe({next:s,error:r,complete:u})})}var U=l(11685);class tt{static initialize(){U.config({disableDefaultAlphabetLength:!0,disableDefaultIdLength:!0,idLength:7}),U.characters("0123456789abcdefghijklmnopqrstuvwxyz")}static generateUnique(t,e="",s="_"){const r=new RegExp(`^${e}`);return e+t.replace(r,"")+s+U.generate()}}tt.initialize();const Mt=new i.InjectionToken("An abstraction over window.navigator object",{factory:()=>window.navigator,providedIn:"root"}),P=new i.InjectionToken("CURRENT_TAB_ID_TOKEN"),xt={provide:P,useValue:(0,J.generateGuid)()};function Nt(n,t){n=n.replace(/^#/,""),n.length===3&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]);let[e,s,r]=n.match(/.{2}/g);[e,s,r]=[parseInt(e,16),parseInt(s,16),parseInt(r,16)];const u=(e.length<2?"0":"")+e,h=(s.length<2?"0":"")+s,B=(r.length<2?"0":"")+r;return`rgba(${u},${h},${B},${t})`}const N=new i.InjectionToken("WindowToken",{providedIn:"root",factory:$});function $(){return window}const Ct={provide:N,useFactory:$};class S{constructor(t){this._window=t,this._hasFocus=!1,this._window.addEventListener("focus",()=>{this._hasFocus=!0}),this._window.addEventListener("blur",()=>{this._hasFocus=!1})}_getIsDocumentVisible(){return document.visibilityState!=="hidden"}get hasFocus(){return this._hasFocus}get isActive(){return this._getIsDocumentVisible()}focus(){this._window.focus()}static#t=this.\u0275fac=function(e){return new(e||S)(i.\u0275\u0275inject(N))};static#e=this.\u0275prov=i.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac,providedIn:"root"})}var Dt=l(82275);class R{constructor(t){this._injector=t}defineComponent(t,e,s=null){const r=(0,Dt.createCustomElement)(e,{injector:s||this._injector});customElements.get(t)||customElements.define(t,r)}static#t=this.\u0275fac=function(e){return new(e||R)(i.\u0275\u0275inject(i.Injector))};static#e=this.\u0275prov=i.\u0275\u0275defineInjectable({token:R,factory:R.\u0275fac,providedIn:"root"})}function Lt(n,t){return n.creatio.tabId=t,(0,c.of)(void 0)}const Ft={provide:i.APP_INITIALIZER,multi:!0,useFactory:(n,t)=>()=>Lt(n,t),deps:[N,P]};function Ut(n,t){return t.every(e=>et(n,e))}function et(n,t){const e=n.compatibleAPIs;return Boolean(e?.[t])}const k=new i.InjectionToken("LOCAL_STORAGE_SERVICE_CONFIG");class w{static forRoot(t={}){return{ngModule:w,providers:[{provide:k,useValue:t}]}}static#t=this.\u0275fac=function(e){return new(e||w)};static#e=this.\u0275mod=i.\u0275\u0275defineNgModule({type:w});static#n=this.\u0275inj=i.\u0275\u0275defineInjector({})}const Z="LOCAL_STORAGE_NOT_SUPPORTED";class O{constructor(t={}){this._isSupported=!1,this._prefix="ls",this._storageType="localStorage";const{prefix:e,storageType:s}=t;e!=null&&this._setPrefix(e),s!=null&&this._setStorageType(s),this._isSupported=this._checkSupport()}_deriveKey(t){return`${this._prefix}${t}`}_checkSupport(){try{const t=this._storageType in window&&window[this._storageType]!==null;if(t){this._webStorage=window[this._storageType];const e=this._deriveKey(`__${Math.round(Math.random()*1e7)}`);this._webStorage.setItem(e,""),this._webStorage.removeItem(e)}return t}catch(t){return console.error(t.message),!1}}_setPrefix(t){this._prefix=t;const e=".";this._prefix&&!this._prefix.endsWith(e)&&(this._prefix=this._prefix?`${this._prefix}${e}`:"")}_setStorageType(t){this._storageType=t}get(t){if(!this._isSupported)return console.warn(Z),null;const e=this._webStorage?this._webStorage.getItem(this._deriveKey(t)):null;if(!e||e==="null")return null;try{return JSON.parse(e)}catch{return null}}set(t,e){const s=e===void 0?null:JSON.stringify(e);if(!this._isSupported)return console.warn(Z),!1;try{this._webStorage&&this._webStorage.setItem(this._deriveKey(t),s)}catch(r){return console.error(r.message),!1}return!0}remove(...t){let e=!0;return t.forEach(s=>{this._isSupported||(console.warn(Z),e=!1);try{this._webStorage.removeItem(this._deriveKey(s))}catch(r){console.error(r.message),e=!1}}),e}static#t=this.\u0275fac=function(e){return new(e||O)(i.\u0275\u0275inject(k,8))};static#e=this.\u0275prov=i.\u0275\u0275defineInjectable({token:O,factory:O.\u0275fac,providedIn:"root"})}},18877:(nt,j,l)=>{l.d(j,{Z:()=>b});const i={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let c;const p=new Uint8Array(16);function M(){if(!c&&(c=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!c))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return c(p)}const d=[];for(let o=0;o<256;++o)d.push((o+256).toString(16).slice(1));function _(o,a=0){return d[o[a+0]]+d[o[a+1]]+d[o[a+2]]+d[o[a+3]]+"-"+d[o[a+4]]+d[o[a+5]]+"-"+d[o[a+6]]+d[o[a+7]]+"-"+d[o[a+8]]+d[o[a+9]]+"-"+d[o[a+10]]+d[o[a+11]]+d[o[a+12]]+d[o[a+13]]+d[o[a+14]]+d[o[a+15]]}function V(o,a=0){const f=_(o,a);if(!validate(f))throw TypeError("Stringified UUID is invalid");return f}const K=null;function x(o,a,f){if(i.randomUUID&&!a&&!o)return i.randomUUID();o=o||{};const g=o.random||(o.rng||M)();if(g[6]=g[6]&15|64,g[8]=g[8]&63|128,a){f=f||0;for(let m=0;m<16;++m)a[f+m]=g[m];return a}return _(g)}const b=x}}]);
